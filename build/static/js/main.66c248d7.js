/*! For license information please see main.66c248d7.js.LICENSE.txt */
(()=>{var e={7174:(e,t,n)=>{"use strict";const i=n(5819);class r extends Error{constructor(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let o;super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,r),this.name="StatusError",this.message=e.statusMessage,this.statusCode=e.status,this.res=e,this.json=e.json.bind(e),this.text=e.text.bind(e),this.arrayBuffer=e.arrayBuffer.bind(e);Object.defineProperty(this,"responseBody",{get:()=>(o||(o=this.arrayBuffer()),o)}),this.headers={};for(const[r,s]of e.headers.entries())this.headers[r.toLowerCase()]=s}}e.exports=i(((e,t,n,i,o)=>async function(s,a){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s=o+(s||"");let l=new URL(s);if(i||(i={}),l.username&&(i.Authorization="Basic "+btoa(l.username+":"+l.password),l=new URL(l.protocol+"//"+l.host+l.pathname+l.search)),"https:"!==l.protocol&&"http:"!==l.protocol)throw new Error("Unknown protocol, ".concat(l.protocol));if(a)if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||"string"===typeof a);else{if("object"!==typeof a)throw new Error("Unknown body type.");a=JSON.stringify(a),i["Content-Type"]="application/json"}c=new Headers({...i||{},...c});const u=await fetch(l,{method:t,headers:c,body:a});if(u.statusCode=u.status,!e.has(u.status))throw new r(u);return"json"===n?u.json():"buffer"===n?u.arrayBuffer():"string"===n?u.text():u}))},5819:e=>{"use strict";const t=new Set(["json","buffer","string"]);e.exports=e=>function(){const n=new Set;let i,r,o,s="";for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return c.forEach((e=>{if("string"===typeof e)if(e.toUpperCase()===e){if(i){const t="Can't set method to ".concat(e,", already set to ").concat(i,".");throw new Error(t)}i=e}else if(e.startsWith("http:")||e.startsWith("https:"))s=e;else{if(!t.has(e))throw new Error("Unknown encoding, ".concat(e));r=e}else if("number"===typeof e)n.add(e);else{if("object"!==typeof e)throw new Error("Unknown type: ".concat(typeof e));if(Array.isArray(e)||e instanceof Set)e.forEach((e=>n.add(e)));else{if(o)throw new Error("Cannot set headers twice.");o=e}}})),i||(i="GET"),0===n.size&&n.add(200),e(n,i,r,o,s)}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,s){if("function"!==typeof i)throw new TypeError("The listener must be a function");var a=new r(i,o||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,r,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,r),!0;case 5:return u.fn.call(u.context,t,i,r,o),!0;case 6:return u.fn.call(u.context,t,i,r,o,s),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,i);break;case 4:u[l].fn.call(u[l].context,t,i,r);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||i&&a.context!==i||s(this,o);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||r&&!a[c].once||i&&a[c].context!==i)&&l.push(a[c]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},3240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},s=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var i,r=t.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!o)return!1;for(i in e);return"undefined"===typeof i||t.call(e,i)},a=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(r)return r(e,n).value}return e[n]};e.exports=function e(){var t,n,i,r,l,u,d=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"===typeof d&&(f=d,d=arguments[1]||{},h=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});h<p;++h)if(null!=(t=arguments[h]))for(n in t)i=c(d,n),d!==(r=c(t,n))&&(f&&r&&(s(r)||(l=o(r)))?(l?(l=!1,u=i&&o(i)?i:[]):u=i&&s(i)?i:{},a(d,{name:n,newValue:e(f,u,r)})):"undefined"!==typeof r&&a(d,{name:n,newValue:r}));return d}},4403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,i=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,l="";function u(e){return e?e.replace(c,l):l}e.exports=function(e,c){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];c=c||{};var d=1,h=1;function p(e){var t=e.match(n);t&&(d+=t.length);var i=e.lastIndexOf("\n");h=~i?e.length-i:h+e.length}function f(){var e={line:d,column:h};return function(t){return t.position=new g(e),S(),t}}function g(e){this.start=e,this.end={line:d,column:h},this.source=c.source}g.prototype.content=e;var m=[];function v(t){var n=new Error(c.source+":"+d+":"+h+": "+t);if(n.reason=t,n.filename=c.source,n.line=d,n.column=h,n.source=e,!c.silent)throw n;m.push(n)}function y(t){var n=t.exec(e);if(n){var i=n[0];return p(i),e=e.slice(i.length),n}}function S(){y(i)}function C(e){var t;for(e=e||[];t=b();)!1!==t&&e.push(t);return e}function b(){var t=f();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;l!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,l===e.charAt(n-1))return v("End of comment missing");var i=e.slice(2,n-2);return h+=2,p(i),e=e.slice(n),h+=2,t({type:"comment",comment:i})}}function w(){var e=f(),n=y(r);if(n){if(b(),!y(o))return v("property missing ':'");var i=y(s),c=e({type:"declaration",property:u(n[0].replace(t,l)),value:i?u(i[0].replace(t,l)):l});return y(a),c}}return S(),function(){var e,t=[];for(C(t);e=w();)!1!==e&&(t.push(e),C(t));return t}()}},8685:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});new(n(9859).AgentConfig),r(n(8040),t)},1922:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLoggingListener=void 0;const s=o(n(2250)),a=n(9099),c=n(260);t.ConsoleLoggingListener=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.LogLevel.None;this.privLogPath=void 0,this.privEnableConsoleOutput=!0,this.privLogLevelFilter=e}set logPath(e){c.Contracts.throwIfNullOrUndefined(s.openSync,"\nFile System access not available"),this.privLogPath=e}set enableConsoleOutput(e){this.privEnableConsoleOutput=e}onEvent(e){if(e.eventType>=this.privLogLevelFilter){const t=this.toString(e);if(this.logCallback&&this.logCallback(t),this.privLogPath&&s.writeFileSync(this.privLogPath,t+"\n",{flag:"a+"}),this.privEnableConsoleOutput)switch(e.eventType){case a.LogLevel.Debug:console.debug(t);break;case a.LogLevel.Info:console.info(t);break;case a.LogLevel.Warning:console.warn(t);break;case a.LogLevel.Error:console.error(t);break;default:console.log(t)}}}toString(e){const t=["".concat(e.eventTime),"".concat(e.name)],n=e;for(const i in n)if(i&&e.hasOwnProperty(i)&&"eventTime"!==i&&"eventType"!==i&&"eventId"!==i&&"name"!==i&&"constructor"!==i){const e=n[i];let r="<NULL>";void 0!==e&&null!==e&&(r="number"===typeof e||"string"===typeof e?e.toString():JSON.stringify(e)),t.push("".concat(i,": ").concat(r))}return t.join(" | ")}}},2277:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1922),t),r(n(2371),t),r(n(4218),t),r(n(9868),t),r(n(3912),t),r(n(2965),t),r(n(4955),t),r(n(4057),t),r(n(7882),t),r(n(2588),t),r(n(3593),t)},9868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileAudioSource=void 0;const i=n(9859),r=n(2307),o=n(4175);t.FileAudioSource=class{constructor(e,t,n){this.privStreams={},this.privHeaderEnd=44,this.privId=n||r.createNoDashGuid(),this.privEvents=new r.EventSource,this.privSource=e,"undefined"!==typeof window&&"undefined"!==typeof Blob&&this.privSource instanceof Blob?this.privFilename=e.name:this.privFilename=t||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const e=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new r.AudioSourceErrorEvent(e,"")),Promise.reject(e)}this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.onEvent(new r.AudioSourceReadyEvent(this.privId))}id(){return this.privId}async attach(e){this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,e));const t=await this.upload(e);return this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,e)),Promise.resolve({detach:async()=>{t.readEnded(),delete this.privStreams[e],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,e)),await this.turnOff()},id:()=>e,read:()=>t.read()})}detach(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,e)))}turnOff(){for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&!t.isClosed&&t.close()}return this.onEvent(new r.AudioSourceOffEvent(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then((e=>Promise.resolve({bitspersample:e.bitsPerSample,channelcount:e.channels,connectivity:i.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:e.samplesPerSec,type:i.type.File})))}readHeader(){const e=this.privSource.slice(0,4296),t=new r.Deferred,n=e=>{const n=new DataView(e),i=e=>String.fromCharCode(n.getUint8(e),n.getUint8(e+1),n.getUint8(e+2),n.getUint8(e+3));if("RIFF"!==i(0))return void t.reject("Invalid WAV header in file, RIFF was not found");if("WAVE"!==i(8)||"fmt "!==i(12))return void t.reject("Invalid WAV header in file, WAVEfmt was not found");const r=n.getInt32(16,!0),s=n.getUint16(22,!0),a=n.getUint32(24,!0),c=n.getUint16(34,!0);let l=36+Math.max(r-16,0);for(;"data"!==i(l);l+=2)if(l>4288)return void t.reject("Invalid WAV header in file, data block was not found");this.privHeaderEnd=l+8,t.resolve(o.AudioStreamFormat.getWaveFormatPCM(a,c,s))};if("undefined"!==typeof window&&"undefined"!==typeof Blob&&e instanceof Blob){const t=new FileReader;t.onload=e=>{const t=e.target.result;n(t)},t.readAsArrayBuffer(e)}else{const t=e;n(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}return t.promise}async upload(e){const t=t=>{const n="Error occurred while processing '".concat(this.privFilename,"'. ").concat(t);throw this.onEvent(new r.AudioStreamNodeErrorEvent(this.privId,e,n)),new Error(n)};try{await this.turnOn();const n=await this.privAudioFormatPromise,i=new r.ChunkedArrayBufferStream(n.avgBytesPerSec/10,e);this.privStreams[e]=i;const o=this.privSource.slice(this.privHeaderEnd),s=e=>{i.isClosed||(i.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()}),i.close())};if("undefined"!==typeof window&&"undefined"!==typeof Blob&&o instanceof Blob){const e=new FileReader;e.onerror=e=>t(e.toString()),e.onload=e=>{const t=e.target.result;s(t)},e.readAsArrayBuffer(o)}else{const e=o;s(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}return i}catch(n){t(n)}}onEvent(e){this.privEvents.onEvent(e),r.Events.instance.onEvent(e)}}},2371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MicAudioSource=t.AudioWorkletSourceURLPropertyName=void 0;const i=n(9859),r=n(2307),o=n(4175);t.AudioWorkletSourceURLPropertyName="MICROPHONE-WorkletSourceUrl";class s{constructor(e,t,n,i){this.privRecorder=e,this.deviceId=t,this.privStreams={},this.privOutputChunkSize=s.AUDIOFORMAT.avgBytesPerSec/10,this.privId=n||r.createNoDashGuid(),this.privEvents=new r.EventSource,this.privMediaStream=i||null,this.privIsClosing=!1}get format(){return Promise.resolve(s.AUDIOFORMAT)}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new r.Deferred;try{this.createAudioContext()}catch(n){if(n instanceof Error){const e=n;this.privInitializeDeferral.reject(e.name+": "+e.message)}else this.privInitializeDeferral.reject(n);return this.privInitializeDeferral.promise}const e=window.navigator;let t=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;if(e.mediaDevices&&(t=(t,n,i)=>{e.mediaDevices.getUserMedia(t).then(n).catch(i)}),t){const e=()=>{this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()):t({audio:!this.deviceId||{deviceId:this.deviceId},video:!1},(e=>{this.privMediaStream=e,this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()}),(e=>{const t="Error occurred during microphone initialization: ".concat(e);this.privInitializeDeferral.reject(t),this.onEvent(new r.AudioSourceErrorEvent(this.privId,t))}))};"suspended"===this.privContext.state?this.privContext.resume().then(e).catch((e=>{this.privInitializeDeferral.reject("Failed to initialize audio context: ".concat(e))})):e()}else{const e="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(e),this.onEvent(new r.AudioSourceErrorEvent(e,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(e){return this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,e)),this.listen(e).then((t=>(this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,e)),{detach:async()=>(t.readEnded(),delete this.privStreams[e],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,e)),this.turnOff()),id:()=>e,read:()=>t.read()})))}detach(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,e)))}async turnOff(){for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&t.close()}this.onEvent(new r.AudioSourceOffEvent(this.privId)),this.privInitializeDeferral&&(await this.privInitializeDeferral,this.privInitializeDeferral=null),await this.destroyAudioContext()}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then((e=>({bitspersample:s.AUDIOFORMAT.bitsPerSample,channelcount:s.AUDIOFORMAT.channels,connectivity:i.connectivity.Unknown,manufacturer:"Speech SDK",model:e,samplerate:s.AUDIOFORMAT.samplesPerSec,type:i.type.Microphones})))}setProperty(e,n){if(e!==t.AudioWorkletSourceURLPropertyName)throw new Error("Property '"+e+"' is not supported on Microphone.");this.privRecorder.setWorkletUrl(n)}getMicrophoneLabel(){const e="microphone";if(void 0!==this.privMicrophoneLabel)return Promise.resolve(this.privMicrophoneLabel);if(void 0===this.privMediaStream||!this.privMediaStream.active)return Promise.resolve(e);this.privMicrophoneLabel=e;const t=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(void 0===t)return Promise.resolve(this.privMicrophoneLabel);const n=new r.Deferred;return navigator.mediaDevices.enumerateDevices().then((e=>{for(const n of e)if(n.deviceId===t){this.privMicrophoneLabel=n.label;break}n.resolve(this.privMicrophoneLabel)}),(()=>n.resolve(this.privMicrophoneLabel))),n.promise}async listen(e){await this.turnOn();const t=new r.ChunkedArrayBufferStream(this.privOutputChunkSize,e);this.privStreams[e]=t;try{this.privRecorder.record(this.privContext,this.privMediaStream,t)}catch(n){throw this.onEvent(new r.AudioStreamNodeErrorEvent(this.privId,e,n)),n}return t}onEvent(e){this.privEvents.onEvent(e),r.Events.instance.onEvent(e)}createAudioContext(){this.privContext||(this.privContext=o.AudioStreamFormatImpl.getAudioContext(s.AUDIOFORMAT.samplesPerSec))}async destroyAudioContext(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let e=!1;"close"in this.privContext&&(e=!0),e?this.privIsClosing||(this.privIsClosing=!0,await this.privContext.close(),this.privContext=null,this.privIsClosing=!1):null!==this.privContext&&"running"===this.privContext.state&&await this.privContext.suspend()}}t.MicAudioSource=s,s.AUDIOFORMAT=o.AudioStreamFormat.getDefaultInputFormat()},3912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PcmRecorder=void 0;const i=n(2307);t.PcmRecorder=class{constructor(e){this.privStopInputOnRelease=e}record(e,t,n){const r=new i.RiffPcmEncoder(e.sampleRate,16e3),o=e.createMediaStreamSource(t),s=()=>{const i=(()=>{let t=0;try{return e.createScriptProcessor(t,1,1)}catch(n){t=2048;let i=e.sampleRate;for(;t<16384&&i>=32e3;)t<<=1,i>>=1;return e.createScriptProcessor(t,1,1)}})();i.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0);if(n&&!n.isClosed){const e=r.encode(t);e&&n.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}},o.connect(i),i.connect(e.destination),this.privMediaResources={scriptProcessorNode:i,source:o,stream:t}},a=!!this.privSpeechProcessorScript&&"ignore"===this.privSpeechProcessorScript.toLowerCase();if(e.audioWorklet&&!a){if(!this.privSpeechProcessorScript){const e=new Blob(["class SP extends AudioWorkletProcessor {\n                    constructor(options) {\n                      super(options);\n                    }\n                    process(inputs, outputs) {\n                      const input = inputs[0];\n                      const output = [];\n                      for (let channel = 0; channel < input.length; channel += 1) {\n                        output[channel] = input[channel];\n                      }\n                      this.port.postMessage(output[0]);\n                      return true;\n                    }\n                  }\n                  registerProcessor('speech-processor', SP);"],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(e)}e.audioWorklet.addModule(this.privSpeechProcessorScript).then((()=>{const i=new AudioWorkletNode(e,"speech-processor");i.port.onmessage=e=>{const t=e.data;if(n&&!n.isClosed){const e=r.encode(t);e&&n.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}},o.connect(i),i.connect(e.destination),this.privMediaResources={scriptProcessorNode:i,source:o,stream:t}})).catch((()=>{s()}))}else try{s()}catch(c){throw new Error("Unable to start audio worklet node for PCMRecorder: ".concat(c))}}releaseMediaResources(e){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(e.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach((e=>e.stop())),this.privMediaResources.source=null))}setWorkletUrl(e){this.privSpeechProcessorScript=e}}},7882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyInfo=void 0;const i=n(8040);class r{constructor(e,t,n,i){this.privProxyHostName=e,this.privProxyPort=t,this.privProxyUserName=n,this.privProxyPassword=i}static fromParameters(e){return new r(e.getProperty(i.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(e.getProperty(i.PropertyId.SpeechServiceConnection_ProxyPort),10),e.getProperty(i.PropertyId.SpeechServiceConnection_ProxyUserName),e.getProperty(i.PropertyId.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(e){return this.fromParameters(e.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}}t.ProxyInfo=r},4057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayableAudioNode=void 0;t.ReplayableAudioNode=class{constructor(e,t){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=e,this.privBytesPerSecond=t}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&0!==this.privBuffers.length){const e=this.privReplayOffset-this.privBufferStartOffset;let t=Math.round(e*this.privBytesPerSecond*1e-7);0!==t%2&&t++;let n=0;for(;n<this.privBuffers.length&&t>=this.privBuffers[n].chunk.buffer.byteLength;)t-=this.privBuffers[n++].chunk.buffer.byteLength;if(n<this.privBuffers.length){const e=this.privBuffers[n].chunk.buffer.slice(t);return this.privReplayOffset+=e.byteLength/this.privBytesPerSecond*1e7,n===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:e,isEnd:!1,timeReceived:this.privBuffers[n].chunk.timeReceived})}}return this.privAudioNode.read().then((e=>(e&&e.buffer&&(this.privBuffers.push(new n(e,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=e.buffer.byteLength),e)))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&0!==this.privBuffers.length&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(e){if(void 0===this.privBuffers||0===this.privBuffers.length)return;this.privLastShrinkOffset=e;const t=e-this.privBufferStartOffset;let n=Math.round(t*this.privBytesPerSecond*1e-7),i=0;for(;i<this.privBuffers.length&&n>=this.privBuffers[i].chunk.buffer.byteLength;)n-=this.privBuffers[i++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-n/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(i)}findTimeAtOffset(e){if(e<this.privBufferStartOffset||void 0===this.privBuffers)return 0;for(const t of this.privBuffers){const n=t.byteOffset/this.privBytesPerSecond*1e7,i=n+t.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(e>=n&&e<=i)return t.chunk.timeReceived}return 0}};class n{constructor(e,t,n){this.chunk=e,this.serial=t,this.byteOffset=n}}},3593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestConfigBase=void 0;class n{static get requestOptions(){return n.privDefaultRequestOptions}static get configParams(){return n.privDefaultParams}static get restErrors(){return n.privRestErrors}}t.RestConfigBase=n,n.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4},n.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."},n.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"}},2588:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RestMessageAdapter=t.RestRequestType=void 0;const r=i(n(7174)),o=n(2307);var s;!function(e){e.Get="GET",e.Post="POST",e.Delete="DELETE",e.File="file"}(s=t.RestRequestType||(t.RestRequestType={}));t.RestMessageAdapter=class{constructor(e){if(!e)throw new o.ArgumentNullError("configParams");this.privHeaders=e.headers,this.privIgnoreCache=e.ignoreCache}static extractHeaderValue(e,t){let n="";try{const i=t.trim().split(/[\r\n]+/),r={};i.forEach((e=>{const t=e.split(": "),n=t.shift().toLowerCase(),i=t.join(": ");r[n]=i})),n=r[e.toLowerCase()]}catch(i){}return n}set options(e){this.privHeaders=e.headers,this.privIgnoreCache=e.ignoreCache}setHeaders(e,t){this.privHeaders[e]=t}request(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const a=new o.Deferred,c=e===s.File?"POST":e,l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e;return{data:JSON.stringify(t),headers:JSON.stringify(e.headers),json:t,ok:e.statusCode>=200&&e.statusCode<300,status:e.statusCode,statusText:t.error?t.error.message:n.statusText?n.statusText:n.statusMessage}};return this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),e===s.Post&&i&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),(i=>{r.default(t,c,this.privHeaders,200,201,202,204,400,401,402,403,404)(""===this.queryParams(n)?"":"?".concat(this.queryParams(n)),i).then((async t=>{if(e===s.Delete||204===t.statusCode)a.resolve(l(t));else try{const e=await t.json();a.resolve(l(t,e))}catch{a.resolve(l(t))}})).catch((e=>{a.reject(e)}))})(i),a.promise}queryParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&")}}},2965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketConnection=void 0;const i=n(2307),r=n(4955);t.WebsocketConnection=class{constructor(e,t,n,o,s){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6?arguments[6]:void 0;if(this.privIsDisposed=!1,!e)throw new i.ArgumentNullError("uri");if(!o)throw new i.ArgumentNullError("messageFormatter");this.privMessageFormatter=o;let l="",u=0;if(t)for(const i in t)if(i){l+=0===u&&-1===e.indexOf("?")?"?":"&";l+=encodeURIComponent(i);let n=t[i];n&&(n=encodeURIComponent(n),l+="=".concat(n)),u++}if(n)for(const i in n)if(i){l+=0===u&&-1===e.indexOf("?")?"?":"&";const t=encodeURIComponent(n[i]);l+="".concat(i,"=").concat(t),u++}this.privUri=e+l,this.privId=c||i.createNoDashGuid(),this.privConnectionMessageAdapter=new r.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,s,n,a)}async dispose(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&await this.privConnectionMessageAdapter.close()}isDisposed(){return this.privIsDisposed}get id(){return this.privId}get uri(){return this.privUri}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(e){return this.privConnectionMessageAdapter.send(e)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}}},4955:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketMessageAdapter=void 0;const a=o(n(8632)),c=o(n(3678)),l=s(n(6308)),u=s(n(9645)),d=s(n(4573)),h=n(8643),p=n(2307);class f{constructor(e,t,n,i,r,o){if(!e)throw new p.ArgumentNullError("uri");if(!n)throw new p.ArgumentNullError("messageFormatter");this.proxyInfo=i,this.privConnectionEvents=new p.EventSource,this.privConnectionId=t,this.privMessageFormatter=n,this.privConnectionState=p.ConnectionState.None,this.privUri=e,this.privHeaders=r,this.privEnableCompression=o,this.privHeaders[h.HeaderNames.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===p.ConnectionState.Disconnected)return Promise.reject("Cannot open a connection that is in ".concat(this.privConnectionState," state"));if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new p.Deferred,this.privCertificateValidatedDeferral=new p.Deferred,this.privConnectionState=p.ConnectionState.Connecting;try{if("undefined"===typeof WebSocket||f.forceNpmWebSocket){var e,t;const n={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve(),n.agent=this.getAgent();let i=new URL(this.privUri).protocol;"wss:"===(null===(e=i)||void 0===e?void 0:e.toLocaleLowerCase())?i="https:":"ws:"===(null===(t=i)||void 0===t?void 0:t.toLocaleLowerCase())&&(i="http:"),n.agent.protocol=i,this.privWebsocketClient=new d.default(this.privUri,n)}else this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new p.Queue,this.privDisconnectDeferral=new p.Deferred,this.privSendMessageQueue=new p.Queue,this.processSendQueue().catch((e=>{p.Events.instance.onEvent(new p.BackgroundEvent(e))}))}catch(n){return this.privConnectionEstablishDeferral.resolve(new p.ConnectionOpenResponse(500,n)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new p.ConnectionStartEvent(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then((()=>{this.privConnectionState=p.ConnectionState.Connected,this.onEvent(new p.ConnectionEstablishedEvent(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new p.ConnectionOpenResponse(200,""))}),(e=>{this.privConnectionEstablishDeferral.reject(e)}))},this.privWebsocketClient.onerror=e=>{this.onEvent(new p.ConnectionErrorEvent(this.privConnectionId,e.message,e.type)),this.privLastErrorReceived=e.message},this.privWebsocketClient.onclose=e=>{this.privConnectionState===p.ConnectionState.Connecting?(this.privConnectionState=p.ConnectionState.Disconnected,this.privConnectionEstablishDeferral.resolve(new p.ConnectionOpenResponse(e.code,e.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=p.ConnectionState.Disconnected,this.privWebsocketClient=null,this.onEvent(new p.ConnectionClosedEvent(this.privConnectionId,e.code,e.reason))),this.onClose(e.code,e.reason).catch((e=>{p.Events.instance.onEvent(new p.BackgroundEvent(e))}))},this.privWebsocketClient.onmessage=e=>{const t=(new Date).toISOString();if(this.privConnectionState===p.ConnectionState.Connected){const n=new p.Deferred;if(this.privReceivingMessageQueue.enqueueFromPromise(n.promise),e.data instanceof ArrayBuffer){const i=new p.RawWebsocketMessage(p.MessageType.Binary,e.data);this.privMessageFormatter.toConnectionMessage(i).then((e=>{this.onEvent(new p.ConnectionMessageReceivedEvent(this.privConnectionId,t,e)),n.resolve(e)}),(e=>{n.reject("Invalid binary message format. Error: ".concat(e))}))}else{const i=new p.RawWebsocketMessage(p.MessageType.Text,e.data);this.privMessageFormatter.toConnectionMessage(i).then((e=>{this.onEvent(new p.ConnectionMessageReceivedEvent(this.privConnectionId,t,e)),n.resolve(e)}),(e=>{n.reject("Invalid text message format. Error: ".concat(e))}))}}},this.privConnectionEstablishDeferral.promise}send(e){if(this.privConnectionState!==p.ConnectionState.Connected)return Promise.reject("Cannot send on connection that is in ".concat(p.ConnectionState[this.privConnectionState]," state"));const t=new p.Deferred,n=new p.Deferred;return this.privSendMessageQueue.enqueueFromPromise(n.promise),this.privMessageFormatter.fromConnectionMessage(e).then((i=>{n.resolve({Message:e,RawWebsocketMessage:i,sendStatusDeferral:t})}),(e=>{n.reject("Error formatting the message. ".concat(e))})),t.promise}read(){return this.privConnectionState!==p.ConnectionState.Connected?Promise.reject("Cannot read on connection that is in ".concat(this.privConnectionState," state")):this.privReceivingMessageQueue.dequeue()}close(e){return this.privWebsocketClient?(this.privConnectionState!==p.ConnectionState.Disconnected&&this.privWebsocketClient.close(1e3,e||"Normal closure by client"),this.privDisconnectDeferral.promise):Promise.resolve()}get events(){return this.privConnectionEvents}sendRawMessage(e){try{return e?(this.onEvent(new p.ConnectionMessageSentEvent(this.privConnectionId,(new Date).toISOString(),e.Message)),this.isWebsocketOpen?(this.privWebsocketClient.send(e.RawWebsocketMessage.payload),Promise.resolve()):Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+e.Message.id+" "+(new Error).stack)):Promise.resolve()}catch(t){return Promise.reject("websocket send error: ".concat(t))}}async onClose(e,t){const n="Connection closed. ".concat(e,": ").concat(t);this.privConnectionState=p.ConnectionState.Disconnected,this.privDisconnectDeferral.resolve(),await this.privReceivingMessageQueue.drainAndDispose((()=>{}),n),await this.privSendMessageQueue.drainAndDispose((e=>{e.sendStatusDeferral.reject(n)}),n)}async processSendQueue(){for(;;){const t=this.privSendMessageQueue.dequeue(),n=await t;if(!n)return;try{await this.sendRawMessage(n),n.sendStatusDeferral.resolve()}catch(e){n.sendStatusDeferral.reject(e)}}}onEvent(e){this.privConnectionEvents.onEvent(e),p.Events.instance.onEvent(e)}getAgent(){const e=new l.default.Agent(this.createConnection);return void 0!==this.proxyInfo&&void 0!==this.proxyInfo.HostName&&this.proxyInfo.Port>0&&(e.proxyInfo=this.proxyInfo),e}static GetProxyAgent(e){const t={host:e.HostName,port:e.Port};e.UserName?t.headers={"Proxy-Authentication":"Basic "+new Buffer("".concat(e.UserName,":").concat(void 0===e.Password?"":e.Password)).toString("base64")}:t.headers={},t.headers.requestOCSP="true";return new u.default(t)}createConnection(e,t){let n;if(t={...t,requestOCSP:!0,servername:t.host},this.proxyInfo){const i=f.GetProxyAgent(this.proxyInfo);n=new Promise(((n,r)=>{i.callback(e,t,((e,t)=>{e?r(e):n(t)}))}))}else n=t.secureEndpoint?Promise.resolve(c.connect(t)):Promise.resolve(a.connect(t));return n}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}t.WebsocketMessageAdapter=f,f.forceNpmWebSocket=!1},3355:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddedLmIntent=void 0;t.AddedLmIntent=class{constructor(e,t){this.modelImpl=e,this.intentName=t}}},5619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgentConfig=void 0;t.AgentConfig=class{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(e){this.iPrivConfig=e}}},9290:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarSynthesisAdapter=void 0;const i=n(8040),r=n(9859);class o extends r.SynthesisAdapterBase{constructor(e,t,n,i,r){super(e,t,n,void 0),this.privAvatarSynthesizer=i,this.privSynthesizer=i,this.privAvatarConfig=r}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(void 0)}setSpeechConfigSynthesisSection(){var e,t,n,r,o,s,a,c;this.privSynthesizerConfig.synthesisVideoSection={format:{bitrate:null===(e=this.privAvatarConfig.videoFormat)||void 0===e?void 0:e.bitrate,codec:null===(t=this.privAvatarConfig.videoFormat)||void 0===t?void 0:t.codec,crop:{bottomRight:{x:null===(n=this.privAvatarConfig.videoFormat)||void 0===n||null===(n=n.cropRange)||void 0===n||null===(n=n.bottomRight)||void 0===n?void 0:n.x,y:null===(r=this.privAvatarConfig.videoFormat)||void 0===r||null===(r=r.cropRange)||void 0===r||null===(r=r.bottomRight)||void 0===r?void 0:r.y},topLeft:{x:null===(o=this.privAvatarConfig.videoFormat)||void 0===o||null===(o=o.cropRange)||void 0===o||null===(o=o.topLeft)||void 0===o?void 0:o.x,y:null===(s=this.privAvatarConfig.videoFormat)||void 0===s||null===(s=s.cropRange)||void 0===s||null===(s=s.topLeft)||void 0===s?void 0:s.y}},resolution:{height:null===(a=this.privAvatarConfig.videoFormat)||void 0===a?void 0:a.height,width:null===(c=this.privAvatarConfig.videoFormat)||void 0===c?void 0:c.width}},protocol:{name:"WebRTC",webrtcConfig:{clientDescription:btoa(this.privSynthesizerConfig.parameters.getProperty(i.PropertyId.TalkingAvatarService_WebRTC_SDP)),iceServers:this.privAvatarSynthesizer.iceServers}},talkingAvatar:{background:{color:this.privAvatarConfig.backgroundColor},character:this.privAvatarConfig.character,customized:this.privAvatarConfig.customized,style:this.privAvatarConfig.style}}}onAvatarEvent(e){if(this.privAvatarSynthesizer.avatarEventReceived){const n=new i.AvatarEventArgs(e.Data.Offset,e.Data.Name);try{this.privAvatarSynthesizer.avatarEventReceived(this.privAvatarSynthesizer,n)}catch(t){}}}}t.AvatarSynthesisAdapter=o},2070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CognitiveSubscriptionKeyAuthentication=void 0;const i=n(2307),r=n(8643),o=n(7339);t.CognitiveSubscriptionKeyAuthentication=class{constructor(e){if(!e)throw new i.ArgumentNullError("subscriptionKey");this.privAuthInfo=new o.AuthInfo(r.HeaderNames.AuthKey,e)}fetch(e){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(e){return Promise.resolve(this.privAuthInfo)}}},7487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CognitiveTokenAuthentication=void 0;const i=n(2307),r=n(7339),o=n(8643);class s{constructor(e,t){if(!e)throw new i.ArgumentNullError("fetchCallback");if(!t)throw new i.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=t}fetch(e){return this.privFetchCallback(e).then((e=>new r.AuthInfo(o.HeaderNames.Authorization,void 0===e?void 0:s.privTokenPrefix+e)))}fetchOnExpiry(e){return this.privFetchOnExpiryCallback(e).then((e=>new r.AuthInfo(o.HeaderNames.Authorization,void 0===e?void 0:s.privTokenPrefix+e)))}}t.CognitiveTokenAuthentication=s,s.privTokenPrefix="Bearer "},2679:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionFactoryBase=void 0;const i=n(9859),r=n(8040),o=n(7237);t.ConnectionFactoryBase=class{static getHostSuffix(e){if(e){if(e.toLowerCase().startsWith("china"))return".azure.cn";if(e.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(e,t,n){new Map([[r.PropertyId.Speech_SegmentationSilenceTimeoutMs,o.QueryParameterNames.SegmentationSilenceTimeoutMs],[r.PropertyId.SpeechServiceConnection_EnableAudioLogging,o.QueryParameterNames.EnableAudioLogging],[r.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,o.QueryParameterNames.EndSilenceTimeoutMs],[r.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,o.QueryParameterNames.InitialSilenceTimeoutMs],[r.PropertyId.SpeechServiceResponse_PostProcessingOption,o.QueryParameterNames.Postprocessing],[r.PropertyId.SpeechServiceResponse_ProfanityOption,o.QueryParameterNames.Profanity],[r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,o.QueryParameterNames.EnableWordLevelTimestamps],[r.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,o.QueryParameterNames.StableIntermediateThreshold]]).forEach(((i,r)=>{this.setUrlParameter(r,i,e,t,n)}));const s=JSON.parse(e.parameters.getProperty(i.ServicePropertiesPropertyName,"{}"));Object.keys(s).forEach((e=>{t[e]=s[e]}))}setUrlParameter(e,t,n,i,r){const o=n.parameters.getProperty(e,void 0);!o||r&&-1!==r.search(t)||(i[t]=o.toLocaleLowerCase())}}},8588:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationServiceRecognizer=void 0;const i=n(8040),r=n(9859);class o extends r.ServiceRecognizerBase{constructor(e,t,n,i,r){super(e,t,n,i,r),this.handleSpeechPhraseMessage=async e=>this.handleSpeechPhrase(e),this.handleSpeechHypothesisMessage=e=>this.handleSpeechHypothesis(e)}processTypeSpecificMessages(e){}handleRecognizedCallback(e,t,n){}handleRecognizingCallback(e,t,n){}async processSpeechMessages(e){let t=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":this.handleSpeechHypothesisMessage&&this.handleSpeechHypothesisMessage(e.textBody),t=!0;break;case"speech.phrase":this.handleSpeechPhraseMessage&&await this.handleSpeechPhraseMessage(e.textBody),t=!0}return t}cancelRecognition(e,t,n,i,r){}async handleSpeechPhrase(e){const t=r.SimpleSpeechPhrase.fromJSON(e),n=r.EnumTranslation.implTranslateRecognitionResult(t.RecognitionStatus);let o;const s=new i.PropertyCollection;s.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,e);const a=t.Offset+this.privRequestSession.currentTurnAudioOffset;let c=a;if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+t.Offset+t.Duration),i.ResultReason.Canceled===n){const e=r.EnumTranslation.implTranslateCancelResult(t.RecognitionStatus),n=r.EnumTranslation.implTranslateCancelErrorCode(t.RecognitionStatus);await this.cancelRecognitionLocal(e,n,r.EnumTranslation.implTranslateErrorDetails(n))}else if(!this.privRequestSession.isSpeechEnded||n!==i.ResultReason.NoMatch||t.RecognitionStatus===r.RecognitionStatus.InitialSilenceTimeout){if(this.privRecognizerConfig.parameters.getProperty(r.OutputFormatPropertyName)===i.OutputFormat[i.OutputFormat.Simple])o=new i.SpeechRecognitionResult(this.privRequestSession.requestId,n,t.DisplayText,t.Duration,a,t.Language,t.LanguageDetectionConfidence,t.SpeakerId,void 0,e,s);else{const t=r.DetailedSpeechPhrase.fromJSON(e),a=t.Offset+this.privRequestSession.currentTurnAudioOffset,l=t.getJsonWithCorrectedOffsets(a);o=new i.SpeechRecognitionResult(this.privRequestSession.requestId,n,t.Text,t.Duration,a,t.Language,t.LanguageDetectionConfidence,t.SpeakerId,void 0,l,s),c=o.offset}this.handleRecognizedCallback(o,c,this.privRequestSession.sessionId)}}handleSpeechHypothesis(e){const t=r.SpeechHypothesis.fromJSON(e),n=t.Offset+this.privRequestSession.currentTurnAudioOffset,o=new i.PropertyCollection;o.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,e);const s=new i.SpeechRecognitionResult(this.privRequestSession.requestId,i.ResultReason.RecognizingSpeech,t.Text,t.Duration,n,t.Language,t.LanguageDetectionConfidence,t.SpeakerId,void 0,e,o);this.privRequestSession.onHypothesis(n),this.handleRecognizingCallback(s,t.Duration,this.privRequestSession.sessionId)}}t.ConversationServiceRecognizer=o},4554:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriberConnectionFactory=void 0;const i=n(2277),r=n(8040),o=n(9859),s=n(2679),a=n(9859),c=n(8643),l=n(7237);class u extends s.ConnectionFactoryBase{constructor(){super(...arguments),this.universalUri="/speech/universal/v2"}create(e,t,n){let o=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);const u=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,void 0),d=s.ConnectionFactoryBase.getHostSuffix(u),h=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://"+u+".stt.speech"+d),p={},f=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId,void 0),g=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);f?o&&-1!==o.search(l.QueryParameterNames.CustomSpeechDeploymentId)||(p[l.QueryParameterNames.CustomSpeechDeploymentId]=f):g&&(o&&-1!==o.search(l.QueryParameterNames.Language)||(p[l.QueryParameterNames.Language]=g)),void 0!==e.autoDetectSourceLanguages&&(p[l.QueryParameterNames.EnableLanguageId]="true"),this.setV2UrlParams(e,p,o),o||(o="".concat(h).concat(this.universalUri));const m={};void 0!==t.token&&""!==t.token&&(m[t.headerName]=t.token),m[c.HeaderNames.ConnectionId]=n;const v="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false"),y=new i.WebsocketConnection(o,p,m,new a.WebsocketMessageFormatter,i.ProxyInfo.fromRecognizerConfig(e),v,n),S=y.uri;return e.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,S),y}setV2UrlParams(e,t,n){new Map([[r.PropertyId.Speech_SegmentationSilenceTimeoutMs,l.QueryParameterNames.SegmentationSilenceTimeoutMs],[r.PropertyId.SpeechServiceConnection_EnableAudioLogging,l.QueryParameterNames.EnableAudioLogging],[r.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,l.QueryParameterNames.EndSilenceTimeoutMs],[r.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,l.QueryParameterNames.InitialSilenceTimeoutMs],[r.PropertyId.SpeechServiceResponse_PostProcessingOption,l.QueryParameterNames.Postprocessing],[r.PropertyId.SpeechServiceResponse_ProfanityOption,l.QueryParameterNames.Profanity],[r.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,l.QueryParameterNames.StableIntermediateThreshold]]).forEach(((i,r)=>{this.setUrlParameter(r,i,e,t,n)}));const i=JSON.parse(e.parameters.getProperty(o.ServicePropertiesPropertyName,"{}"));Object.keys(i).forEach((e=>{t[e]=i[e]}))}}t.ConversationTranscriberConnectionFactory=u},1632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriptionServiceRecognizer=void 0;const i=n(8040),r=n(9859);class o extends r.ServiceRecognizerBase{constructor(e,t,n,i,r){super(e,t,n,i,r),this.privConversationTranscriber=r,this.setSpeakerDiarizationJson()}setSpeakerDiarizationJson(){if(this.privEnableSpeakerId){const e=this.privSpeechContext.getSection("phraseDetection");e.mode="Conversation";const t={mode:"Anonymous"};t.audioSessionId=this.privDiarizationSessionId,t.audioOffsetMs=0,e.speakerDiarization=t,this.privSpeechContext.setSection("phraseDetection",e)}}async processTypeSpecificMessages(e){let t;const n=new i.PropertyCollection;n.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,e.textBody);let o=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const a=r.SpeechHypothesis.fromJSON(e.textBody),c=a.Offset+this.privRequestSession.currentTurnAudioOffset;t=new i.ConversationTranscriptionResult(this.privRequestSession.requestId,i.ResultReason.RecognizingSpeech,a.Text,a.Duration,c,a.Language,a.LanguageDetectionConfidence,void 0,void 0,e.textBody,n),this.privRequestSession.onHypothesis(c);const l=new i.ConversationTranscriptionEventArgs(t,a.Duration,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribing)try{this.privConversationTranscriber.transcribing(this.privConversationTranscriber,l)}catch(s){}o=!0;break;case"speech.phrase":const u=r.SimpleSpeechPhrase.fromJSON(e.textBody),d=r.EnumTranslation.implTranslateRecognitionResult(u.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+u.Offset+u.Duration),i.ResultReason.Canceled===d){const e=r.EnumTranslation.implTranslateCancelResult(u.RecognitionStatus),t=r.EnumTranslation.implTranslateCancelErrorCode(u.RecognitionStatus);await this.cancelRecognitionLocal(e,t,r.EnumTranslation.implTranslateErrorDetails(t))}else if(!this.privRequestSession.isSpeechEnded||d!==i.ResultReason.NoMatch||u.RecognitionStatus===r.RecognitionStatus.InitialSilenceTimeout){if(this.privRecognizerConfig.parameters.getProperty(r.OutputFormatPropertyName)===i.OutputFormat[i.OutputFormat.Simple])t=new i.ConversationTranscriptionResult(this.privRequestSession.requestId,d,u.DisplayText,u.Duration,u.Offset+this.privRequestSession.currentTurnAudioOffset,u.Language,u.LanguageDetectionConfidence,u.SpeakerId,void 0,e.textBody,n);else{const o=r.DetailedSpeechPhrase.fromJSON(e.textBody),s=o.Offset+this.privRequestSession.currentTurnAudioOffset,a=o.getJsonWithCorrectedOffsets(s);t=new i.ConversationTranscriptionResult(this.privRequestSession.requestId,d,o.RecognitionStatus===r.RecognitionStatus.Success?o.NBest[0].Display:void 0,o.Duration,s,o.Language,o.LanguageDetectionConfidence,u.SpeakerId,void 0,a,n)}const o=new i.ConversationTranscriptionEventArgs(t,t.offset,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribed)try{this.privConversationTranscriber.transcribed(this.privConversationTranscriber,o)}catch(s){}}o=!0}return o}cancelRecognition(e,t,n,o,s){if((new i.PropertyCollection).setProperty(r.CancellationErrorCodePropertyName,i.CancellationErrorCode[o]),this.privConversationTranscriber.canceled){const t=new i.ConversationTranscriptionCanceledEventArgs(n,s,o,void 0,e);try{this.privConversationTranscriber.canceled(this.privConversationTranscriber,t)}catch{}}}}t.ConversationTranscriptionServiceRecognizer=o},8401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogConnectionFactory=void 0;const i=n(2277),r=n(9859),o=n(8040),s=n(2679),a=n(9859),c=n(8643),l=n(7237);class u extends s.ConnectionFactoryBase{create(e,t,n){const d=e.parameters.getProperty(o.PropertyId.Conversation_ApplicationId,""),h=e.parameters.getProperty(o.PropertyId.Conversation_DialogType),p=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Region),f=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),g=e.parameters.getProperty(o.PropertyId.Conversation_Request_Bot_Status_Messages,"true"),m={};m[c.HeaderNames.ConnectionId]=n,m[l.QueryParameterNames.Format]=e.parameters.getProperty(r.OutputFormatPropertyName,o.OutputFormat[o.OutputFormat.Simple]).toLowerCase(),m[l.QueryParameterNames.Language]=f,m[l.QueryParameterNames.RequestBotStatusMessages]=g,d&&(m[l.QueryParameterNames.BotId]=d,h===o.DialogServiceConfig.DialogTypes.CustomCommands&&(m[c.HeaderNames.CustomCommandsAppId]=d));const v=h===o.DialogServiceConfig.DialogTypes.CustomCommands?"commands/":"",y=h===o.DialogServiceConfig.DialogTypes.CustomCommands?"v1":h===o.DialogServiceConfig.DialogTypes.BotFramework?"v3":"v0",S={};null!=t.token&&""!==t.token&&(S[t.headerName]=t.token);let C=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint,"");if(!C){const t=s.ConnectionFactoryBase.getHostSuffix(p),n=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Host,"wss://".concat(p,".").concat(u.BaseUrl).concat(t)),i=n.endsWith("/")?n:n+"/";C="".concat(i).concat(v).concat(u.ApiKey,"/").concat(y)}this.setCommonUrlParams(e,m,C);const b="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new i.WebsocketConnection(C,m,S,new a.WebsocketMessageFormatter,i.ProxyInfo.fromRecognizerConfig(e),b,n)}}t.DialogConnectionFactory=u,u.ApiKey="api",u.BaseUrl="convai.speech"},5200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceAdapter=void 0;const i=n(2277),r=n(323),o=n(2307),s=n(7810),a=n(8040),c=n(7368),l=n(9859),u=n(5132),d=n(222);class h extends l.ServiceRecognizerBase{constructor(e,t,n,i,r){super(e,t,n,i,r),this.privEvents=new o.EventSource,this.privDialogServiceConnector=r,this.receiveMessageOverride=()=>this.receiveDialogMessageOverride(),this.privTurnStateManager=new c.DialogServiceTurnStateManager,this.recognizeOverride=(e,t,n)=>this.listenOnce(e,t,n),this.postConnectImplOverride=e=>this.dialogConnectImpl(e),this.configConnectionOverride=e=>this.configConnection(e),this.disconnectOverride=()=>this.privDisconnect(),this.privDialogAudioSource=n,this.agentConfigSent=!1,this.privLastResult=null,this.connectionEvents.attach((e=>{"ConnectionClosedEvent"===e.name&&(this.terminateMessageLoop=!0)}))}async sendMessage(e){const t=o.createGuid(),n=o.createNoDashGuid(),i={context:{interactionId:t},messagePayload:JSON.parse(e),version:.5},r=JSON.stringify(i),s=await this.fetchConnection();await s.send(new d.SpeechConnectionMessage(o.MessageType.Text,"agent",n,"application/json",r))}async privDisconnect(){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a.CancellationReason.Error,a.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.agentConfigSent=!1}processTypeSpecificMessages(e){const t=new a.PropertyCollection;let n,i;switch(e.messageType===o.MessageType.Text&&t.setProperty(a.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.phrase":const r=l.SimpleSpeechPhrase.fromJSON(e.textBody);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+r.Offset+r.Duration),r.RecognitionStatus!==l.RecognitionStatus.TooManyRequests&&r.RecognitionStatus!==l.RecognitionStatus.Error){const e=this.fireEventForResult(r,t);if(this.privLastResult=e.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,e)}catch(s){}}i=!0;break;case"speech.hypothesis":const o=l.SpeechHypothesis.fromJSON(e.textBody),c=o.Offset+this.privRequestSession.currentTurnAudioOffset;n=new a.SpeechRecognitionResult(this.privRequestSession.requestId,a.ResultReason.RecognizingSpeech,o.Text,o.Duration,c,o.Language,o.LanguageDetectionConfidence,void 0,void 0,e.textBody,t),this.privRequestSession.onHypothesis(c);const u=new a.SpeechRecognitionEventArgs(n,o.Duration,this.privRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,u)}catch(s){}i=!0;break;case"speech.keyword":const d=l.SpeechKeyword.fromJSON(e.textBody);n=new a.SpeechRecognitionResult(this.privRequestSession.requestId,"Accepted"===d.Status?a.ResultReason.RecognizedKeyword:a.ResultReason.NoMatch,d.Text,d.Duration,d.Offset,void 0,void 0,void 0,void 0,e.textBody,t),"Accepted"!==d.Status&&(this.privLastResult=n);const h=new a.SpeechRecognitionEventArgs(n,n.duration,n.resultId);if(this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,h)}catch(s){}i=!0;break;case"audio":{const t=e.requestId.toUpperCase(),n=this.privTurnStateManager.GetTurn(t);try{e.binaryBody?n.audioStream.write(e.binaryBody):n.endAudioStream()}catch(s){}}i=!0;break;case"response":this.handleResponseMessage(e),i=!0}const r=new o.Deferred;return r.resolve(i),r.promise}async cancelRecognition(e,t,n,i,r){if(this.terminateMessageLoop=!0,this.privRequestSession.isRecognizing&&await this.privRequestSession.onStopRecognizing(),this.privDialogServiceConnector.canceled){const t=new a.PropertyCollection;t.setProperty(l.CancellationErrorCodePropertyName,a.CancellationErrorCode[i]);const o=new a.SpeechRecognitionCanceledEventArgs(n,r,i,void 0,e);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,o)}catch{}if(this.privSuccessCallback){const e=new a.SpeechRecognitionResult(void 0,a.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,r,void 0,t);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}}async listenOnce(e,t,n){this.privRecognizerConfig.recognitionMode=e,this.privSuccessCallback=t,this.privErrorCallback=n,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(a.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const r=this.connectImpl(),o=this.sendPreAudioMessages(),s=await this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId),c=await this.privDialogAudioSource.format,l=await this.privDialogAudioSource.deviceInfo,u=new i.ReplayableAudioNode(s,c.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(u,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:l};try{await r,await o}catch(h){return await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a.CancellationReason.Error,a.CancellationErrorCode.ConnectionFailure,h),Promise.resolve()}const d=new a.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,d);this.sendAudio(u).then((()=>{}),(async e=>{await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a.CancellationReason.Error,a.CancellationErrorCode.RuntimeError,e)}))}dialogConnectImpl(e){return this.privConnectionLoop=this.startMessageLoop(),e}receiveDialogMessageOverride(){const e=new o.Deferred,t=async()=>{try{const i=this.isDisposed(),r=!this.isDisposed()&&this.terminateMessageLoop;if(i||r)return void e.resolve(void 0);const s=await this.fetchConnection(),c=await s.read();if(!c)return t();const u=d.SpeechConnectionMessage.fromConnectionMessage(c);switch(u.path.toLowerCase()){case"turn.start":{const e=u.requestId.toUpperCase();e!==this.privRequestSession.requestId.toUpperCase()?this.privTurnStateManager.StartTurn(e):this.privRequestSession.onServiceTurnStartResponse()}break;case"speech.startdetected":const e=l.SpeechDetected.fromJSON(u.textBody),t=new a.RecognitionEventArgs(e.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,t);break;case"speech.enddetected":let i;i=u.textBody.length>0?u.textBody:"{ Offset: 0 }";const r=l.SpeechDetected.fromJSON(i);this.privRequestSession.onServiceRecognized(r.Offset+this.privRequestSession.currentTurnAudioOffset);const s=new a.RecognitionEventArgs(r.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,s);break;case"turn.end":{const e=u.requestId.toUpperCase();if(e!==this.privRequestSession.requestId.toUpperCase())this.privTurnStateManager.CompleteTurn(e);else{const e=new a.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(!1),this.privRecognizerConfig.isContinuousRecognition&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing||this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,e),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch(n){this.privErrorCallback&&this.privErrorCallback(n)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}}break;default:try{await this.processTypeSpecificMessages(u)||this.serviceEvents&&this.serviceEvents.onEvent(new o.ServiceEvent(u.path.toLowerCase(),u.textBody))}catch(n){}}return t()}catch(i){this.terminateMessageLoop=!0,e.resolve()}};return t().catch((e=>{o.Events.instance.onEvent(new o.BackgroundEvent(e))})),e.promise}async startMessageLoop(){this.terminateMessageLoop=!1;try{await this.receiveDialogMessageOverride()}catch(e){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a.CancellationReason.Error,a.CancellationErrorCode.RuntimeError,e)}return Promise.resolve()}async configConnection(e){return this.terminateMessageLoop?(this.terminateMessageLoop=!1,Promise.reject("Connection to service terminated.")):(await this.sendSpeechServiceConfig(e,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendAgentConfig(e),e)}async sendPreAudioMessages(){const e=await this.fetchConnection();this.addKeywordContextData(),await this.sendSpeechContext(e,!0),await this.sendAgentContext(e),await this.sendWaveHeader(e)}sendAgentConfig(e){if(this.agentConfig&&!this.agentConfigSent){if(this.privRecognizerConfig.parameters.getProperty(a.PropertyId.Conversation_DialogType)===a.DialogServiceConfig.DialogTypes.CustomCommands){const e=this.agentConfig.get();e.botInfo.commandsCulture=this.privRecognizerConfig.parameters.getProperty(a.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),this.agentConfig.set(e)}this.onEvent(new r.SendingAgentContextMessageEvent(this.agentConfig));const t=this.agentConfig.toJsonString();return this.agentConfigSent=!0,e.send(new d.SpeechConnectionMessage(o.MessageType.Text,"agent.config",this.privRequestSession.requestId,"application/json",t))}}sendAgentContext(e){const t=o.createGuid(),n=this.privDialogServiceConnector.properties.getProperty(a.PropertyId.Conversation_Speech_Activity_Template),i={channelData:"",context:{interactionId:t},messagePayload:void 0===typeof n?void 0:n,version:.5},r=JSON.stringify(i);return e.send(new d.SpeechConnectionMessage(o.MessageType.Text,"speech.agent.context",this.privRequestSession.requestId,"application/json",r))}fireEventForResult(e,t){const n=l.EnumTranslation.implTranslateRecognitionResult(e.RecognitionStatus),i=e.Offset+this.privRequestSession.currentTurnAudioOffset,r=new a.SpeechRecognitionResult(this.privRequestSession.requestId,n,e.DisplayText,e.Duration,i,e.Language,e.LanguageDetectionConfidence,void 0,void 0,JSON.stringify(e),t);return new a.SpeechRecognitionEventArgs(r,i,this.privRequestSession.sessionId)}handleResponseMessage(e){const t=JSON.parse(e.textBody);switch(t.messageType.toLowerCase()){case"message":const i=e.requestId.toUpperCase(),r=u.ActivityPayloadResponse.fromJSON(e.textBody),c=this.privTurnStateManager.GetTurn(i);if(r.conversationId){const e=this.agentConfig.get();e.botInfo.conversationId=r.conversationId,this.agentConfig.set(e)}const l=c.processActivityPayload(r,s.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(a.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0))),d=new a.ActivityReceivedEventArgs(r.messagePayload,l);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,d)}catch(n){}break;case"messagestatus":if(this.privDialogServiceConnector.turnStatusReceived)try{this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector,new a.TurnStatusReceivedEventArgs(e.textBody))}catch(n){}break;default:o.Events.instance.onEvent(new o.BackgroundEvent("Unexpected response of type ".concat(t.messageType,". Ignoring.")))}}onEvent(e){this.privEvents.onEvent(e),o.Events.instance.onEvent(e)}addKeywordContextData(){const e=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(void 0===e)return;const t=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),n=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),i=e.split(";"),r=void 0===t?[]:t.split(";"),o=void 0===n?[]:n.split(";"),s=[];for(let a=0;a<i.length;a++){const e={};e.text=i[a],a<r.length&&(e.offset=Number(r[a])),a<o.length&&(e.duration=Number(o[a])),s.push(e)}this.speechContext.setSection("invocationSource","VoiceActivationWithKeyword"),this.speechContext.setSection("keywordDetection",[{clientDetectedKeywords:s,onReject:{action:"EndOfTurn"},type:"startTrigger"}])}}t.DialogServiceAdapter=h},5787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceTurnState=void 0;const i=n(7810),r=n(9709),o=n(5132);t.DialogServiceTurnState=class{constructor(e,t){this.privRequestId=t,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=e,this.resetTurnEndTimeout()}get audioStream(){return this.resetTurnEndTimeout(),this.privAudioStream}processActivityPayload(e,t){return e.messageDataStreamType===o.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=r.AudioOutputStream.createPullStream(),this.privAudioStream.format=void 0!==t?t:i.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream}endAudioStream(){null===this.privAudioStream||this.privAudioStream.isClosed||this.privAudioStream.close()}complete(){void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}resetTurnEndTimeout(){void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout((()=>{this.privTurnManager.CompleteTurn(this.privRequestId)}),2e3)}}},7368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceTurnStateManager=void 0;const i=n(8446),r=n(5787);t.DialogServiceTurnStateManager=class{constructor(){this.privTurnMap=new Map}StartTurn(e){if(this.privTurnMap.has(e))throw new i.InvalidOperationError("Service error: There is already a turn with id:"+e);const t=new r.DialogServiceTurnState(this,e);return this.privTurnMap.set(e,t),this.privTurnMap.get(e)}GetTurn(e){return this.privTurnMap.get(e)}CompleteTurn(e){if(!this.privTurnMap.has(e))throw new i.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+e);const t=this.privTurnMap.get(e);return t.complete(),this.privTurnMap.delete(e),t}}},4149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicGrammarBuilder=void 0;t.DynamicGrammarBuilder=class{addPhrase(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(void 0===this.privGrammars&&void 0===this.privPhrases)return;const e={};if(e.ReferenceGrammars=this.privGrammars,void 0!==this.privPhrases&&0!==this.privPhrases.length){const t=[];this.privPhrases.forEach((e=>{t.push({Text:e})})),e.Groups=[{Type:"Generic",Items:t}]}return e}}},2696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnumTranslation=void 0;const i=n(8040),r=n(9859);t.EnumTranslation=class{static implTranslateRecognitionResult(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i.ResultReason.Canceled;switch(e){case r.RecognitionStatus.Success:n=i.ResultReason.RecognizedSpeech;break;case r.RecognitionStatus.EndOfDictation:n=t?i.ResultReason.RecognizedSpeech:i.ResultReason.NoMatch;break;case r.RecognitionStatus.NoMatch:case r.RecognitionStatus.InitialSilenceTimeout:case r.RecognitionStatus.BabbleTimeout:n=i.ResultReason.NoMatch;break;case r.RecognitionStatus.Error:case r.RecognitionStatus.BadRequest:case r.RecognitionStatus.Forbidden:default:n=i.ResultReason.Canceled}return n}static implTranslateCancelResult(e){let t=i.CancellationReason.EndOfStream;switch(e){case r.RecognitionStatus.Success:case r.RecognitionStatus.EndOfDictation:case r.RecognitionStatus.NoMatch:t=i.CancellationReason.EndOfStream;break;case r.RecognitionStatus.InitialSilenceTimeout:case r.RecognitionStatus.BabbleTimeout:case r.RecognitionStatus.Error:case r.RecognitionStatus.BadRequest:case r.RecognitionStatus.Forbidden:default:t=i.CancellationReason.Error}return t}static implTranslateCancelErrorCode(e){let t=i.CancellationErrorCode.NoError;switch(e){case r.RecognitionStatus.Error:t=i.CancellationErrorCode.ServiceError;break;case r.RecognitionStatus.TooManyRequests:t=i.CancellationErrorCode.TooManyRequests;break;case r.RecognitionStatus.BadRequest:t=i.CancellationErrorCode.BadRequestParameters;break;case r.RecognitionStatus.Forbidden:t=i.CancellationErrorCode.Forbidden;break;default:t=i.CancellationErrorCode.NoError}return t}static implTranslateErrorDetails(e){let t="The speech service encountered an internal error and could not continue.";switch(e){case i.CancellationErrorCode.Forbidden:t="The recognizer is using a free subscription that ran out of quota.";break;case i.CancellationErrorCode.BadRequestParameters:t="Invalid parameter or unsupported audio format in the request.";break;case i.CancellationErrorCode.TooManyRequests:t="The number of parallel requests exceeded the number of allowed concurrent transcriptions."}return t}}},9859:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguagesOpenRangeOptionName=t.ForceDictationPropertyName=t.ServicePropertiesPropertyName=t.CancellationErrorCodePropertyName=t.OutputFormatPropertyName=void 0,r(n(2070),t),r(n(7487),t),r(n(7339),t),r(n(7961),t),r(n(9135),t),r(n(4920),t),r(n(482),t),r(n(4142),t),r(n(8096),t),r(n(8588),t),r(n(6518),t),r(n(9173),t),r(n(3444),t),r(n(9252),t),r(n(4554),t),r(n(3505),t),r(n(2433),t),r(n(3344),t),r(n(3356),t),r(n(9502),t),r(n(3260),t),r(n(4261),t),r(n(1974),t),r(n(1086),t),r(n(6710),t),r(n(6702),t),r(n(8073),t),r(n(5007),t),r(n(1632),t),r(n(4183),t),r(n(3337),t),r(n(6391),t),r(n(3355),t),r(n(8243),t),r(n(2259),t),r(n(8162),t),r(n(3525),t),r(n(9853),t),r(n(4149),t),r(n(2696),t),r(n(5200),t),r(n(5619),t),r(n(2080),t),r(n(4543),t),r(n(1953),t),r(n(4526),t);var o=n(9290);Object.defineProperty(t,"AvatarSynthesisAdapter",{enumerable:!0,get:function(){return o.AvatarSynthesisAdapter}});var s=n(8705);Object.defineProperty(t,"SpeechSynthesisAdapter",{enumerable:!0,get:function(){return s.SpeechSynthesisAdapter}}),r(n(3309),t),r(n(8960),t),r(n(4855),t),r(n(4436),t),r(n(7544),t),r(n(8557),t),r(n(4863),t),t.OutputFormatPropertyName="OutputFormat",t.CancellationErrorCodePropertyName="CancellationErrorCode",t.ServicePropertiesPropertyName="ServiceProperties",t.ForceDictationPropertyName="ForceDictation",t.AutoDetectSourceLanguagesOpenRangeOptionName="OpenRange"},8643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderNames=void 0;class n{}t.HeaderNames=n,n.AuthKey="Ocp-Apim-Subscription-Key",n.Authorization="Authorization",n.SpIDAuthKey="Apim-Subscription-Id",n.ConnectionId="X-ConnectionId",n.ContentType="Content-Type",n.CustomCommandsAppId="X-CommandsAppId",n.Path="Path",n.RequestId="X-RequestId",n.RequestStreamId="X-StreamId",n.RequestTimestamp="X-Timestamp"},7339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthInfo=void 0;t.AuthInfo=class{constructor(e,t){this.privHeaderName=e,this.privToken=t}get headerName(){return this.privHeaderName}get token(){return this.privToken}}},7961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentConnectionFactory=void 0;const i=n(2277),r=n(8040),o=n(2679),s=n(9859),a=n(8643);class c extends o.ConnectionFactoryBase{create(e,t,n){let c=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint);if(!c){const t=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_IntentRegion),n=o.ConnectionFactoryBase.getHostSuffix(t);c=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://"+t+".sr.speech"+n)+"/speech/recognition/interactive/cognitiveservices/v1"}const l={format:"simple",language:e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(e,l,c);const u={};void 0!==t.token&&""!==t.token&&(u[t.headerName]=t.token),u[a.HeaderNames.ConnectionId]=n,e.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,c);const d="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new i.WebsocketConnection(c,l,u,new s.WebsocketMessageFormatter,i.ProxyInfo.fromRecognizerConfig(e),d,n)}getSpeechRegionFromIntentRegion(e){switch(e){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return e}}}t.IntentConnectionFactory=c},8243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentServiceRecognizer=void 0;const i=n(2307),r=n(8040),o=n(9859);class s extends o.ServiceRecognizerBase{constructor(e,t,n,i,r){super(e,t,n,i,r),this.privIntentRecognizer=r,this.privIntentDataSent=!1}setIntents(e,t){this.privAddedLmIntents=e,this.privUmbrellaIntent=t,this.privIntentDataSent=!0}processTypeSpecificMessages(e){let t,n,s=!1;const a=new r.PropertyCollection;switch(e.messageType===i.MessageType.Text&&a.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.hypothesis":const i=o.SpeechHypothesis.fromJSON(e.textBody);if(t=new r.IntentRecognitionResult(void 0,this.privRequestSession.requestId,r.ResultReason.RecognizingIntent,i.Text,i.Duration,i.Offset+this.privRequestSession.currentTurnAudioOffset,i.Language,i.LanguageDetectionConfidence,void 0,e.textBody,a),this.privRequestSession.onHypothesis(t.offset),n=new r.IntentRecognitionEventArgs(t,i.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,n)}catch(l){}s=!0;break;case"speech.phrase":const c=o.SimpleSpeechPhrase.fromJSON(e.textBody);t=new r.IntentRecognitionResult(void 0,this.privRequestSession.requestId,o.EnumTranslation.implTranslateRecognitionResult(c.RecognitionStatus),c.DisplayText,c.Duration,c.Offset+this.privRequestSession.currentTurnAudioOffset,c.Language,c.LanguageDetectionConfidence,void 0,e.textBody,a),n=new r.IntentRecognitionEventArgs(t,t.offset,this.privRequestSession.sessionId);const d=()=>{if(this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,n)}catch(l){}if(this.privSuccessCallback){try{this.privSuccessCallback(t)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}};!1===this.privIntentDataSent||r.ResultReason.NoMatch===n.result.reason?(this.privRequestSession.onPhraseRecognized(n.offset+n.result.duration),d()):this.privPendingIntentArgs=n,s=!0;break;case"response":if(n=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,void 0===n){if(""===e.textBody)return;n=new r.IntentRecognitionEventArgs(new r.IntentRecognitionResult,0,this.privRequestSession.sessionId)}const h=o.IntentResponse.fromJSON(e.textBody);if(null!==h&&h.topScoringIntent&&h.topScoringIntent.intent){let t=this.privAddedLmIntents[h.topScoringIntent.intent];if(void 0!==this.privUmbrellaIntent&&(t=this.privUmbrellaIntent),t){const i=void 0===t||void 0===t.intentName?h.topScoringIntent.intent:t.intentName;let o=n.result.reason;void 0!==i&&(o=r.ResultReason.RecognizedIntent);const s=void 0!==n.result.properties?n.result.properties:new r.PropertyCollection;s.setProperty(r.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,e.textBody),n=new r.IntentRecognitionEventArgs(new r.IntentRecognitionResult(i,n.result.resultId,o,n.result.text,n.result.duration,n.result.offset,void 0,void 0,n.result.errorDetails,n.result.json,s),n.offset,n.sessionId)}}if(this.privRequestSession.onPhraseRecognized(n.offset+n.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,n)}catch(l){}if(this.privSuccessCallback){try{this.privSuccessCallback(n.result)}catch(u){this.privErrorCallback&&this.privErrorCallback(u)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}s=!0}const c=new i.Deferred;return c.resolve(s),c.promise}cancelRecognition(e,t,n,i,s){const a=new r.PropertyCollection;if(a.setProperty(o.CancellationErrorCodePropertyName,r.CancellationErrorCode[i]),this.privIntentRecognizer.canceled){const t=new r.IntentRecognitionCanceledEventArgs(n,s,i,void 0,void 0,e);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,t)}catch{}}if(this.privSuccessCallback){const e=new r.IntentRecognitionResult(void 0,t,r.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,s,void 0,a);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}}t.IntentServiceRecognizer=s},7237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryParameterNames=void 0;class n{}t.QueryParameterNames=n,n.BotId="botid",n.CustomSpeechDeploymentId="cid",n.CustomVoiceDeploymentId="deploymentId",n.EnableAudioLogging="storeAudio",n.EnableLanguageId="lidEnabled",n.EnableWordLevelTimestamps="wordLevelTimestamps",n.EndSilenceTimeoutMs="endSilenceTimeoutMs",n.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs",n.Format="format",n.InitialSilenceTimeoutMs="initialSilenceTimeoutMs",n.Language="language",n.Profanity="profanity",n.RequestBotStatusMessages="enableBotMessageStatus",n.StableIntermediateThreshold="stableIntermediateThreshold",n.StableTranslation="stableTranslation",n.TestHooks="testhooks",n.Postprocessing="postprocessing",n.CtsMeetingId="meetingId",n.CtsDeviceId="deviceId",n.CtsIsParticipant="isParticipant",n.EnableAvatar="enableTalkingAvatar"},4142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionEndedEvent=t.RecognitionCompletionStatus=t.RecognitionStartedEvent=t.ConnectingToServiceEvent=t.ListeningStartedEvent=t.RecognitionTriggeredEvent=t.SpeechRecognitionEvent=void 0;const i=n(2307);class r extends i.PlatformEvent{constructor(e,t,n){super(e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.EventType.Info),this.privRequestId=t,this.privSessionId=n}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}t.SpeechRecognitionEvent=r;t.RecognitionTriggeredEvent=class extends r{constructor(e,t,n,i){super("RecognitionTriggeredEvent",e,t),this.privAudioSourceId=n,this.privAudioNodeId=i}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}};t.ListeningStartedEvent=class extends r{constructor(e,t,n,i){super("ListeningStartedEvent",e,t),this.privAudioSourceId=n,this.privAudioNodeId=i}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}};t.ConnectingToServiceEvent=class extends r{constructor(e,t,n){super("ConnectingToServiceEvent",e,n),this.privAuthFetchEventid=t}get authFetchEventid(){return this.privAuthFetchEventid}};var o;t.RecognitionStartedEvent=class extends r{constructor(e,t,n,i,r){super("RecognitionStartedEvent",e,r),this.privAudioSourceId=t,this.privAudioNodeId=n,this.privAuthFetchEventId=i}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}},function(e){e[e.Success=0]="Success",e[e.AudioSourceError=1]="AudioSourceError",e[e.AudioSourceTimeout=2]="AudioSourceTimeout",e[e.AuthTokenFetchError=3]="AuthTokenFetchError",e[e.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",e[e.UnAuthorized=5]="UnAuthorized",e[e.ConnectTimeout=6]="ConnectTimeout",e[e.ConnectError=7]="ConnectError",e[e.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",e[e.UnknownError=9]="UnknownError"}(o=t.RecognitionCompletionStatus||(t.RecognitionCompletionStatus={}));t.RecognitionEndedEvent=class extends r{constructor(e,t,n,r,s,a,c,l){super("RecognitionEndedEvent",e,s,c===o.Success?i.EventType.Info:i.EventType.Error),this.privAudioSourceId=t,this.privAudioNodeId=n,this.privAuthFetchEventId=r,this.privStatus=c,this.privError=l,this.privServiceTag=a}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}get serviceTag(){return this.privServiceTag}get status(){return this.privStatus}get error(){return this.privError}}},6518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognizerConfig=t.SpeechResultFormat=t.RecognitionMode=void 0;const i=n(8040),r=n(9859);var o;!function(e){e[e.Interactive=0]="Interactive",e[e.Conversation=1]="Conversation",e[e.Dictation=2]="Dictation"}(o=t.RecognitionMode||(t.RecognitionMode={})),function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(t.SpeechResultFormat||(t.SpeechResultFormat={}));t.RecognizerConfig=class{constructor(e,t){this.privSpeechServiceConfig=e||new r.SpeechServiceConfig(new r.Context(null)),this.privParameters=t,this.privMaxRetryCount=parseInt(t.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=t.getProperty(i.PropertyId.SpeechServiceConnection_LanguageIdMode,void 0),this.privEnableSpeakerId=!1}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(e){this.privRecognitionMode=e,this.privRecognitionActivityTimeout=e===o.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=o[e]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==o.Interactive}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(i.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}get sourceLanguageModels(){const e=[];let t=!1;if(void 0!==this.autoDetectSourceLanguages)for(const n of this.autoDetectSourceLanguages.split(",")){const r=n+i.PropertyId.SpeechServiceConnection_EndpointId.toString(),o=this.parameters.getProperty(r,void 0);void 0!==o?(e.push({language:n,endpoint:o}),t=!0):e.push({language:n,endpoint:""})}return t?e:void 0}get maxRetryCount(){return this.privMaxRetryCount}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}set isSpeakerDiarizationEnabled(e){this.privEnableSpeakerId=e}}},3525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestSession=void 0;const i=n(2307),r=n(4142),o=n(4933);t.RequestSession=class{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecognitionBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=e,this.privRequestId=i.createNoDashGuid(),this.privAudioNodeId=i.createNoDashGuid(),this.privTurnDeferral=new i.Deferred,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}get recognitionBytesSent(){return this.privRecognitionBytesSent}listenForServiceTelemetry(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privRecognitionBytesSent=0,this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new o.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new r.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}async onAudioSourceAttachCompleted(e,t){this.privAudioNode=e,this.privIsAudioNodeDetached=!1,t?await this.onComplete():this.onEvent(new r.ListeningStartedEvent(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onPreConnectionStart(e,t){this.privAuthFetchEventId=e,this.privSessionId=t,this.onEvent(new r.ConnectingToServiceEvent(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}async onAuthCompleted(e){e&&await this.onComplete()}async onConnectionEstablishCompleted(e,t){if(200===e)return this.onEvent(new r.RecognitionStartedEvent(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,void(this.privBytesSent=0);403===e&&await this.onComplete()}async onServiceTurnEndResponse(e){this.privTurnDeferral.resolve(),!e||this.isSpeechEnded?(await this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())}onSpeechContext(){this.privRequestId=i.createNoDashGuid()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch((()=>{}))),this.privInTurn=!0,this.privTurnDeferral=new i.Deferred}onHypothesis(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))}onPhraseRecognized(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)}onServiceRecognized(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e),this.privConnectionAttempts=0}onAudioSent(e){this.privBytesSent+=e,this.privRecognitionBytesSent+=e}onRetryConnection(){this.privConnectionAttempts++}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)await e.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}async onStopRecognizing(){await this.onComplete()}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(e){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(e),i.Events.instance.onEvent(e)}async onComplete(){this.privIsRecognizing&&(this.privIsRecognizing=!1,await this.detachAudioNode())}async detachAudioNode(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&await this.privAudioNode.detach())}}},5132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDataStreamType=t.ActivityPayloadResponse=void 0;class n{constructor(e){this.privActivityResponse=JSON.parse(e)}static fromJSON(e){return new n(e)}get conversationId(){return this.privActivityResponse.conversationId}get messageDataStreamType(){return this.privActivityResponse.messageDataStreamType}get messagePayload(){return this.privActivityResponse.messagePayload}get version(){return this.privActivityResponse.version}}t.ActivityPayloadResponse=n,function(e){e[e.None=0]="None",e[e.TextToSpeechAudio=1]="TextToSpeechAudio"}(t.MessageDataStreamType||(t.MessageDataStreamType={}))},3337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DetailedSpeechPhrase=void 0;const i=n(9859);class r{constructor(e){this.privDetailedSpeechPhrase=JSON.parse(e),this.privDetailedSpeechPhrase.RecognitionStatus=i.RecognitionStatus[this.privDetailedSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new r(e)}getJsonWithCorrectedOffsets(e){if(this.privDetailedSpeechPhrase.NBest){let t;for(const e of this.privDetailedSpeechPhrase.NBest)if(e.Words&&e.Words[0]){t=e.Words[0].Offset;break}if(t&&t<e){const n=e-t;for(const e of this.privDetailedSpeechPhrase.NBest){if(e.Words)for(const t of e.Words)t.Offset+=n;if(e.DisplayWords)for(const t of e.DisplayWords)t.Offset+=n}}}return JSON.stringify(this.privDetailedSpeechPhrase)}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}}t.DetailedSpeechPhrase=r},9502:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionStatus=t.SynthesisStatus=void 0,function(e){e[e.Success=0]="Success",e[e.SynthesisEnd=1]="SynthesisEnd",e[e.Error=2]="Error"}(t.SynthesisStatus||(t.SynthesisStatus={})),function(e){e[e.Success=0]="Success",e[e.NoMatch=1]="NoMatch",e[e.InitialSilenceTimeout=2]="InitialSilenceTimeout",e[e.BabbleTimeout=3]="BabbleTimeout",e[e.Error=4]="Error",e[e.EndOfDictation=5]="EndOfDictation",e[e.TooManyRequests=6]="TooManyRequests",e[e.BadRequest=7]="BadRequest",e[e.Forbidden=8]="Forbidden"}(t.RecognitionStatus||(t.RecognitionStatus={}))},2259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentResponse=void 0;class n{constructor(e){this.privIntentResponse=""===e?{}:JSON.parse(e)}static fromJSON(e){return new n(e)}get query(){return this.privIntentResponse.query}get topScoringIntent(){return this.privIntentResponse.topScoringIntent}get entities(){return this.privIntentResponse.entities}}t.IntentResponse=n},6391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpeechPhrase=void 0;const i=n(9859);class r{constructor(e){this.privSimpleSpeechPhrase=JSON.parse(e),this.privSimpleSpeechPhrase.RecognitionStatus=i.RecognitionStatus[this.privSimpleSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new r(e)}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}}t.SimpleSpeechPhrase=r},8162:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6710:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechDetected=void 0;class n{constructor(e){this.privSpeechStartDetected=JSON.parse(e)}static fromJSON(e){return new n(e)}get Offset(){return this.privSpeechStartDetected.Offset}}t.SpeechDetected=n},6702:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechHypothesis=void 0;class n{constructor(e){this.privSpeechHypothesis=JSON.parse(e)}static fromJSON(e){return new n(e)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}}t.SpeechHypothesis=n},8073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechKeyword=void 0;class n{constructor(e){this.privSpeechKeyword=JSON.parse(e)}static fromJSON(e){return new n(e)}get Status(){return this.privSpeechKeyword.Status}get Text(){return this.privSpeechKeyword.Text}get Offset(){return this.privSpeechKeyword.Offset}get Duration(){return this.privSpeechKeyword.Duration}}t.SpeechKeyword=n},4543:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAudioMetadata=t.MetadataType=void 0,function(e){e.WordBoundary="WordBoundary",e.Bookmark="Bookmark",e.Viseme="Viseme",e.SentenceBoundary="SentenceBoundary",e.SessionEnd="SessionEnd",e.AvatarSignal="TalkingAvatarSignal"}(t.MetadataType||(t.MetadataType={}));class n{constructor(e){this.privSynthesisAudioMetadata=JSON.parse(e)}static fromJSON(e){return new n(e)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}t.SynthesisAudioMetadata=n},4261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationHypothesis=void 0;const i=n(260),r=n(5253);class o{constructor(e){this.privTranslationHypothesis=e,this.privTranslationHypothesis.Translation.TranslationStatus=r.TranslationStatus[this.privTranslationHypothesis.Translation.TranslationStatus]}static fromJSON(e){return new o(JSON.parse(e))}static fromTranslationResponse(e){i.Contracts.throwIfNullOrUndefined(e,"translationHypothesis");const t=e.SpeechHypothesis;return e.SpeechHypothesis=void 0,t.Translation=e,new o(t)}get Duration(){return this.privTranslationHypothesis.Duration}get Offset(){return this.privTranslationHypothesis.Offset}get Text(){return this.privTranslationHypothesis.Text}get Translation(){return this.privTranslationHypothesis.Translation}get Language(){var e;return null===(e=this.privTranslationHypothesis.PrimaryLanguage)||void 0===e?void 0:e.Language}}t.TranslationHypothesis=o},1974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationPhrase=void 0;const i=n(260),r=n(9859),o=n(5253);class s{constructor(e){this.privTranslationPhrase=e,this.privTranslationPhrase.RecognitionStatus=r.RecognitionStatus[this.privTranslationPhrase.RecognitionStatus],void 0!==this.privTranslationPhrase.Translation&&(this.privTranslationPhrase.Translation.TranslationStatus=o.TranslationStatus[this.privTranslationPhrase.Translation.TranslationStatus])}static fromJSON(e){return new s(JSON.parse(e))}static fromTranslationResponse(e){i.Contracts.throwIfNullOrUndefined(e,"translationResponse");const t=e.SpeechPhrase;return e.SpeechPhrase=void 0,t.Translation=e,t.Text=t.DisplayText,new s(t)}get RecognitionStatus(){return this.privTranslationPhrase.RecognitionStatus}get Offset(){return this.privTranslationPhrase.Offset}get Duration(){return this.privTranslationPhrase.Duration}get Text(){return this.privTranslationPhrase.Text}get Language(){var e;return null===(e=this.privTranslationPhrase.PrimaryLanguage)||void 0===e?void 0:e.Language}get Confidence(){var e;return null===(e=this.privTranslationPhrase.PrimaryLanguage)||void 0===e?void 0:e.Confidence}get Translation(){return this.privTranslationPhrase.Translation}}t.TranslationPhrase=s},3260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisEnd=void 0;const i=n(9859);class r{constructor(e){this.privSynthesisEnd=JSON.parse(e),this.privSynthesisEnd.SynthesisStatus&&(this.privSynthesisEnd.SynthesisStatus=i.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]),this.privSynthesisEnd.Status&&(this.privSynthesisEnd.SynthesisStatus=i.SynthesisStatus[this.privSynthesisEnd.Status])}static fromJSON(e){return new r(e)}get SynthesisStatus(){return this.privSynthesisEnd.SynthesisStatus}get FailureReason(){return this.privSynthesisEnd.FailureReason}}t.TranslationSynthesisEnd=r},81:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TurnStatusResponsePayload=void 0;class n{constructor(e){this.privMessageStatusResponse=JSON.parse(e)}static fromJSON(e){return new n(e)}get interactionId(){return this.privMessageStatusResponse.interactionId}get conversationId(){return this.privMessageStatusResponse.conversationId}get statusCode(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}t.TurnStatusResponsePayload=n},8096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceRecognizerBase=void 0;const i=n(2277),r=n(2307),o=n(8040),s=n(9859),a=n(222);class c{constructor(e,t,n,i,a){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.privAverageBytesPerMs=0,this.privEnableSpeakerId=!1,this.privExpectContentAssessmentResponse=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!e)throw new r.ArgumentNullError("authentication");if(!t)throw new r.ArgumentNullError("connectionFactory");if(!n)throw new r.ArgumentNullError("audioSource");if(!i)throw new r.ArgumentNullError("recognizerConfig");this.privEnableSpeakerId=i.isSpeakerDiarizationEnabled,this.privMustReportEndOfStream=!1,this.privAuthentication=e,this.privConnectionFactory=t,this.privAudioSource=n,this.privRecognizerConfig=i,this.privIsDisposed=!1,this.privRecognizer=a,this.privRequestSession=new s.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new r.EventSource,this.privServiceEvents=new r.EventSource,this.privDynamicGrammar=new s.DynamicGrammarBuilder,this.privSpeechContext=new s.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new s.AgentConfig;"on"===this.privRecognizerConfig.parameters.getProperty(o.PropertyId.WebWorkerLoadType,"on").toLowerCase()&&"undefined"!==typeof Blob&&"undefined"!==typeof Worker?this.privSetTimeout=r.Timeout.setTimeout:"undefined"!==typeof window&&(this.privSetTimeout=window.setTimeout.bind(window)),this.connectionEvents.attach((e=>{if("ConnectionClosedEvent"===e.name){const t=e;(1003===t.statusCode||1007===t.statusCode||1002===t.statusCode||4e3===t.statusCode||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(o.CancellationReason.Error,1007===t.statusCode?o.CancellationErrorCode.BadRequestParameters:o.CancellationErrorCode.ConnectionFailure,"".concat(t.reason," websocket error code: ").concat(t.statusCode))}})),this.privEnableSpeakerId&&(this.privDiarizationSessionId=r.createNoDashGuid()),this.setLanguageIdJson(),this.setOutputDetailLevelJson()}setTranslationJson(){const e=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0);if(void 0!==e){const t=e.split(","),n=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0),i=void 0!==n?"Synthesize":"None";if(this.privSpeechContext.setSection("translation",{onSuccess:{action:i},output:{interimResults:{mode:"Always"}},targetLanguages:t}),void 0!==n){const e={};for(const i of t)e[i]=n;this.privSpeechContext.setSection("synthesis",{defaultVoices:e})}}}setSpeechSegmentationTimeoutJson(){const e=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.Speech_SegmentationSilenceTimeoutMs,void 0);if(void 0!==e){const t=this.recognitionMode===s.RecognitionMode.Conversation?"CONVERSATION":this.recognitionMode===s.RecognitionMode.Dictation?"DICTATION":"INTERACTIVE",n=parseInt(e,10),i=this.privSpeechContext.getSection("phraseDetection");i.mode=t,i[t]={segmentation:{mode:"Custom",segmentationSilenceTimeoutMs:n}},this.privSpeechContext.setSection("phraseDetection",i)}}setLanguageIdJson(){const e=this.privSpeechContext.getSection("phraseDetection");if(void 0!==this.privRecognizerConfig.autoDetectSourceLanguages){const t=this.privRecognizerConfig.autoDetectSourceLanguages.split(",");let n;n="Continuous"===this.privRecognizerConfig.languageIdMode?"DetectContinuous":"DetectAtAudioStart",this.privSpeechContext.setSection("languageId",{Priority:"PrioritizeLatency",languages:t,mode:n,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});const i=this.privRecognizerConfig.sourceLanguageModels;void 0!==i&&(e.customModels=i,e.onInterim={action:"None"},e.onSuccess={action:"None"})}void 0!==this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)&&(e.onInterim={action:"Translate"},e.onSuccess={action:"Translate"},this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"None"},phraseResults:{resultType:"None"}})),this.privSpeechContext.setSection("phraseDetection",e)}setOutputDetailLevelJson(){if(this.privEnableSpeakerId){if("true"===this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase())this.privSpeechContext.setWordLevelTimings();else{this.privRecognizerConfig.parameters.getProperty(s.OutputFormatPropertyName,o.OutputFormat[o.OutputFormat.Simple]).toLowerCase()===o.OutputFormat[o.OutputFormat.Detailed].toLocaleLowerCase()&&this.privSpeechContext.setDetailedOutputFormat()}}}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(e){this.privRecognizerConfig.parameters.setProperty(o.PropertyId.ConversationTranslator_Token,e)}set voiceProfileType(e){this.privRecognizerConfig.parameters.setProperty(o.PropertyId.SpeechServiceConnection_SpeakerIdMode,e)}set authentication(e){this.privAuthentication=e}isDisposed(){return this.privIsDisposed}async dispose(e){if(this.privIsDisposed=!0,void 0!==this.privConnectionConfigurationPromise)try{const t=await this.privConnectionConfigurationPromise;await t.dispose(e)}catch(t){return}}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}async recognize(e,t,n){if(void 0!==this.recognizeOverride)return void await this.recognizeOverride(e,t,n);this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=e,this.setSpeechSegmentationTimeoutJson(),this.setTranslationJson(),this.privSuccessCallback=t,this.privErrorCallback=n,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const r=this.connectImpl();let a;try{const e=await this.audioSource.attach(this.privRequestSession.audioNodeId),t=await this.audioSource.format,n=await this.audioSource.deviceInfo;this.privIsLiveAudio=n.type&&n.type===s.type.Microphones,a=new i.ReplayableAudioNode(e,t.avgBytesPerSec),await this.privRequestSession.onAudioSourceAttachCompleted(a,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:n}}catch(l){throw await this.privRequestSession.onStopRecognizing(),l}try{await r}catch(l){return void await this.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,l)}const c=new o.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,c),this.receiveMessage();this.sendAudio(a).catch((async e=>{await this.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,e)}))}async stopRecognizing(){if(this.privRequestSession.isRecognizing)try{await this.audioSource.turnOff(),await this.sendFinalAudio(),await this.privRequestSession.onStopRecognizing(),await this.privRequestSession.turnCompletionPromise}finally{await this.privRequestSession.dispose()}}async connect(){return await this.connectImpl(),Promise.resolve()}connectAsync(e,t){this.connectImpl().then((()=>{try{e&&e()}catch(n){t&&t(n)}}),(e=>{try{t&&t(e)}catch(n){}}))}async disconnect(){if(await this.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.NoError,"Disconnecting"),void 0!==this.disconnectOverride&&await this.disconnectOverride(),void 0!==this.privConnectionPromise)try{await(await this.privConnectionPromise).dispose()}catch(e){}this.privConnectionPromise=void 0}sendMessage(e){}async sendNetworkMessage(e,t){const n="string"===typeof t?r.MessageType.Text:r.MessageType.Binary,i="string"===typeof t?"application/json":"";return(await this.fetchConnection()).send(new a.SpeechConnectionMessage(n,e,this.privRequestSession.requestId,i,t))}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}set expectContentAssessmentResponse(e){this.privExpectContentAssessmentResponse=e}async sendTelemetryData(){const e=this.privRequestSession.getTelemetry();if(!0!==c.telemetryDataEnabled||this.privIsDisposed||null===e)return;if(c.telemetryData)try{c.telemetryData(e)}catch{}const t=await this.fetchConnection();await t.send(new a.SpeechConnectionMessage(r.MessageType.Text,"telemetry",this.privRequestSession.requestId,"application/json",e))}async cancelRecognitionLocal(e,t,n){this.privRequestSession.isRecognizing&&(await this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,e,t,n))}async receiveMessage(){try{if(this.privIsDisposed)return;let e=await this.fetchConnection();const t=await e.read();if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(!t)return this.receiveMessage();this.privServiceHasSentMessage=!0;const n=a.SpeechConnectionMessage.fromConnectionMessage(t);if(n.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(n.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const t=s.SpeechDetected.fromJSON(n.textBody),i=new o.RecognitionEventArgs(t.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,i);break;case"speech.enddetected":let a;a=n.textBody.length>0?n.textBody:"{ Offset: 0 }";const c=s.SpeechDetected.fromJSON(a),l=new o.RecognitionEventArgs(c.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,l);break;case"turn.end":await this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,await this.cancelRecognitionLocal(o.CancellationReason.EndOfStream,o.CancellationErrorCode.NoError,void 0));const u=new o.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)return void(this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,u));e=await this.fetchConnection(),await this.sendPrePayloadJSON(e);break;default:await this.processTypeSpecificMessages(n)||this.privServiceEvents&&this.serviceEvents.onEvent(new r.ServiceEvent(n.path.toLowerCase(),n.textBody))}return this.receiveMessage()}catch(e){return null}}updateSpeakerDiarizationAudioOffset(){const e=this.privRequestSession.recognitionBytesSent/this.privAverageBytesPerMs;this.privSpeechContext.setSpeakerDiarizationAudioOffsetMs(e)}sendSpeechContext(e,t){this.privEnableSpeakerId&&this.updateSpeakerDiarizationAudioOffset();const n=this.speechContext.toJSON();if(t&&this.privRequestSession.onSpeechContext(),n)return e.send(new a.SpeechConnectionMessage(r.MessageType.Text,"speech.context",this.privRequestSession.requestId,"application/json",n))}noOp(){}async sendPrePayloadJSON(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this.sendPrePayloadJSONOverride)return this.sendPrePayloadJSONOverride(e);await this.sendSpeechContext(e,t),await this.sendWaveHeader(e)}async sendWaveHeader(e){const t=await this.audioSource.format;return e.send(new a.SpeechConnectionMessage(r.MessageType.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",t.header))}connectImpl(){return void 0!==this.privConnectionPromise?this.privConnectionPromise.then((e=>e.state()===r.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise),(()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()))):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch((()=>{})),void 0!==this.postConnectImplOverride?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(e,t,n){if(t.onSpeechContext(),!0!==c.telemetryDataEnabled){const e={context:{system:JSON.parse(n).context.system}};n=JSON.stringify(e)}if("true"===this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()){const e=JSON.parse(n);e.context.DisableReferenceChannel="True",e.context.MicSpec="1_0_0",n=JSON.stringify(e)}if(n)return e.send(new a.SpeechConnectionMessage(r.MessageType.Text,"speech.config",t.requestId,"application/json",n))}async fetchConnection(){return void 0!==this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.then((e=>e.state()===r.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise),(()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()))):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async sendAudio(e){const t=await this.audioSource.format;this.privAverageBytesPerMs=t.avgBytesPerSec/1e3;let n=Date.now();const i=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),o=t.avgBytesPerSec/1e3*parseInt(i,10),s=this.privRequestSession.recogNumber,c=async()=>{if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===s){const i=await this.fetchConnection(),l=await e.read();if(this.privRequestSession.isSpeechEnded)return;let u,d;if(!l||l.isEnd?(u=null,d=0):(u=l.buffer,this.privRequestSession.onAudioSent(u.byteLength),d=o>=this.privRequestSession.bytesSent?0:Math.max(0,n-Date.now())),0!==d&&await this.delay(d),null!==u&&(n=Date.now()+1e3*u.byteLength/(2*t.avgBytesPerSec)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===s){if(i.send(new a.SpeechConnectionMessage(r.MessageType.Binary,"audio",this.privRequestSession.requestId,null,u)).catch((()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch((()=>{}))})),null===l||void 0===l||!l.isEnd)return c();this.privIsLiveAudio||this.privRequestSession.onSpeechEnded()}}};return c()}async retryableConnect(){let e=!1;this.privAuthFetchEventId=r.createNoDashGuid();const t=this.privRequestSession.sessionId;this.privConnectionId=void 0!==t?t:r.createNoDashGuid(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let n=0,i="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId),r=await t;await this.privRequestSession.onAuthCompleted(!1);const o=this.privConnectionFactory.create(this.privRecognizerConfig,r,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(o.events),o.events.attach((e=>{this.connectionEvents.onEvent(e)}));const s=await o.open();if(200===s.statusCode)return await this.privRequestSession.onConnectionEstablishCompleted(s.statusCode),Promise.resolve(o);1006===s.statusCode&&(e=!0),n=s.statusCode,i=s.reason,this.privRequestSession.onRetryConnection()}return await this.privRequestSession.onConnectionEstablishCompleted(n,i),Promise.reject("Unable to contact server. StatusCode: ".concat(n,", ").concat(this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint)," Reason: ").concat(i))}delay(e){return new Promise((t=>this.privSetTimeout(t,e)))}writeBufferToConsole(e){let t="Buffer Size: ";if(null===e)t+="null";else{const n=new Uint8Array(e);t+="".concat(e.byteLength,"\r\n");for(let i=0;i<e.byteLength;i++)t+=n[i].toString(16).padStart(2,"0")+" ",(i+1)%16===0&&(console.info(t),t="")}console.info(t)}async sendFinalAudio(){const e=await this.fetchConnection();await e.send(new a.SpeechConnectionMessage(r.MessageType.Binary,"audio",this.privRequestSession.requestId,null,null))}async configureConnection(){const e=await this.connectImpl();return void 0!==this.configConnectionOverride?this.configConnectionOverride(e):(await this.sendSpeechServiceConfig(e,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendPrePayloadJSON(e,!1),e)}}t.ServiceRecognizerBase=c,c.telemetryDataEnabled=!0},4933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceTelemetryListener=void 0;const i=n(2307),r=n(4142);t.ServiceTelemetryListener=class{constructor(e,t,n){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=e,this.privAudioSourceId=t,this.privAudioNodeId=n,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(e){e>0&&this.privPhraseLatencies.push(Date.now()-e)}hypothesisReceived(e){e>0&&this.privHypothesisLatencies.push(Date.now()-e)}onEvent(e){if(!this.privIsDisposed&&(e instanceof r.RecognitionTriggeredEvent&&e.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof i.AudioStreamNodeAttachingEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof i.AudioStreamNodeAttachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof i.AudioSourceErrorEvent&&e.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof i.AudioStreamNodeErrorEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof i.AudioStreamNodeDetachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Name:"Microphone",Start:this.privMicStartTime})),e instanceof r.ConnectingToServiceEvent&&e.requestId===this.privRequestId&&(this.privConnectionId=e.sessionId),e instanceof i.ConnectionStartEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionStartTime=e.eventTime),e instanceof i.ConnectionEstablishedEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof i.ConnectionEstablishErrorEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Error:this.getConnectionError(e.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof i.ConnectionMessageReceivedEvent&&e.connectionId===this.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path)){this.privReceivedMessages[e.message.headers.path]||(this.privReceivedMessages[e.message.headers.path]=new Array);const t=50;this.privReceivedMessages[e.message.headers.path].length<t&&this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)}}getTelemetry(){const e=new Array;this.privListeningTriggerMetric&&e.push(this.privListeningTriggerMetric),this.privMicMetric&&e.push(this.privMicMetric),this.privConnectionEstablishMetric&&e.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&e.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&e.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const t={Metrics:e,ReceivedMessages:this.privReceivedMessages},n=JSON.stringify(t);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],n}get hasTelemetry(){return 0!==Object.keys(this.privReceivedMessages).length||null!==this.privListeningTriggerMetric||null!==this.privMicMetric||null!==this.privConnectionEstablishMetric||0!==this.privPhraseLatencies.length||0!==this.privHypothesisLatencies.length}dispose(){this.privIsDisposed=!0}getConnectionError(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}}}},4436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognitionConfig=void 0;const i=n(9859);t.SpeakerRecognitionConfig=class{constructor(e,t){this.privContext=e||new i.Context(null),this.privParameters=t}get parameters(){return this.privParameters}get Context(){return this.privContext}}},482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileConnectionFactory=t.SpeakerRecognitionConnectionFactory=void 0;const i=n(2277),r=n(8040),o=n(2679),s=n(9859),a=n(8643);class c extends o.ConnectionFactoryBase{create(e,t,n,c){let l=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint);if(!l){const t=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),i=o.ConnectionFactoryBase.getHostSuffix(t),s=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://".concat(t,".spr-frontend.speech").concat(i)),a=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_SpeakerIdMode,"TextIndependentIdentification");l="".concat(s,"/speaker/ws/").concat(this.scenarioToPath(a),"/").concat(n)}const u={format:"simple",language:e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(e,u,l);const d={};void 0!==t.token&&""!==t.token&&(d[t.headerName]=t.token),d[a.HeaderNames.ConnectionId]=c,d[a.HeaderNames.SpIDAuthKey]=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Key),e.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,l);const h="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new i.WebsocketConnection(l,u,d,new s.WebsocketMessageFormatter,i.ProxyInfo.fromRecognizerConfig(e),h,c)}scenarioToPath(e){switch(e){case"TextIndependentVerification":case"2":return"verification/text-independent";case"TextDependentVerification":case"1":return"verification/text-dependent";default:return"identification/text-independent"}}}t.SpeakerRecognitionConnectionFactory=class extends c{create(e,t,n){return super.create(e,t,"recognition",n)}};t.VoiceProfileConnectionFactory=class extends c{create(e,t,n){return super.create(e,t,"profile",n)}}},7544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerServiceRecognizer=void 0;const i=n(2277),r=n(2307),o=n(8040),s=n(9859),a=n(222);class c extends s.ServiceRecognizerBase{constructor(e,t,n,i,r){super(e,t,n,i,r),this.privSpeakerRecognizer=r,this.privSpeakerAudioSource=n,this.recognizeSpeaker=e=>this.recognizeSpeakerOnce(e),this.sendPrePayloadJSONOverride=()=>this.noOp()}processTypeSpecificMessages(e){let t=!1;const n=new o.PropertyCollection;if(e.messageType===r.MessageType.Text&&n.setProperty(o.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),"speaker.response"===e.path.toLowerCase()){const n=JSON.parse(e.textBody);let i;i="success"!==n.status.statusCode.toLowerCase()?new o.SpeakerRecognitionResult(n,o.ResultReason.Canceled,o.CancellationErrorCode.ServiceError,n.status.reason):new o.SpeakerRecognitionResult(n,o.ResultReason.RecognizedSpeaker),this.privResultDeferral&&this.privResultDeferral.resolve(i),t=!0}const i=new r.Deferred;return i.resolve(t),i.promise}cancelRecognition(e,t,n,i,r){if((new o.PropertyCollection).setProperty(s.CancellationErrorCodePropertyName,o.CancellationErrorCode[i]),this.privResultDeferral){const e=new o.SpeakerRecognitionResult({scenario:this.privSpeakerModel.scenario,status:{statusCode:r,reason:r}},o.ResultReason.Canceled,i,r);try{this.privResultDeferral.resolve(e)}catch(r){this.privResultDeferral.reject(r)}}}async recognizeSpeakerOnce(e){this.privSpeakerModel=e,this.voiceProfileType=e.scenario,this.privResultDeferral||(this.privResultDeferral=new r.Deferred),this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(o.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const t=this.connectImpl(),n=this.sendPreAudioMessages(this.extractSpeakerContext(e)),s=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),a=await this.privSpeakerAudioSource.format,c=await this.privSpeakerAudioSource.deviceInfo,l=new i.ReplayableAudioNode(s,a.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(l,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:c};try{await t,await n}catch(d){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,d)}const u=new o.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,u),this.receiveMessage();return this.sendAudio(l).then((()=>{}),(e=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,e)})),this.privResultDeferral.promise}async sendPreAudioMessages(e){const t=await this.fetchConnection();await this.sendSpeakerRecognition(t,e)}async sendSpeakerRecognition(e,t){const n=JSON.stringify(t);return e.send(new a.SpeechConnectionMessage(r.MessageType.Text,"speaker.context",this.privRequestSession.requestId,"application/json; charset=utf-8",n))}extractSpeakerContext(e){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:e.profileIds,scenario:e.scenario}}}t.SpeakerServiceRecognizer=c},9252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConnectionFactory=void 0;const i=n(2277),r=n(9859),o=n(8040),s=n(2679),a=n(9859),c=n(8643),l=n(7237);class u extends s.ConnectionFactoryBase{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/speech/universal/v"}create(e,t,n){let u=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint,void 0);const d=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Region,void 0),h=s.ConnectionFactoryBase.getHostSuffix(d),p=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Host,"wss://"+d+".stt.speech"+h),f={},g=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_EndpointId,void 0),m=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(g?u&&-1!==u.search(l.QueryParameterNames.CustomSpeechDeploymentId)||(f[l.QueryParameterNames.CustomSpeechDeploymentId]=g):m&&(u&&-1!==u.search(l.QueryParameterNames.Language)||(f[l.QueryParameterNames.Language]=m)),u&&-1!==u.search(l.QueryParameterNames.Format)||(f[l.QueryParameterNames.Format]=e.parameters.getProperty(r.OutputFormatPropertyName,o.OutputFormat[o.OutputFormat.Simple]).toLowerCase()),void 0!==e.autoDetectSourceLanguages&&(f[l.QueryParameterNames.EnableLanguageId]="true"),this.setCommonUrlParams(e,f,u),!u)switch(e.recognitionMode){case a.RecognitionMode.Conversation:u="true"===e.parameters.getProperty(r.ForceDictationPropertyName,"false")?p+this.dictationRelativeUri:void 0!==e.recognitionEndpointVersion&&parseInt(e.recognitionEndpointVersion,10)>1?"".concat(p).concat(this.universalUri).concat(e.recognitionEndpointVersion):p+this.conversationRelativeUri;break;case a.RecognitionMode.Dictation:u=p+this.dictationRelativeUri;break;default:u=void 0!==e.recognitionEndpointVersion&&parseInt(e.recognitionEndpointVersion,10)>1?"".concat(p).concat(this.universalUri).concat(e.recognitionEndpointVersion):p+this.interactiveRelativeUri}const v={};void 0!==t.token&&""!==t.token&&(v[t.headerName]=t.token),v[c.HeaderNames.ConnectionId]=n;const y="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false"),S=new i.WebsocketConnection(u,f,v,new a.WebsocketMessageFormatter,i.ProxyInfo.fromRecognizerConfig(e),y,n),C=S.uri;return e.parameters.setProperty(o.PropertyId.SpeechServiceConnection_Url,C),S}}t.SpeechConnectionFactory=u},222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConnectionMessage=void 0;const i=n(2307),r=n(8643);class o extends i.ConnectionMessage{constructor(e,t,n,o,s,a,c,l){if(!t)throw new i.ArgumentNullError("path");if(!n)throw new i.ArgumentNullError("requestId");const u={};if(u[r.HeaderNames.Path]=t,u[r.HeaderNames.RequestId]=n,u[r.HeaderNames.RequestTimestamp]=(new Date).toISOString(),o&&(u[r.HeaderNames.ContentType]=o),a&&(u[r.HeaderNames.RequestStreamId]=a),c)for(const i in c)i&&(u[i]=c[i]);l?super(e,s,u,l):super(e,s,u),this.privPath=t,this.privRequestId=n,this.privContentType=o,this.privStreamId=a,this.privAdditionalHeaders=c}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(e){let t=null,n=null,i=null,s=null;const a={};if(e.headers)for(const o in e.headers)o&&(o.toLowerCase()===r.HeaderNames.Path.toLowerCase()?t=e.headers[o]:o.toLowerCase()===r.HeaderNames.RequestId.toLowerCase()?n=e.headers[o]:o.toLowerCase()===r.HeaderNames.ContentType.toLowerCase()?i=e.headers[o]:o.toLowerCase()===r.HeaderNames.RequestStreamId.toLowerCase()?s=e.headers[o]:a[o]=e.headers[o]);return new o(e.messageType,t,n,i,e.body,s,a,e.id)}}t.SpeechConnectionMessage=o},9853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechContext=void 0;t.SpeechContext=class{constructor(e){this.privContext={},this.privDynamicGrammar=e}getSection(e){return this.privContext[e]||{}}setSection(e,t){this.privContext[e]=t}setPronunciationAssessmentParams(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];void 0===this.privContext.phraseDetection&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),void 0===this.privContext.phraseDetection.enrichment&&(this.privContext.phraseDetection.enrichment={pronunciationAssessment:{}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(e),n&&(this.privContext.phraseDetection.mode="Conversation"),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),-1===this.privContext.phraseOutput.detailed.options.indexOf("SNR")&&this.privContext.phraseOutput.detailed.options.push("SNR"),t&&(this.privContext.phraseDetection.enrichment.contentAssessment={topic:t},this.privContext.phraseOutput.detailed.options.push("ContentAssessment"))}setDetailedOutputFormat(){void 0===this.privContext.phraseOutput&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),void 0===this.privContext.phraseOutput.detailed&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed"}setWordLevelTimings(){void 0===this.privContext.phraseOutput&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),void 0===this.privContext.phraseOutput.detailed&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",-1===this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}setSpeakerDiarizationAudioOffsetMs(e){this.privContext.phraseDetection.speakerDiarization.audioOffsetMs=e}toJSON(){const e=this.privDynamicGrammar.generateGrammarObject();this.setSection("dgi",e);return JSON.stringify(this.privContext)}}},4863:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.type=t.connectivity=t.Device=t.OS=t.System=t.Context=t.SpeechServiceConfig=void 0;t.SpeechServiceConfig=class{constructor(e){this.context=e}serialize(){return JSON.stringify(this,((e,t)=>{if(t&&"object"===typeof t&&!Array.isArray(t)){const e={};for(const n in t)Object.hasOwnProperty.call(t,n)&&(e[n&&n.charAt(0).toLowerCase()+n.substring(1)]=t[n]);return e}return t}))}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(e){this.recognition=e.toLowerCase()}};t.Context=class{constructor(e){this.system=new n,this.os=e}};class n{constructor(){this.name="SpeechSDK",this.version="1.36.0",this.build="JavaScript",this.lang="JavaScript"}}t.System=n;t.OS=class{constructor(e,t,n){this.platform=e,this.name=t,this.version=n}};t.Device=class{constructor(e,t,n){this.manufacturer=e,this.model=t,this.version=n}},function(e){e.Bluetooth="Bluetooth",e.Wired="Wired",e.WiFi="WiFi",e.Cellular="Cellular",e.InBuilt="InBuilt",e.Unknown="Unknown"}(t.connectivity||(t.connectivity={})),function(e){e.Phone="Phone",e.Speaker="Speaker",e.Car="Car",e.Headset="Headset",e.Thermostat="Thermostat",e.Microphones="Microphones",e.Deskphone="Deskphone",e.RemoteControl="RemoteControl",e.Unknown="Unknown",e.File="File",e.Stream="Stream"}(t.type||(t.type={}))},9173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5007:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechServiceRecognizer=void 0;const i=n(8040),r=n(9859);class o extends r.ServiceRecognizerBase{constructor(e,t,n,i,r){super(e,t,n,i,r),this.privSpeechRecognizer=r}async processTypeSpecificMessages(e){let t;const n=new i.PropertyCollection;n.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,e.textBody);let o=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const c=r.SpeechHypothesis.fromJSON(e.textBody),l=c.Offset+this.privRequestSession.currentTurnAudioOffset;t=new i.SpeechRecognitionResult(this.privRequestSession.requestId,i.ResultReason.RecognizingSpeech,c.Text,c.Duration,l,c.Language,c.LanguageDetectionConfidence,void 0,void 0,e.textBody,n),this.privRequestSession.onHypothesis(l);const u=new i.SpeechRecognitionEventArgs(t,c.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,u)}catch(s){}o=!0;break;case"speech.phrase":const d=r.SimpleSpeechPhrase.fromJSON(e.textBody),h=r.EnumTranslation.implTranslateRecognitionResult(d.RecognitionStatus,this.privExpectContentAssessmentResponse);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+d.Offset+d.Duration),i.ResultReason.Canceled===h){const e=r.EnumTranslation.implTranslateCancelResult(d.RecognitionStatus),t=r.EnumTranslation.implTranslateCancelErrorCode(d.RecognitionStatus);await this.cancelRecognitionLocal(e,t,r.EnumTranslation.implTranslateErrorDetails(t))}else{if(!this.privRequestSession.isSpeechEnded||h!==i.ResultReason.NoMatch||d.RecognitionStatus===r.RecognitionStatus.InitialSilenceTimeout){if(this.privRecognizerConfig.parameters.getProperty(r.OutputFormatPropertyName)===i.OutputFormat[i.OutputFormat.Simple])t=new i.SpeechRecognitionResult(this.privRequestSession.requestId,h,d.DisplayText,d.Duration,d.Offset+this.privRequestSession.currentTurnAudioOffset,d.Language,d.LanguageDetectionConfidence,void 0,void 0,e.textBody,n);else{const o=r.DetailedSpeechPhrase.fromJSON(e.textBody),s=o.Offset+this.privRequestSession.currentTurnAudioOffset,a=o.getJsonWithCorrectedOffsets(s);t=new i.SpeechRecognitionResult(this.privRequestSession.requestId,h,o.RecognitionStatus===r.RecognitionStatus.Success?o.NBest[0].Display:void 0,o.Duration,s,o.Language,o.LanguageDetectionConfidence,void 0,void 0,a,n)}const o=new i.SpeechRecognitionEventArgs(t,t.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,o)}catch(s){}}if(this.privSuccessCallback){try{this.privSuccessCallback(t)}catch(a){this.privErrorCallback&&this.privErrorCallback(a)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}o=!0}return o}cancelRecognition(e,t,n,o,s){const a=new i.PropertyCollection;if(a.setProperty(r.CancellationErrorCodePropertyName,i.CancellationErrorCode[o]),this.privSpeechRecognizer.canceled){const t=new i.SpeechRecognitionCanceledEventArgs(n,s,o,void 0,e);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,t)}catch{}}if(this.privSuccessCallback){const e=new i.SpeechRecognitionResult(t,i.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,s,void 0,a);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}}t.SpeechServiceRecognizer=o},8705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisAdapter=void 0;const i=n(8040),r=n(9859);class o extends r.SynthesisAdapterBase{constructor(e,t,n,i,r){super(e,t,n,r),this.privSpeechSynthesizer=i,this.privSynthesizer=i}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(this.privSpeechSynthesizer)}onSynthesisStarted(e){const t=new i.SpeechSynthesisEventArgs(new i.SpeechSynthesisResult(e,i.ResultReason.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,t)}onSynthesizing(e){if(this.privSpeechSynthesizer.synthesizing)try{const t=this.privSynthesisTurn.audioOutputFormat.addHeader(e),n=new i.SpeechSynthesisEventArgs(new i.SpeechSynthesisResult(this.privSynthesisTurn.requestId,i.ResultReason.SynthesizingAudio,t));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,n)}catch(t){}}onSynthesisCancelled(e){if(this.privSpeechSynthesizer.SynthesisCanceled){const t=new i.SpeechSynthesisEventArgs(e);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,t)}catch{}}}onSynthesisCompleted(e){if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new i.SpeechSynthesisEventArgs(e))}catch(t){}}onWordBoundary(e){if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,e)}catch(t){}}onVisemeReceived(e){if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,e)}catch(t){}}onBookmarkReached(e){if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,e)}catch(t){}}}t.SpeechSynthesisAdapter=o},3344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisConnectionFactory=void 0;const i=n(2277),r=n(8040),o=n(2679),s=n(9859),a=n(8643),c=n(7237);t.SpeechSynthesisConnectionFactory=class{constructor(){this.synthesisUri="/cognitiveservices/websocket/v1"}create(e,t,n){let l=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);const u=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,void 0),d=o.ConnectionFactoryBase.getHostSuffix(u),h=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId,void 0),p=void 0===h?"tts":"voice",f=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://"+u+"."+p+".speech"+d),g={},m={};void 0!==t.token&&""!==t.token&&(m[t.headerName]=t.token),m[a.HeaderNames.ConnectionId]=n,void 0!==h&&""!==h&&(l&&-1!==l.search(c.QueryParameterNames.CustomVoiceDeploymentId)||(g[c.QueryParameterNames.CustomVoiceDeploymentId]=h)),e.avatarEnabled&&(l&&-1!==l.search(c.QueryParameterNames.EnableAvatar)||(g[c.QueryParameterNames.EnableAvatar]="true")),l||(l=f+this.synthesisUri),e.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,l);const v="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new i.WebsocketConnection(l,g,m,new s.WebsocketMessageFormatter,i.ProxyInfo.fromParameters(e.parameters),v,n)}}},4526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAdapterBase=void 0;const i=n(2307),r=n(8040),o=n(9859),s=n(222);class a{constructor(e,t,n,s){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!e)throw new i.ArgumentNullError("authentication");if(!t)throw new i.ArgumentNullError("connectionFactory");if(!n)throw new i.ArgumentNullError("synthesizerConfig");this.privAuthentication=e,this.privConnectionFactory=t,this.privSynthesizerConfig=n,this.privIsDisposed=!1,this.privSessionAudioDestination=s,this.privSynthesisTurn=new o.SynthesisTurn,this.privConnectionEvents=new i.EventSource,this.privServiceEvents=new i.EventSource,this.privSynthesisContext=new o.SynthesisContext,this.privAgentConfig=new o.AgentConfig,this.connectionEvents.attach((e=>{if("ConnectionClosedEvent"===e.name){const t=e;1e3!==t.statusCode&&this.cancelSynthesisLocal(r.CancellationReason.Error,1007===t.statusCode?r.CancellationErrorCode.BadRequestParameters:r.CancellationErrorCode.ConnectionFailure,"".concat(t.reason," websocket error code: ").concat(t.statusCode))}}))}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(e){this.privAudioOutputFormat=e,this.privSynthesisTurn.audioOutputFormat=e,void 0!==this.privSessionAudioDestination&&(this.privSessionAudioDestination.format=e),void 0!==this.synthesisContext&&(this.synthesisContext.audioOutputFormat=e)}isDisposed(){return this.privIsDisposed}async dispose(e){if(this.privIsDisposed=!0,void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.close(),void 0!==this.privConnectionConfigurationPromise){const t=await this.privConnectionConfigurationPromise;await t.dispose(e)}}async connect(){await this.connectImpl()}async sendNetworkMessage(e,t){const n="string"===typeof t?i.MessageType.Text:i.MessageType.Binary,r="string"===typeof t?"application/json":"";return(await this.fetchConnection()).send(new s.SpeechConnectionMessage(n,e,this.privSynthesisTurn.requestId,r,t))}async Speak(e,t,n,i,o,s){let a;if(a=t?e:this.privSynthesizer.buildSsml(e),void 0!==this.speakOverride)return this.speakOverride(a,n,i,o);this.privSuccessCallback=i,this.privErrorCallback=o,this.privSynthesisTurn.startNewSynthesis(n,e,t,s);try{await this.connectImpl();const e=await this.fetchConnection();await this.sendSynthesisContext(e),await this.sendSsmlMessage(e,a,n),this.onSynthesisStarted(n),this.receiveMessage()}catch(c){return this.cancelSynthesisLocal(r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,c),Promise.reject(c)}}async stopSpeaking(){await this.connectImpl();return(await this.fetchConnection()).send(new s.SpeechConnectionMessage(i.MessageType.Text,"synthesis.control",this.privSynthesisTurn.requestId,"application/json",JSON.stringify({action:"stop"})))}cancelSynthesis(e,t,n,i){const s=new r.PropertyCollection;s.setProperty(o.CancellationErrorCodePropertyName,r.CancellationErrorCode[n]);const a=new r.SpeechSynthesisResult(e,r.ResultReason.Canceled,void 0,i,s);if(this.onSynthesisCancelled(a),this.privSuccessCallback)try{this.privSuccessCallback(a)}catch{}}cancelSynthesisLocal(e,t,n){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,e,t,n))}processTypeSpecificMessages(e){return!0}async receiveMessage(){try{const t=await this.fetchConnection(),n=await t.read();if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!n)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const a=s.SpeechConnectionMessage.fromConnectionMessage(n);if(a.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(a.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse(a.textBody);break;case"response":this.privSynthesisTurn.onServiceResponseMessage(a.textBody);break;case"audio":this.privSynthesisTurn.streamId.toLowerCase()===a.streamId.toLowerCase()&&a.binaryBody&&(this.privSynthesisTurn.onAudioChunkReceived(a.binaryBody),this.onSynthesizing(a.binaryBody),void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.write(a.binaryBody));break;case"audio.metadata":const t=o.SynthesisAudioMetadata.fromJSON(a.textBody).Metadata;for(const e of t)switch(e.Type){case o.MetadataType.WordBoundary:case o.MetadataType.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(e);const t=new r.SpeechSynthesisWordBoundaryEventArgs(e.Data.Offset,e.Data.Duration,e.Data.text.Text,e.Data.text.Length,e.Type===o.MetadataType.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,e.Data.text.BoundaryType);this.onWordBoundary(t);break;case o.MetadataType.Bookmark:const n=new r.SpeechSynthesisBookmarkEventArgs(e.Data.Offset,e.Data.Bookmark);this.onBookmarkReached(n);break;case o.MetadataType.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(e),e.Data.IsLastAnimation){const t=new r.SpeechSynthesisVisemeEventArgs(e.Data.Offset,e.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());this.onVisemeReceived(t)}break;case o.MetadataType.AvatarSignal:this.onAvatarEvent(e);break;case o.MetadataType.SessionEnd:this.privSynthesisTurn.onSessionEnd(e)}break;case"turn.end":let n;this.privSynthesisTurn.onServiceTurnEndResponse();try{n=await this.privSynthesisTurn.constructSynthesisResult(),this.privSuccessCallback&&this.privSuccessCallback(n)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.onSynthesisCompleted(n);break;default:this.processTypeSpecificMessages(a)||this.privServiceEvents&&this.serviceEvents.onEvent(new i.ServiceEvent(a.path.toLowerCase(),a.textBody))}return this.receiveMessage()}catch(t){}}sendSynthesisContext(e){this.setSynthesisContextSynthesisSection();const t=this.synthesisContext.toJSON();if(t)return e.send(new s.SpeechConnectionMessage(i.MessageType.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",t))}setSpeechConfigSynthesisSection(){}connectImpl(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!=this.privConnectionPromise)return this.privConnectionPromise.then((e=>e.state()===i.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise),(()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl())));this.privAuthFetchEventId=i.createNoDashGuid(),this.privConnectionId=i.createNoDashGuid(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=t.then((async t=>{this.privSynthesisTurn.onAuthCompleted(!1);const n=this.privConnectionFactory.create(this.privSynthesizerConfig,t,this.privConnectionId);n.events.attach((e=>{this.connectionEvents.onEvent(e)}));const i=await n.open();return 200===i.statusCode?(this.privSynthesisTurn.onConnectionEstablishCompleted(i.statusCode),Promise.resolve(n)):403!==i.statusCode||e?(this.privSynthesisTurn.onConnectionEstablishCompleted(i.statusCode),Promise.reject("Unable to contact server. StatusCode: ".concat(i.statusCode,",\n                    ").concat(this.privSynthesizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Url)," Reason: ").concat(i.reason))):this.connectImpl(!0)}),(e=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(e)})),this.privConnectionPromise.catch((()=>{})),this.privConnectionPromise}sendSpeechServiceConfig(e,t){if(t)return e.send(new s.SpeechConnectionMessage(i.MessageType.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",t))}sendSsmlMessage(e,t,n){return e.send(new s.SpeechConnectionMessage(i.MessageType.Text,"ssml",n,"application/ssml+xml",t))}async fetchConnection(){return void 0!==this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.then((e=>e.state()===i.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise),(()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()))):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async configureConnection(){const e=await this.connectImpl();return void 0!==this.configConnectionOverride?this.configConnectionOverride(e):(this.setSpeechConfigSynthesisSection(),await this.sendSpeechServiceConfig(e,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),e)}onAvatarEvent(e){}onSynthesisStarted(e){}onSynthesizing(e){}onSynthesisCancelled(e){}onSynthesisCompleted(e){}onWordBoundary(e){}onVisemeReceived(e){}onBookmarkReached(e){}}t.SynthesisAdapterBase=a,a.telemetryDataEnabled=!0},4855:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisContext=void 0;const i=n(8040);t.SynthesisContext=class{constructor(){this.privContext={}}setSection(e,t){this.privContext[e]=t}set audioOutputFormat(e){this.privAudioOutputFormat=e}toJSON(){return JSON.stringify(this.privContext)}setSynthesisSection(e){const t=this.buildSynthesisContext(e);this.setSection("synthesis",t)}buildSynthesisContext(e){return{audio:{metadataOptions:{bookmarkEnabled:!(null===e||void 0===e||!e.bookmarkReached),punctuationBoundaryEnabled:null===e||void 0===e?void 0:e.properties.getProperty(i.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary,!(null===e||void 0===e||!e.wordBoundary)),sentenceBoundaryEnabled:null===e||void 0===e?void 0:e.properties.getProperty(i.PropertyId.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!(null===e||void 0===e||!e.visemeReceived),wordBoundaryEnabled:null===e||void 0===e?void 0:e.properties.getProperty(i.PropertyId.SpeechServiceResponse_RequestWordBoundary,!(null===e||void 0===e||!e.wordBoundary))},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:null===e||void 0===e?void 0:e.autoDetectSourceLanguage}}}}},3903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisStartedEvent=t.ConnectingToSynthesisServiceEvent=t.SynthesisTriggeredEvent=t.SpeechSynthesisEvent=void 0;const i=n(2307);class r extends i.PlatformEvent{constructor(e,t){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.EventType.Info),this.privRequestId=t}get requestId(){return this.privRequestId}}t.SpeechSynthesisEvent=r;t.SynthesisTriggeredEvent=class extends r{constructor(e,t,n){super("SynthesisTriggeredEvent",e),this.privSessionAudioDestinationId=t,this.privTurnAudioDestinationId=n}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}};t.ConnectingToSynthesisServiceEvent=class extends r{constructor(e,t){super("ConnectingToSynthesisServiceEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}};t.SynthesisStartedEvent=class extends r{constructor(e,t){super("SynthesisStartedEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}},3309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisRestAdapter=void 0;const i=n(2277),r=n(8040),o=n(2679),s=n(8643);t.SynthesisRestAdapter=class{constructor(e,t){let n=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!n){const t=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,"westus"),i=o.ConnectionFactoryBase.getHostSuffix(t);n=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"https://".concat(t,".tts.speech").concat(i))}this.privUri="".concat(n,"/cognitiveservices/voices/list");const s=i.RestConfigBase.requestOptions;this.privRestAdapter=new i.RestMessageAdapter(s),this.privAuthentication=t}getVoicesList(e){return this.privRestAdapter.setHeaders(s.HeaderNames.ConnectionId,e),this.privAuthentication.fetch(e).then((e=>(this.privRestAdapter.setHeaders(e.headerName,e.token),this.privRestAdapter.request(i.RestRequestType.Get,this.privUri))))}}},1953:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisTurn=void 0;const i=n(2307),r=n(9709),o=n(8040),s=n(4543),a=n(3903);class c{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=i.createNoDashGuid(),this.privTurnDeferral=new i.Deferred,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(e){this.privStreamId=e}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(e){this.privAudioOutputFormat=e}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}get extraProperties(){if(this.privWebRTCSDP){const e=new o.PropertyCollection;return e.setProperty(o.PropertyId.TalkingAvatarService_WebRTC_SDP,this.privWebRTCSDP),e}}async getAllReceivedAudio(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(await this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}async getAllReceivedAudioWithHeader(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const e=await this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=this.audioOutputFormat.addHeader(e),this.privReceivedAudioWithHeader}return this.getAllReceivedAudio()}startNewSynthesis(e,t,n,i){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=e,this.privRawText=t,this.privIsSSML=n,this.privAudioOutputStream=new r.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",this.privWebRTCSDP="",void 0!==i&&(this.privTurnAudioDestination=i,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new a.SynthesisTriggeredEvent(this.requestId,void 0,void 0===i?void 0:i.id()))}onPreConnectionStart(e){this.privAuthFetchEventId=e,this.onEvent(new a.ConnectingToSynthesisServiceEvent(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(e){e&&this.onComplete()}onConnectionEstablishCompleted(e){if(200===e)return this.onEvent(new a.SynthesisStartedEvent(this.requestId,this.privAuthFetchEventId)),void(this.privBytesReceived=0);403===e&&this.onComplete()}onServiceResponseMessage(e){const t=JSON.parse(e);this.streamId=t.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(e){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch((()=>{}))),this.privInTurn=!0,this.privTurnDeferral=new i.Deferred;const t=JSON.parse(e);t.webrtc&&(this.privWebRTCSDP=t.webrtc.connectionString)}onAudioChunkReceived(e){this.isSynthesizing&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength,void 0!==this.privTurnAudioDestination&&this.privTurnAudioDestination.write(e))}onTextBoundaryEvent(e){this.updateTextOffset(e.Data.text.Text,e.Type)}onVisemeMetadataReceived(e){void 0!==e.Data.AnimationChunk&&(this.privPartialVisemeAnimation+=e.Data.AnimationChunk)}onSessionEnd(e){this.privAudioDuration=e.Data.Offset}async constructSynthesisResult(){const e=await this.getAllReceivedAudioWithHeader();return new o.SpeechSynthesisResult(this.requestId,o.ResultReason.SynthesizingAudioCompleted,e,void 0,this.extraProperties,this.audioDuration)}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const e=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",e}onEvent(e){i.Events.instance.onEvent(e)}static isXmlTag(e){return e.length>=2&&"<"===e[0]&&">"===e[e.length-1]}updateTextOffset(e,t){t===s.MetadataType.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(e,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+e.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!c.isXmlTag(e)&&this.updateTextOffset(e,t))):(this.privSentenceOffset=this.privRawText.indexOf(e,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+e.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!c.isXmlTag(e)&&this.updateTextOffset(e,t)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,void 0!==this.privTurnAudioDestination&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}async readAllAudioFromStream(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{await this.privAudioOutputStream.read(this.privReceivedAudio)}catch(e){this.privReceivedAudio=new ArrayBuffer(0)}}}withinXmlTag(e){return this.privRawText.indexOf("<",e+1)>this.privRawText.indexOf(">",e+1)}}t.SynthesisTurn=c},8960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesizerConfig=t.SynthesisServiceType=void 0;const i=n(9859);var r;!function(e){e[e.Standard=0]="Standard",e[e.Custom=1]="Custom"}(r=t.SynthesisServiceType||(t.SynthesisServiceType={}));t.SynthesizerConfig=class{constructor(e,t){this.privSynthesisServiceType=r.Standard,this.avatarEnabled=!1,this.privSpeechServiceConfig=e||new i.SpeechServiceConfig(new i.Context(null)),this.privParameters=t}get parameters(){return this.privParameters}get synthesisServiceType(){return this.privSynthesisServiceType}set synthesisServiceType(e){this.privSynthesisServiceType=e}set synthesisVideoSection(e){this.privSpeechServiceConfig.Context.synthesis={video:e}}get SpeechServiceConfig(){return this.privSpeechServiceConfig}}},3505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriberConnectionFactory=void 0;const i=n(2277),r=n(8040),o=n(2679),s=n(9859),a=n(8643),c=n(7237);class l extends o.ConnectionFactoryBase{constructor(){super(...arguments),this.multiaudioRelativeUri="/speech/recognition/multiaudio"}create(e,t,n){let c=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);const l=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,"centralus"),u="wss://transcribe."+l+".cts.speech"+o.ConnectionFactoryBase.getHostSuffix(l)+this.multiaudioRelativeUri,d=e.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,u),h={};this.setQueryParams(h,e,c),c||(c=d);const p={};void 0!==t.token&&""!==t.token&&(p[t.headerName]=t.token),p[a.HeaderNames.ConnectionId]=n,e.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,c);const f="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new i.WebsocketConnection(c,h,p,new s.WebsocketMessageFormatter,i.ProxyInfo.fromRecognizerConfig(e),f,n)}setQueryParams(e,t,n){const i=t.parameters.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId,void 0),o=t.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);i&&!(c.QueryParameterNames.CustomSpeechDeploymentId in e)&&(e[c.QueryParameterNames.CustomSpeechDeploymentId]=i),o&&!(c.QueryParameterNames.Language in e)&&(e[c.QueryParameterNames.Language]=o);const a="true"===t.parameters.getProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase(),l=t.parameters.getProperty(s.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple])!==r.OutputFormat[r.OutputFormat.Simple];(a||l)&&(e[c.QueryParameterNames.Format]=r.OutputFormat[r.OutputFormat.Detailed].toLowerCase()),this.setCommonUrlParams(t,e,n)}}t.TranscriberConnectionFactory=l},1666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionConfig=void 0;const i=n(3593);class r extends i.RestConfigBase{static get host(){return r.privHost}static get apiVersion(){return r.privApiVersion}static get clientAppId(){return r.privClientAppId}static get defaultLanguageCode(){return r.privDefaultLanguageCode}static get restPath(){return r.privRestPath}static get webSocketPath(){return r.privWebSocketPath}static get transcriptionEventKeys(){return r.privTranscriptionEventKeys}}t.ConversationConnectionConfig=r,r.privHost="dev.microsofttranslator.com",r.privRestPath="/capito/room",r.privApiVersion="2.0",r.privDefaultLanguageCode="en-US",r.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15",r.privWebSocketPath="/capito/translate",r.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"]},7108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionFactory=void 0;const i=n(2277),r=n(2307),o=n(260),s=n(8040),a=n(2679),c=n(1666),l=n(4914);class u extends a.ConnectionFactoryBase{create(e,t,n){const a=e.parameters.getProperty(s.PropertyId.ConversationTranslator_Host,c.ConversationConnectionConfig.host),u=e.parameters.getProperty(s.PropertyId.ConversationTranslator_CorrelationId,r.createGuid()),d="wss://".concat(a).concat(c.ConversationConnectionConfig.webSocketPath),h=e.parameters.getProperty(s.PropertyId.ConversationTranslator_Token,void 0);o.Contracts.throwIfNullOrUndefined(h,"token");const p={};p[c.ConversationConnectionConfig.configParams.apiVersion]=c.ConversationConnectionConfig.apiVersion,p[c.ConversationConnectionConfig.configParams.token]=h,p[c.ConversationConnectionConfig.configParams.correlationId]=u;const f="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new i.WebsocketConnection(d,p,{},new l.ConversationWebsocketMessageFormatter,i.ProxyInfo.fromRecognizerConfig(e),f,n)}}t.ConversationConnectionFactory=u},6109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionMessage=void 0;const i=n(2307);class r extends i.ConnectionMessage{constructor(e,t,n,i){super(e,t,n,i);const r=JSON.parse(this.textBody);void 0!==r.type&&(this.privConversationMessageType=r.type)}get conversationMessageType(){return this.privConversationMessageType}}t.ConversationConnectionMessage=r},9469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationManager=void 0;const i=n(2277),r=n(260),o=n(8040),s=n(1666);t.ConversationManager=class{constructor(){this.privRequestParams=s.ConversationConnectionConfig.configParams,this.privErrors=s.ConversationConnectionConfig.restErrors,this.privHost=s.ConversationConnectionConfig.host,this.privApiVersion=s.ConversationConnectionConfig.apiVersion,this.privRestPath=s.ConversationConnectionConfig.restPath,this.privRestAdapter=new i.RestMessageAdapter({})}createOrJoin(e,t,n,a){try{r.Contracts.throwIfNullOrUndefined(e,"args");const c=e.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,s.ConversationConnectionConfig.defaultLanguageCode),l=e.getProperty(o.PropertyId.ConversationTranslator_Name,"conversation_host"),u=e.getProperty(o.PropertyId.ConversationTranslator_Host,this.privHost),d=e.getProperty(o.PropertyId.ConversationTranslator_CorrelationId),h=e.getProperty(o.PropertyId.SpeechServiceConnection_Key),p=e.getProperty(o.PropertyId.SpeechServiceConnection_Region),f=e.getProperty(o.PropertyId.SpeechServiceAuthorization_Token);r.Contracts.throwIfNullOrWhitespace(c,"languageCode"),r.Contracts.throwIfNullOrWhitespace(l,"nickname"),r.Contracts.throwIfNullOrWhitespace(u,"endpointHost");const g={};g[this.privRequestParams.apiVersion]=this.privApiVersion,g[this.privRequestParams.languageCode]=c,g[this.privRequestParams.nickname]=l;const m={};d&&(m[this.privRequestParams.correlationId]=d),m[this.privRequestParams.clientAppId]=s.ConversationConnectionConfig.clientAppId,void 0!==t?g[this.privRequestParams.roomId]=t:(r.Contracts.throwIfNullOrUndefined(p,this.privErrors.authInvalidSubscriptionRegion),m[this.privRequestParams.subscriptionRegion]=p,h?m[this.privRequestParams.subscriptionKey]=h:f?m[this.privRequestParams.authorization]="Bearer ".concat(f):r.Contracts.throwIfNullOrUndefined(h,this.privErrors.authInvalidSubscriptionKey));const v={};v.headers=m,this.privRestAdapter.options=v;const y="https://".concat(u).concat(this.privRestPath);this.privRestAdapter.request(i.RestRequestType.Post,y,g,null).then((e=>{const t=i.RestMessageAdapter.extractHeaderValue(this.privRequestParams.requestId,e.headers);if(!e.ok){if(a){let n,i=this.privErrors.invalidCreateJoinConversationResponse.replace("{status}",e.status.toString());try{n=JSON.parse(e.data),i+=" [".concat(n.error.code,": ").concat(n.error.message,"]")}catch(o){i+=" [".concat(e.data,"]")}t&&(i+=" ".concat(t)),a(i)}return}const r=JSON.parse(e.data);if(r&&(r.requestId=t),n){try{n(r)}catch(o){a&&a(o)}n=void 0}})).catch((()=>{}))}catch(c){if(a)if(c instanceof Error){const e=c;a(e.name+": "+e.message)}else a(c)}}leave(e,t){return new Promise(((n,s)=>{try{r.Contracts.throwIfNullOrUndefined(e,this.privErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","token"));const s=e.getProperty(o.PropertyId.ConversationTranslator_Host,this.privHost),a=e.getProperty(o.PropertyId.ConversationTranslator_CorrelationId),c={};c[this.privRequestParams.apiVersion]=this.privApiVersion,c[this.privRequestParams.sessionToken]=t;const l={};a&&(l[this.privRequestParams.correlationId]=a);const u={};u.headers=l,this.privRestAdapter.options=u;const d="https://".concat(s).concat(this.privRestPath);this.privRestAdapter.request(i.RestRequestType.Delete,d,c,null).then((e=>{e.ok,n()})).catch((()=>{}))}catch(a){if(a instanceof Error){const e=a;s(e.name+": "+e.message)}else s(a)}}))}}},7967:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationRequestSession=void 0;const i=n(2307);t.ConversationRequestSession=class{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privSessionId=e,this.privRequestId=i.createNoDashGuid(),this.privRequestCompletionDeferral=new i.Deferred}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get completionPromise(){return this.privRequestCompletionDeferral.promise}onPreConnectionStart(e,t){this.privSessionId=t}onAuthCompleted(e){e&&this.onComplete()}onConnectionEstablishCompleted(e){200!==e&&403===e&&this.onComplete()}onServiceTurnEndResponse(e){e?this.privRequestId=i.createNoDashGuid():this.onComplete()}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)await e.detach()}}onComplete(){}}},8486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationServiceAdapter=void 0;const i=n(2307),r=n(8040),o=n(9859),s=n(6109),a=n(7967),c=n(9537),l=n(4566),u=n(7316);class d extends o.ServiceRecognizerBase{constructor(e,t,n,r,o){super(e,t,n,r,o),this.privConnectionConfigPromise=void 0,this.privLastPartialUtteranceId="",this.privConversationServiceConnector=o,this.privConversationAuthentication=e,this.receiveMessageOverride=()=>this.receiveConversationMessageOverride(),this.recognizeOverride=()=>this.noOp(),this.postConnectImplOverride=e=>this.conversationConnectImpl(e),this.configConnectionOverride=()=>this.configConnection(),this.disconnectOverride=()=>this.privDisconnect(),this.privConversationRequestSession=new a.ConversationRequestSession(i.createNoDashGuid()),this.privConversationConnectionFactory=t,this.privConversationIsDisposed=!1}isDisposed(){return super.isDisposed()||this.privConversationIsDisposed}async dispose(e){if(this.privConversationIsDisposed=!0,void 0!==this.privConnectionConfigPromise){const t=await this.privConnectionConfigPromise;await t.dispose(e)}await super.dispose(e)}async sendMessage(e){return(await this.fetchConnection()).send(new s.ConversationConnectionMessage(i.MessageType.Text,e))}async sendMessageAsync(e){const t=await this.fetchConnection();await t.send(new s.ConversationConnectionMessage(i.MessageType.Text,e))}privDisconnect(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}async processTypeSpecificMessages(){return!0}cancelRecognition(e,t,n,i,o){this.terminateMessageLoop=!0;const s=new r.ConversationTranslationCanceledEventArgs(n,o,i,void 0,e);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,s)}catch{}}async conversationConnectImpl(e){return this.privConnectionLoop=this.startMessageLoop(),e}async receiveConversationMessageOverride(){if(this.isDisposed()||this.terminateMessageLoop)return Promise.resolve();const e=new i.Deferred;try{const n=await this.fetchConnection(),i=await n.read();if(this.isDisposed()||this.terminateMessageLoop)return e.resolve(),Promise.resolve();if(!i)return this.receiveConversationMessageOverride();const s=this.privConversationRequestSession.sessionId,a=i.conversationMessageType.toLowerCase();let d=!1;try{switch(a){case"info":case"participant_command":case"command":const e=u.CommandResponsePayload.fromJSON(i.textBody);switch(e.command.toLowerCase()){case"participantlist":const t=u.ParticipantsListPayloadResponse.fromJSON(i.textBody),n=t.participants.map((e=>({avatar:e.avatar,displayName:e.nickname,id:e.participantId,isHost:e.ishost,isMuted:e.ismuted,isUsingTts:e.usetts,preferredLanguage:e.locale})));this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new c.ParticipantsListEventArgs(t.roomid,t.token,t.translateTo,t.profanityFilter,t.roomProfanityFilter,t.roomLocked,t.muteAll,n,s));break;case"settranslatetolanguages":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.setTranslateToLanguages,e.value,s));break;case"setprofanityfiltering":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.setProfanityFiltering,e.value,s));break;case"setmute":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.setMute,e.value,s));break;case"setmuteall":this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new c.MuteAllEventArgs(e.value,s));break;case"roomexpirationwarning":this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new r.ConversationExpirationEventArgs(e.value,this.privConversationRequestSession.sessionId));break;case"setusetts":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.setUseTTS,e.value,s));break;case"setlockstate":this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new c.LockRoomEventArgs(e.value,s));break;case"changenickname":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.changeNickname,e.value,s));break;case"joinsession":const a=u.ParticipantPayloadResponse.fromJSON(i.textBody),d={avatar:a.avatar,displayName:a.nickname,id:a.participantId,isHost:a.ishost,isMuted:a.ismuted,isUsingTts:a.usetts,preferredLanguage:a.locale};this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new c.ParticipantEventArgs(d,s));break;case"leavesession":const h={id:e.participantId};this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new c.ParticipantEventArgs(h,s));break;case"disconnectsession":e.participantId;break;case"token":const p=new o.CognitiveTokenAuthentication((()=>{const t=e.token;return Promise.resolve(t)}),(()=>{const t=e.token;return Promise.resolve(t)}));this.authentication=p,this.privConversationServiceConnector.onToken(p)}break;case"partial":case"final":const t=u.SpeechResponsePayload.fromJSON(i.textBody),n="final"===a?r.ResultReason.TranslatedParticipantSpeech:r.ResultReason.TranslatingParticipantSpeech,h=new r.ConversationTranslationResult(t.participantId,this.getTranslations(t.translations),t.language,t.id,n,t.recognition,void 0,void 0,i.textBody,void 0);t.isFinal?((void 0!==h.text&&h.text.length>0||t.id===this.privLastPartialUtteranceId)&&(d=!0),d&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new c.ConversationReceivedTranslationEventArgs(l.ConversationTranslatorMessageTypes.final,h,s))):void 0!==h.text&&(this.privLastPartialUtteranceId=t.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new c.ConversationReceivedTranslationEventArgs(l.ConversationTranslatorMessageTypes.partial,h,s)));break;case"translated_message":const p=u.TextResponsePayload.fromJSON(i.textBody),f=new r.ConversationTranslationResult(p.participantId,this.getTranslations(p.translations),p.language,void 0,void 0,p.originalText,void 0,void 0,void 0,i.textBody,void 0);this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new c.ConversationReceivedTranslationEventArgs(l.ConversationTranslatorMessageTypes.instantMessage,f,s))}}catch(t){}return this.receiveConversationMessageOverride()}catch(t){this.terminateMessageLoop=!0}return e.promise}async startMessageLoop(){if(this.isDisposed())return Promise.resolve();this.terminateMessageLoop=!1;const e=this.receiveConversationMessageOverride();try{return await e}catch(t){return this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,t),null}}configConnection(){return this.isDisposed()?Promise.resolve(void 0):void 0!==this.privConnectionConfigPromise?this.privConnectionConfigPromise.then((e=>e.state()===i.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()):this.privConnectionConfigPromise),(()=>(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()))):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then((e=>e)),this.privConnectionConfigPromise)}getTranslations(e){let t;if(void 0!==e){t=new r.Translations;for(const n of e)t.set(n.lang,n.translation)}return t}}t.ConversationServiceAdapter=d},5934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorConnectionFactory=void 0;const i=n(2277),r=n(7354),o=n(260),s=n(8040),a=n(8643),c=n(7237),l=n(2679),u=n(9859);class d extends l.ConnectionFactoryBase{constructor(e){super(),o.Contracts.throwIfNullOrUndefined(e,"convGetter"),this.privConvGetter=e}create(e,t,n){const o="TRUE"===e.parameters.getProperty("ConversationTranslator_MultiChannelAudio","").toUpperCase(),h=this.privConvGetter().room,p=h.cognitiveSpeechRegion||e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Region,""),f={hostSuffix:l.ConnectionFactoryBase.getHostSuffix(p),path:d.CTS_VIRT_MIC_PATH,region:encodeURIComponent(p)};f[c.QueryParameterNames.Language]=encodeURIComponent(e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage,"")),f[c.QueryParameterNames.CtsMeetingId]=encodeURIComponent(h.roomId),f[c.QueryParameterNames.CtsDeviceId]=encodeURIComponent(h.participantId),f[c.QueryParameterNames.CtsIsParticipant]=h.isHost?"":"&"+c.QueryParameterNames.CtsIsParticipant;let g="";const m={},v={};if(o){if(g=e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Endpoint),!g){g="wss://"+e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Host,"transcribe.{region}.cts.speech{hostSuffix}")+"{path}"}g=r.StringUtils.formatString(g,f);const t=new URL(g);t.searchParams.forEach(((e,t)=>{m[t]=e}));(new u.TranscriberConnectionFactory).setQueryParams(m,e,g),m[c.QueryParameterNames.CtsMeetingId]=f[c.QueryParameterNames.CtsMeetingId],m[c.QueryParameterNames.CtsDeviceId]=f[c.QueryParameterNames.CtsDeviceId],h.isHost||(m[c.QueryParameterNames.CtsIsParticipant]=""),c.QueryParameterNames.Format in m||(m[c.QueryParameterNames.Format]="simple"),t.searchParams.forEach(((e,n)=>{t.searchParams.set(n,m[n]),delete m[n]})),g=t.toString()}else{const t=new u.TranslationConnectionFactory;g=t.getEndpointUrl(e,!0),g=r.StringUtils.formatString(g,f),t.setQueryParams(m,e,g)}v[a.HeaderNames.ConnectionId]=n,v[i.RestConfigBase.configParams.token]=h.token,t.token&&(v[t.headerName]=t.token);const y="TRUE"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","").toUpperCase();return new i.WebsocketConnection(g,m,v,new u.WebsocketMessageFormatter,i.ProxyInfo.fromRecognizerConfig(e),y,n)}}t.ConversationTranslatorConnectionFactory=d,d.CTS_VIRT_MIC_PATH="/speech/recognition/dynamicaudio"},9537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationReceivedTranslationEventArgs=t.ParticipantsListEventArgs=t.ParticipantAttributeEventArgs=t.ParticipantEventArgs=t.LockRoomEventArgs=t.MuteAllEventArgs=void 0;const i=n(8040);class r extends i.SessionEventArgs{constructor(e,t){super(t),this.privIsMuted=e}get isMuted(){return this.privIsMuted}}t.MuteAllEventArgs=r;class o extends i.SessionEventArgs{constructor(e,t){super(t),this.privIsLocked=e}get isMuted(){return this.privIsLocked}}t.LockRoomEventArgs=o;class s extends i.SessionEventArgs{constructor(e,t){super(t),this.privParticipant=e}get participant(){return this.privParticipant}}t.ParticipantEventArgs=s;class a extends i.SessionEventArgs{constructor(e,t,n,i){super(i),this.privKey=t,this.privValue=n,this.privParticipantId=e}get value(){return this.privValue}get key(){return this.privKey}get id(){return this.privParticipantId}}t.ParticipantAttributeEventArgs=a;class c extends i.SessionEventArgs{constructor(e,t,n,i,r,o,s,a,c){super(c),this.privRoomId=e,this.privSessionToken=t,this.privTranslateTo=n,this.privProfanityFilter=i,this.privRoomProfanityFilter=r,this.privIsRoomLocked=o,this.privIsRoomLocked=s,this.privParticipants=a}get sessionToken(){return this.privSessionToken}get conversationId(){return this.privRoomId}get translateTo(){return this.privTranslateTo}get profanityFilter(){return this.privProfanityFilter}get roomProfanityFilter(){return this.privRoomProfanityFilter}get isRoomLocked(){return this.privIsRoomLocked}get isMuteAll(){return this.privIsMuteAll}get participants(){return this.privParticipants}}t.ParticipantsListEventArgs=c;t.ConversationReceivedTranslationEventArgs=class{constructor(e,t,n){this.privPayload=t,this.privCommand=e,this.privSessionId=n}get payload(){return this.privPayload}get command(){return this.privCommand}get sessionId(){return this.privSessionId}}},4566:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorCommandTypes=t.ConversationTranslatorMessageTypes=t.InternalParticipants=void 0;t.InternalParticipants=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this.participants=e,this.meId=t}addOrUpdateParticipant(e){if(void 0===e)return;const t=this.getParticipantIndex(e.id);return t>-1?this.participants.splice(t,1,e):this.participants.push(e),this.getParticipant(e.id)}getParticipantIndex(e){return this.participants.findIndex((t=>t.id===e))}getParticipant(e){return this.participants.find((t=>t.id===e))}deleteParticipant(e){this.participants=this.participants.filter((t=>t.id!==e))}get host(){return this.participants.find((e=>!0===e.isHost))}get me(){return this.getParticipant(this.meId)}},t.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",keepAlive:"keep_alive",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"},t.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"}},8388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorRecognizer=t.ConversationRecognizerFactory=void 0;const i=n(9859),r=n(2307),o=n(260),s=n(8040),a=n(7108),c=n(8486);t.ConversationRecognizerFactory=class{static fromConfig(e,t,n){return new l(e,t,n)}};class l extends s.Recognizer{constructor(e,t,n){const i=t;o.Contracts.throwIfNull(i,"speechConfig");const c=e;o.Contracts.throwIfNull(c,"conversationImpl"),super(n,i.properties,new a.ConversationConnectionFactory),this.privConversation=c,this.privIsDisposed=!1,this.privProperties=i.properties.clone(),this.privConnection=s.Connection.fromRecognizer(this);"on"===this.privProperties.getProperty(s.PropertyId.WebWorkerLoadType,"on").toLowerCase()&&"undefined"!==typeof Blob&&"undefined"!==typeof Worker?(this.privSetTimeout=r.Timeout.setTimeout,this.privClearTimeout=r.Timeout.clearTimeout):"undefined"!==typeof window?(this.privSetTimeout=window.setTimeout.bind(window),this.privClearTimeout=window.clearTimeout.bind(window)):(this.privSetTimeout=setTimeout,this.privClearTimeout=clearTimeout)}set connected(e){this.privConnection.connected=e}set disconnected(e){this.privConnection.disconnected=e}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get properties(){return this.privProperties}isDisposed(){return this.privIsDisposed}connect(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfNullOrWhitespace(e,"token"),this.privReco.conversationTranslatorToken=e,this.resetConversationTimeout(),this.privReco.connectAsync(t,n)}catch(i){if(n)if(i instanceof Error){const e=i;n(e.name+": "+e.message)}else n(i)}}disconnect(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then((()=>{e&&e()}),(e=>{t&&t(e)}))}catch(n){if(t)if(n instanceof Error){const e=n;t(e.name+": "+e.message)}else t(n);this.dispose(!0).catch((e=>{r.Events.instance.onEvent(new r.BackgroundEvent(e))}))}}sendRequest(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),this.sendMessage(e,t,n)}catch(i){if(n)if(i instanceof Error){const e=i;n(e.name+": "+e.message)}else n(i);this.dispose(!0).catch((e=>{r.Events.instance.onEvent(new r.BackgroundEvent(e))}))}}onToken(e){this.privConversation.onToken(e)}async close(){this.privIsDisposed||(this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close()),this.privConnection=void 0,await this.dispose(!0))}async dispose(e){this.privIsDisposed||e&&(void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),await super.dispose(e))}createRecognizerConfig(e){return new i.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,n,i){const r=n;return new c.ConversationServiceAdapter(e,t,r,i,this)}sendMessage(e,t,n){((e,t,n)=>{void 0!==e?e.then((()=>{try{t&&t()}catch(e){n&&n("'Unhandled error on promise callback: ".concat(e,"'"))}}),(e=>{try{n&&n(e)}catch(t){}})):n&&n("Null promise")})(this.privReco.sendMessageAsync(e),t,n),this.resetConversationTimeout()}resetConversationTimeout(){void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout((()=>{this.sendRequest(this.privConversation.getKeepAlive())}),6e4)}}t.ConversationTranslatorRecognizer=l},4914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationWebsocketMessageFormatter=void 0;const i=n(2307),r=n(6109);t.ConversationWebsocketMessageFormatter=class{toConnectionMessage(e){const t=new i.Deferred;try{if(e.messageType===i.MessageType.Text){const n=new r.ConversationConnectionMessage(e.messageType,e.textContent,{},e.id);t.resolve(n)}else e.messageType===i.MessageType.Binary&&t.resolve(new r.ConversationConnectionMessage(e.messageType,e.binaryContent,void 0,e.id))}catch(n){t.reject("Error formatting the message. Error: ".concat(n))}return t.promise}fromConnectionMessage(e){const t=new i.Deferred;try{if(e.messageType===i.MessageType.Text){const n="".concat(e.textBody?e.textBody:"");t.resolve(new i.RawWebsocketMessage(i.MessageType.Text,n,e.id))}}catch(n){t.reject("Error formatting the message. ".concat(n))}return t.promise}}},2080:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9469);Object.defineProperty(t,"ConversationManager",{enumerable:!0,get:function(){return i.ConversationManager}});var r=n(1666);Object.defineProperty(t,"ConversationConnectionConfig",{enumerable:!0,get:function(){return r.ConversationConnectionConfig}});var o=n(8388);Object.defineProperty(t,"ConversationRecognizerFactory",{enumerable:!0,get:function(){return o.ConversationRecognizerFactory}});var s=n(7130);Object.defineProperty(t,"TranscriberRecognizer",{enumerable:!0,get:function(){return s.TranscriberRecognizer}});var a=n(9537);Object.defineProperty(t,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return a.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(t,"LockRoomEventArgs",{enumerable:!0,get:function(){return a.LockRoomEventArgs}}),Object.defineProperty(t,"MuteAllEventArgs",{enumerable:!0,get:function(){return a.MuteAllEventArgs}}),Object.defineProperty(t,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return a.ParticipantAttributeEventArgs}}),Object.defineProperty(t,"ParticipantEventArgs",{enumerable:!0,get:function(){return a.ParticipantEventArgs}}),Object.defineProperty(t,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return a.ParticipantsListEventArgs}});var c=n(4566);Object.defineProperty(t,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return c.ConversationTranslatorCommandTypes}}),Object.defineProperty(t,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return c.ConversationTranslatorMessageTypes}}),Object.defineProperty(t,"InternalParticipants",{enumerable:!0,get:function(){return c.InternalParticipants}})},3551:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandResponsePayload=void 0;class n{constructor(e){this.privCommandResponse=(e=>JSON.parse(e))(e)}get type(){return this.privCommandResponse.type}get command(){return this.privCommandResponse.command}get id(){return this.privCommandResponse.id}get nickname(){return this.privCommandResponse.nickname}get participantId(){return this.privCommandResponse.participantId}get roomid(){return this.privCommandResponse.roomid}get value(){return this.privCommandResponse.value}get token(){return this.privCommandResponse.token}static fromJSON(e){return new n(e)}}t.CommandResponsePayload=n},7316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3551);Object.defineProperty(t,"CommandResponsePayload",{enumerable:!0,get:function(){return i.CommandResponsePayload}});var r=n(4555);Object.defineProperty(t,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantsListPayloadResponse}}),Object.defineProperty(t,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantPayloadResponse}});var o=n(4297);Object.defineProperty(t,"SpeechResponsePayload",{enumerable:!0,get:function(){return o.SpeechResponsePayload}}),Object.defineProperty(t,"TextResponsePayload",{enumerable:!0,get:function(){return o.TextResponsePayload}})},4555:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantPayloadResponse=t.ParticipantsListPayloadResponse=void 0;class n{constructor(e){this.privParticipantsPayloadResponse=(e=>JSON.parse(e))(e)}get roomid(){return this.privParticipantsPayloadResponse.roomid}get id(){return this.privParticipantsPayloadResponse.id}get command(){return this.privParticipantsPayloadResponse.command}get participants(){return this.privParticipantsPayloadResponse.participants}get token(){return this.privParticipantsPayloadResponse.token}get translateTo(){return this.privParticipantsPayloadResponse.translateTo}get profanityFilter(){return this.privParticipantsPayloadResponse.profanityFilter}get roomProfanityFilter(){return this.privParticipantsPayloadResponse.roomProfanityFilter}get roomLocked(){return this.privParticipantsPayloadResponse.roomLocked}get muteAll(){return this.privParticipantsPayloadResponse.muteAll}get type(){return this.privParticipantsPayloadResponse.type}static fromJSON(e){return new n(e)}}t.ParticipantsListPayloadResponse=n;class i{constructor(e){this.privParticipantPayloadResponse=(e=>JSON.parse(e))(e)}get nickname(){return this.privParticipantPayloadResponse.nickname}get locale(){return this.privParticipantPayloadResponse.locale}get usetts(){return this.privParticipantPayloadResponse.usetts}get ismuted(){return this.privParticipantPayloadResponse.ismuted}get ishost(){return this.privParticipantPayloadResponse.ishost}get participantId(){return this.privParticipantPayloadResponse.participantId}get avatar(){return this.privParticipantPayloadResponse.avatar}static fromJSON(e){return new i(e)}}t.ParticipantPayloadResponse=i},4297:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextResponsePayload=t.SpeechResponsePayload=void 0;class n{constructor(e){this.privSpeechResponse=(e=>JSON.parse(e))(e)}get recognition(){return this.privSpeechResponse.recognition}get translations(){return this.privSpeechResponse.translations}get id(){return this.privSpeechResponse.id}get language(){return this.privSpeechResponse.language}get nickname(){return this.privSpeechResponse.nickname}get participantId(){return this.privSpeechResponse.participantId}get roomid(){return this.privSpeechResponse.roomid}get timestamp(){return this.privSpeechResponse.timestamp}get type(){return this.privSpeechResponse.type}get isFinal(){return"final"===this.privSpeechResponse.type}static fromJSON(e){return new n(e)}}t.SpeechResponsePayload=n;class i{constructor(e){this.privTextResponse=(e=>JSON.parse(e))(e)}get originalText(){return this.privTextResponse.originalText}get translations(){return this.privTextResponse.translations}get id(){return this.privTextResponse.id}get language(){return this.privTextResponse.language}get nickname(){return this.privTextResponse.nickname}get participantId(){return this.privTextResponse.participantId}get roomid(){return this.privTextResponse.roomid}get timestamp(){return this.privTextResponse.timestamp}get type(){return this.privTextResponse.type}static fromJSON(e){return new i(e)}}t.TextResponsePayload=i},7130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriberRecognizer=void 0;const i=n(2307),r=n(260),o=n(8040),s=n(9859);class a extends o.Recognizer{constructor(e,t){const n=e;r.Contracts.throwIfNull(n,"speechTranslationConfig");const i=t;r.Contracts.throwIfNull(i,"audioConfigImpl"),r.Contracts.throwIfNullOrWhitespace(n.speechRecognitionLanguage,o.PropertyId[o.PropertyId.SpeechServiceConnection_RecoLanguage]),super(t,n.properties,new s.TranscriberConnectionFactory),this.privDisposedRecognizer=!1,this.isMeetingRecognizer=!1}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){r.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}set conversation(e){r.Contracts.throwIfNullOrUndefined(e,"Conversation"),this.isMeetingRecognizer=!1,this.privConversation=e}getConversationInfo(){return r.Contracts.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}set meeting(e){r.Contracts.throwIfNullOrUndefined(e,"Meeting"),this.isMeetingRecognizer=!0,this.privMeeting=e}getMeetingInfo(){return r.Contracts.throwIfNullOrUndefined(this.privMeeting,"Meeting"),this.privMeeting.meetingInfo}IsMeetingRecognizer(){return this.isMeetingRecognizer}startContinuousRecognitionAsync(e,t){i.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(s.RecognitionMode.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){i.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}async close(){this.privDisposedRecognizer||await this.dispose(!0)}async pushConversationEvent(e,t){const n=this.privReco;r.Contracts.throwIfNullOrUndefined(n,"serviceRecognizer"),await n.sendSpeechEventAsync(e,t)}async pushMeetingEvent(e,t){const n=this.privReco;r.Contracts.throwIfNullOrUndefined(n,"serviceRecognizer"),await n.sendMeetingSpeechEventAsync(e,t)}async enforceAudioGating(){const e=this.audioConfig,t=(await e.format).channels;if(1===t){if("true"!==this.properties.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase())throw new Error("Single channel audio configuration for MeetingTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details")}else if(8!==t)throw new Error("Unsupported audio configuration: Detected ".concat(t,"-channel audio"))}connectMeetingCallbacks(e){this.isMeetingRecognizer=!0,this.canceled=(t,n)=>{e.canceled&&e.canceled(e,n)},this.recognizing=(t,n)=>{e.transcribing&&e.transcribing(e,n)},this.recognized=(t,n)=>{e.transcribed&&e.transcribed(e,n)},this.sessionStarted=(t,n)=>{e.sessionStarted&&e.sessionStarted(e,n)},this.sessionStopped=(t,n)=>{e.sessionStopped&&e.sessionStopped(e,n)}}disconnectCallbacks(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0}async dispose(e){this.privDisposedRecognizer||(e&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(e))}createRecognizerConfig(e){return new s.RecognizerConfig(e,this.properties)}createServiceRecognizer(e,t,n,i){const r=n;return new s.TranscriptionServiceRecognizer(e,t,r,i,this)}}t.TranscriberRecognizer=a},4183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptionServiceRecognizer=void 0;const i=n(2307),r=n(8040),o=n(9859),s=n(222);class a extends o.ConversationServiceRecognizer{constructor(e,t,n,i,o){super(e,t,n,i,o),this.privTranscriberRecognizer=o,this.sendPrePayloadJSONOverride=e=>this.sendTranscriptionStartJSON(e),"true"===this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps)&&this.privSpeechContext.setWordLevelTimings()}async sendSpeechEventAsync(e,t){if(this.privRequestSession.isRecognizing){const n=await this.fetchConnection();await this.sendSpeechEvent(n,this.createSpeechEventPayload(e,t))}}async sendMeetingSpeechEventAsync(e,t){if(this.privRequestSession.isRecognizing){const n=await this.fetchConnection();await this.sendSpeechEvent(n,this.createMeetingSpeechEventPayload(e,t))}}processTypeSpecificMessages(e){return this.processSpeechMessages(e)}handleRecognizedCallback(e,t,n){try{const o=new r.SpeechRecognitionEventArgs(e,t,n);if(this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,o),this.privSuccessCallback){try{this.privSuccessCallback(e)}catch(i){this.privErrorCallback&&this.privErrorCallback(i)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}catch(o){}}handleRecognizingCallback(e,t,n){try{const i=new r.SpeechRecognitionEventArgs(e,t,n);this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,i)}catch(i){}}cancelRecognition(e,t,n,i,s){const a=new r.PropertyCollection;if(a.setProperty(o.CancellationErrorCodePropertyName,r.CancellationErrorCode[i]),this.privTranscriberRecognizer.IsMeetingRecognizer()){if(this.privTranscriberRecognizer.canceled){const t=new r.MeetingTranscriptionCanceledEventArgs(n,s,i,void 0,e);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,t)}catch{}}}else if(this.privTranscriberRecognizer.canceled){const t=new r.ConversationTranscriptionCanceledEventArgs(n,s,i,void 0,e);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,t)}catch{}}if(this.privSuccessCallback){const e=new r.SpeechRecognitionResult(t,r.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,s,void 0,a);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}async sendTranscriptionStartJSON(e){if(await this.sendSpeechContext(e,!0),this.privTranscriberRecognizer.IsMeetingRecognizer()){const t=this.privTranscriberRecognizer.getMeetingInfo(),n=this.createMeetingSpeechEventPayload(t,"start");await this.sendSpeechEvent(e,n)}else{const t=this.privTranscriberRecognizer.getConversationInfo(),n=this.createSpeechEventPayload(t,"start");await this.sendSpeechEvent(e,n)}await this.sendWaveHeader(e)}sendSpeechEvent(e,t){const n=JSON.stringify(t);if(n)return e.send(new s.SpeechConnectionMessage(i.MessageType.Text,"speech.event",this.privRequestSession.requestId,"application/json",n))}createSpeechEventPayload(e,t){const n={id:"meeting",name:t,meeting:e.conversationProperties};return n.meeting.id=e.id,n.meeting.attendees=e.participants,n}createMeetingSpeechEventPayload(e,t){const n={id:"meeting",name:t,meeting:e.meetingProperties};return n.meeting.id=e.id,n.meeting.attendees=e.participants,n}}t.TranscriptionServiceRecognizer=a},2433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationConnectionFactory=void 0;const i=n(2277),r=n(7354),o=n(8040),s=n(2679),a=n(9859),c=n(8643),l=n(7237);class u extends s.ConnectionFactoryBase{create(e,t,n){const r=this.getEndpointUrl(e),s={};void 0!==e.autoDetectSourceLanguages&&(s[l.QueryParameterNames.EnableLanguageId]="true"),this.setQueryParams(s,e,r);const u={};void 0!==t.token&&""!==t.token&&(u[t.headerName]=t.token),u[c.HeaderNames.ConnectionId]=n,e.parameters.setProperty(o.PropertyId.SpeechServiceConnection_Url,r);const d="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new i.WebsocketConnection(r,s,u,new a.WebsocketMessageFormatter,i.ProxyInfo.fromRecognizerConfig(e),d,n)}getEndpointUrl(e,t){const n=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Region),i=s.ConnectionFactoryBase.getHostSuffix(n);let a=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!a)if(void 0!==e.autoDetectSourceLanguages){a=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Host,"wss://{region}.stt.speech"+i)+"/speech/universal/v2"}else{a=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Host,"wss://{region}.s2s.speech"+i)+"/speech/translation/cognitiveservices/v1"}return!0===t?a:r.StringUtils.formatString(a,{region:n})}setQueryParams(e,t,n){e.from=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage),e.to=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages),e.scenario=t.recognitionMode===a.RecognitionMode.Interactive?"interactive":t.recognitionMode===a.RecognitionMode.Conversation?"conversation":"",this.setCommonUrlParams(t,e,n),this.setUrlParameter(o.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,l.QueryParameterNames.StableTranslation,t,e,n);const i=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0);void 0!==i&&(e.voice=i,e.features="texttospeech")}}t.TranslationConnectionFactory=u},1086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationServiceRecognizer=void 0;const i=n(2307),r=n(8040),o=n(9859);class s extends o.ConversationServiceRecognizer{constructor(e,t,n,i,r){super(e,t,n,i,r),this.privTranslationRecognizer=r,this.connectionEvents.attach((e=>{"ConnectionEstablishedEvent"===e.name&&this.privTranslationRecognizer.onConnection()}))}async processTypeSpecificMessages(e){const t=new r.PropertyCollection;let n=await this.processSpeechMessages(e);if(n)return!0;const s=async i=>{if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+i.Offset+i.Duration),i.RecognitionStatus===o.RecognitionStatus.Success){const e=this.fireEventForResult(i,t);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,e)}catch(s){}if(this.privSuccessCallback){try{this.privSuccessCallback(e.result)}catch(a){this.privErrorCallback&&this.privErrorCallback(a)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}else{const c=o.EnumTranslation.implTranslateRecognitionResult(i.RecognitionStatus),l=new r.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,c,i.Text,i.Duration,this.privRequestSession.currentTurnAudioOffset+i.Offset,i.Language,i.Confidence,void 0,e.textBody,t);if(c===r.ResultReason.Canceled){const e=o.EnumTranslation.implTranslateCancelResult(i.RecognitionStatus),t=o.EnumTranslation.implTranslateCancelErrorCode(i.RecognitionStatus);await this.cancelRecognitionLocal(e,t,o.EnumTranslation.implTranslateErrorDetails(t))}else{if(!this.privRequestSession.isSpeechEnded||c!==r.ResultReason.NoMatch||i.RecognitionStatus===o.RecognitionStatus.InitialSilenceTimeout){const e=new r.TranslationRecognitionEventArgs(l,l.offset,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,e)}catch(s){}}if(this.privSuccessCallback){try{this.privSuccessCallback(l)}catch(a){this.privErrorCallback&&this.privErrorCallback(a)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}n=!0}},a=(e,t)=>{const i=this.fireEventForResult(e,t);if(this.privRequestSession.onHypothesis(this.privRequestSession.currentTurnAudioOffset+i.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,i)}catch(r){}n=!0};switch(e.messageType===i.MessageType.Text&&t.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"translation.hypothesis":a(o.TranslationHypothesis.fromJSON(e.textBody),t);break;case"translation.response":const i=JSON.parse(e.textBody);if(i.SpeechPhrase)await s(o.TranslationPhrase.fromTranslationResponse(i));else{const n=JSON.parse(e.textBody);n.SpeechHypothesis&&a(o.TranslationHypothesis.fromTranslationResponse(n),t)}break;case"translation.phrase":await s(o.TranslationPhrase.fromJSON(e.textBody));break;case"translation.synthesis":this.sendSynthesisAudio(e.binaryBody,this.privRequestSession.sessionId),n=!0;break;case"audio.end":case"translation.synthesis.end":const l=o.TranslationSynthesisEnd.fromJSON(e.textBody);switch(l.SynthesisStatus){case o.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){const e=new r.TranslationSynthesisResult(r.ResultReason.Canceled,void 0),t=new r.TranslationSynthesisEventArgs(e,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,t)}catch(c){}}if(this.privTranslationRecognizer.canceled){const e=new r.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,r.CancellationReason.Error,l.FailureReason,r.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,e)}catch(c){}}break;case o.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId)}n=!0}return n}cancelRecognition(e,t,n,i,s){const a=new r.PropertyCollection;if(a.setProperty(o.CancellationErrorCodePropertyName,r.CancellationErrorCode[i]),this.privTranslationRecognizer.canceled){const t=new r.TranslationRecognitionCanceledEventArgs(e,n,s,i,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,t)}catch{}}if(this.privSuccessCallback){const e=new r.TranslationRecognitionResult(void 0,t,r.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,s,void 0,a);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}handleRecognizingCallback(e,t,n){try{const i=new r.TranslationRecognitionEventArgs(r.TranslationRecognitionResult.fromSpeechRecognitionResult(e),t,n);this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,i)}catch(i){}}handleRecognizedCallback(e,t,n){try{const i=new r.TranslationRecognitionEventArgs(r.TranslationRecognitionResult.fromSpeechRecognitionResult(e),t,n);this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,i)}catch(i){}}fireEventForResult(e,t){let n,s,a;if(void 0!==e.Translation.Translations){n=new r.Translations;for(const t of e.Translation.Translations)n.set(t.Language,t.Text||t.DisplayText)}e instanceof o.TranslationPhrase?(s=e.Translation&&e.Translation.TranslationStatus===i.TranslationStatus.Success?r.ResultReason.TranslatedSpeech:r.ResultReason.RecognizedSpeech,a=e.Confidence):s=r.ResultReason.TranslatingSpeech;const c=e.Language,l=e.Offset+this.privRequestSession.currentTurnAudioOffset,u=new r.TranslationRecognitionResult(n,this.privRequestSession.requestId,s,e.Text,e.Duration,l,c,a,e.Translation.FailureReason,JSON.stringify(e),t);return new r.TranslationRecognitionEventArgs(u,l,this.privRequestSession.sessionId)}sendSynthesisAudio(e,t){const n=void 0===e?r.ResultReason.SynthesizingAudioCompleted:r.ResultReason.SynthesizingAudio,i=new r.TranslationSynthesisResult(n,e),o=new r.TranslationSynthesisEventArgs(i,t);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,o)}catch(s){}}}t.TranslationServiceRecognizer=s},5253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationStatus=void 0,function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(t.TranslationStatus||(t.TranslationStatus={}))},8557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceServiceRecognizer=void 0;const i=n(2277),r=n(2307),o=n(8040),s=n(9859),a=n(222);class c extends s.ServiceRecognizerBase{constructor(e,t,n,i,o){super(e,t,n,i,o),this.privDeferralMap=new r.DeferralMap,this.privSpeakerAudioSource=n,this.sendPrePayloadJSONOverride=()=>this.noOp()}set SpeakerAudioSource(e){this.privSpeakerAudioSource=e}processTypeSpecificMessages(e){let t=!1;const n=new o.PropertyCollection;switch(e.messageType===r.MessageType.Text&&n.setProperty(o.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speaker.profiles":const n=JSON.parse(e.textBody);switch(n.operation.toLowerCase()){case"create":this.handleCreateResponse(n,e.requestId);break;case"delete":case"reset":this.handleResultResponse(n,e.requestId);break;case"fetch":const t=JSON.parse(e.textBody);this.handleFetchResponse(t,e.requestId)}t=!0;break;case"speaker.phrases":const i=JSON.parse(e.textBody);this.handlePhrasesResponse(i,e.requestId),t=!0;break;case"speaker.profile.enrollment":const r=JSON.parse(e.textBody),s=new o.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(r.enrollment?r.enrollment.enrollmentStatus:r.status.statusCode),r.enrollment?JSON.stringify(r.enrollment):void 0,r.status.reason);this.privDeferralMap.getId(e.requestId)&&this.privDeferralMap.complete(e.requestId,s),this.privRequestSession.onSpeechEnded(),t=!0}const i=new r.Deferred;return i.resolve(t),i.promise}cancelRecognition(e,t,n,i,r){(new o.PropertyCollection).setProperty(s.CancellationErrorCodePropertyName,o.CancellationErrorCode[i]);const a=new o.VoiceProfileEnrollmentResult(o.ResultReason.Canceled,r,r);this.privDeferralMap.getId(t)&&this.privDeferralMap.complete(t,a)}async createProfile(e,t){this.voiceProfileType=e.toString();const n=this.connectImpl();try{const i=new r.Deferred;return await n,await this.sendCreateProfile(i,e,t),this.receiveMessage(),i.promise}catch(i){throw i}}async resetProfile(e){return this.voiceProfileType=e.profileType.toString(),this.sendCommonRequest("reset",e.profileType,e)}async deleteProfile(e){return this.voiceProfileType=e.profileType.toString(),this.sendCommonRequest("delete",e.profileType,e)}async retrieveEnrollmentResult(e){return this.voiceProfileType=e.profileType.toString(),this.privExpectedProfileId=e.profileId,this.sendCommonRequest("fetch",e.profileType,e)}async getAllProfiles(e){return this.voiceProfileType=e.toString(),this.sendCommonRequest("fetch",e)}async getActivationPhrases(e,t){this.voiceProfileType=e.toString();const n=this.connectImpl();try{const i=new r.Deferred;return await n,await this.sendPhrasesRequest(i,e,t),this.receiveMessage(),i.promise}catch(i){throw i}}async enrollProfile(e){this.voiceProfileType=e.profileType.toString();const t=new r.Deferred;this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(o.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const n=this.connectImpl(),s=this.sendPreAudioMessages(e,t),a=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),c=await this.privSpeakerAudioSource.format,l=await this.privSpeakerAudioSource.deviceInfo,u=new i.ReplayableAudioNode(a,c.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(u,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:l};try{await n,await s}catch(h){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,h)}const d=new o.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,d),this.receiveMessage();return this.sendAudio(u).then((()=>{}),(e=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,e)})),t.promise}async sendPreAudioMessages(e,t){const n=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,t),await this.sendBaseRequest(n,"enroll",this.scenarioFrom(e.profileType),e)}async sendPhrasesRequest(e,t,n){const i=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,e);const o={locale:n,scenario:this.scenarioFrom(t)};return i.send(new a.SpeechConnectionMessage(r.MessageType.Text,"speaker.profile.phrases",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(o)))}async sendCreateProfile(e,t,n){const i=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,e);const s={locale:n,number:"1",scenario:t===o.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":t===o.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"};return i.send(new a.SpeechConnectionMessage(r.MessageType.Text,"speaker.profile.create",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(s)))}async sendCommonRequest(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i=this.connectImpl();try{const o=new r.Deferred;this.privRequestSession.onSpeechContext(),await i;const s=await this.fetchConnection();return this.privDeferralMap.add(this.privRequestSession.requestId,o),await this.sendBaseRequest(s,e,this.scenarioFrom(t),n),this.receiveMessage(),o.promise}catch(o){throw o}}async sendBaseRequest(e,t,n,i){const o={scenario:n};return i?o.profileIds=[i.profileId]:o.maxPageSize=-1,e.send(new a.SpeechConnectionMessage(r.MessageType.Text,"speaker.profile.".concat(t),this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(o)))}extractSpeakerContext(e){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:e.profileIds,scenario:e.scenario}}handlePhrasesResponse(e,t){if(!this.privDeferralMap.getId(t))throw new Error("Voice Profile get activation phrases request for requestID ".concat(t," not found"));if("success"!==e.status.statusCode.toLowerCase()){const n=o.ResultReason.Canceled,i=new o.VoiceProfilePhraseResult(n,e.status.statusCode,e.passPhraseType,[]);this.privDeferralMap.complete(t,i)}else{if(!(e.phrases&&e.phrases.length>0))throw new Error("Voice Profile get activation phrases failed, no phrases received");{const n=o.ResultReason.EnrollingVoiceProfile,i=new o.VoiceProfilePhraseResult(n,e.status.statusCode,e.passPhraseType,e.phrases);this.privDeferralMap.complete(t,i)}}}handleCreateResponse(e,t){if(!(e.profiles&&e.profiles.length>0))throw new Error("Voice Profile create failed, no profile id received");if(!this.privDeferralMap.getId(t))throw new Error("Voice Profile create request for requestID ".concat(t," not found"));{const n=e.profiles.map((e=>e.profileId));this.privDeferralMap.complete(t,n)}}handleResultResponse(e,t){if(!this.privDeferralMap.getId(t))throw new Error("Voice Profile create request for requestID ".concat(t," not found"));{const n="delete"===e.operation.toLowerCase()?o.ResultReason.DeletedVoiceProfile:o.ResultReason.ResetVoiceProfile,i="success"===e.status.statusCode.toLowerCase()?n:o.ResultReason.Canceled,r=new o.VoiceProfileResult(i,"statusCode: ".concat(e.status.statusCode,", errorDetails: ").concat(e.status.reason));this.privDeferralMap.complete(t,r)}}handleFetchResponse(e,t){if(!this.privDeferralMap.getId(t)||!e.profiles[0])throw new Error("Voice Profile fetch request for requestID ".concat(t," not found"));if(this.privExpectedProfileId&&1===e.profiles.length&&e.profiles[0].profileId===this.privExpectedProfileId){this.privExpectedProfileId=void 0;const n=e.profiles[0],i=new o.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(n.enrollmentStatus),JSON.stringify(n),e.status.reason);this.privDeferralMap.complete(t,i)}else if(e.profiles.length>0){const n=e.profiles,i=[];for(const t of n)i.push(new o.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(t.enrollmentStatus),JSON.stringify(t),e.status.reason));this.privDeferralMap.complete(t,i)}}enrollmentReasonFrom(e){switch(e.toLowerCase()){case"enrolled":return o.ResultReason.EnrolledVoiceProfile;case"invalidlocale":case"invalidphrase":case"invalidaudioformat":case"invalidscenario":case"invalidprofilecount":case"invalidoperation":case"audiotooshort":case"audiotoolong":case"toomanyenrollments":case"storageconflict":case"profilenotfound":case"incompatibleprofiles":case"incompleteenrollment":return o.ResultReason.Canceled;default:return o.ResultReason.EnrollingVoiceProfile}}scenarioFrom(e){return e===o.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":e===o.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"}}t.VoiceServiceRecognizer=c},3444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketMessageFormatter=void 0;const i=n(2307);t.WebsocketMessageFormatter=class{toConnectionMessage(e){const t=new i.Deferred;try{if(e.messageType===i.MessageType.Text){const n=e.textContent;let r={},o=null;if(n){const e=n.split("\r\n\r\n");e&&e.length>0&&(r=this.parseHeaders(e[0]),e.length>1&&(o=e[1]))}t.resolve(new i.ConnectionMessage(e.messageType,o,r,e.id))}else if(e.messageType===i.MessageType.Binary){const n=e.binaryContent;let r={},o=null;if(!n||n.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const s=new DataView(n),a=s.getInt16(0);if(n.byteLength<a+2)throw new Error("Invalid binary message format. Header content missing.");let c="";for(let e=0;e<a;e++)c+=String.fromCharCode(s.getInt8(e+2));r=this.parseHeaders(c),n.byteLength>a+2&&(o=n.slice(2+a)),t.resolve(new i.ConnectionMessage(e.messageType,o,r,e.id))}}catch(n){t.reject("Error formatting the message. Error: ".concat(n))}return t.promise}fromConnectionMessage(e){const t=new i.Deferred;try{if(e.messageType===i.MessageType.Text){const n="".concat(this.makeHeaders(e)).concat("\r\n").concat(e.textBody?e.textBody:"");t.resolve(new i.RawWebsocketMessage(i.MessageType.Text,n,e.id))}else if(e.messageType===i.MessageType.Binary){const n=this.makeHeaders(e),r=e.binaryBody,o=this.stringToArrayBuffer(n),s=new Int8Array(o),a=s.byteLength,c=new Int8Array(2+a+(r?r.byteLength:0));if(c[0]=a>>8&255,c[1]=255&a,c.set(s,2),r){const e=new Int8Array(r);c.set(e,2+a)}const l=c.buffer;t.resolve(new i.RawWebsocketMessage(i.MessageType.Binary,l,e.id))}}catch(n){t.reject("Error formatting the message. ".concat(n))}return t.promise}makeHeaders(e){let t="";if(e.headers)for(const n in e.headers)n&&(t+="".concat(n,": ").concat(e.headers[n]).concat("\r\n"));return t}parseHeaders(e){const t={};if(e){const n=e.match(/[^\r\n]+/g);if(t)for(const e of n)if(e){const n=e.indexOf(":"),i=n>0?e.substr(0,n).trim().toLowerCase():e,r=n>0&&e.length>n+1?e.substr(n+1).trim():"";t[i]=r}}return t}stringToArrayBuffer(e){const t=new ArrayBuffer(e.length),n=new DataView(t);for(let i=0;i<e.length;i++)n.setUint8(i,e.charCodeAt(i));return t}}},2274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamNodeErrorEvent=t.AudioStreamNodeDetachedEvent=t.AudioStreamNodeAttachedEvent=t.AudioStreamNodeAttachingEvent=t.AudioStreamNodeEvent=t.AudioSourceErrorEvent=t.AudioSourceOffEvent=t.AudioSourceReadyEvent=t.AudioSourceInitializingEvent=t.AudioSourceEvent=void 0;const i=n(333);class r extends i.PlatformEvent{constructor(e,t){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.EventType.Info),this.privAudioSourceId=t}get audioSourceId(){return this.privAudioSourceId}}t.AudioSourceEvent=r;t.AudioSourceInitializingEvent=class extends r{constructor(e){super("AudioSourceInitializingEvent",e)}};t.AudioSourceReadyEvent=class extends r{constructor(e){super("AudioSourceReadyEvent",e)}};t.AudioSourceOffEvent=class extends r{constructor(e){super("AudioSourceOffEvent",e)}};t.AudioSourceErrorEvent=class extends r{constructor(e,t){super("AudioSourceErrorEvent",e,i.EventType.Error),this.privError=t}get error(){return this.privError}};class o extends r{constructor(e,t,n){super(e,t),this.privAudioNodeId=n}get audioNodeId(){return this.privAudioNodeId}}t.AudioStreamNodeEvent=o;t.AudioStreamNodeAttachingEvent=class extends o{constructor(e,t){super("AudioStreamNodeAttachingEvent",e,t)}};t.AudioStreamNodeAttachedEvent=class extends o{constructor(e,t){super("AudioStreamNodeAttachedEvent",e,t)}};t.AudioStreamNodeDetachedEvent=class extends o{constructor(e,t){super("AudioStreamNodeDetachedEvent",e,t)}};t.AudioStreamNodeErrorEvent=class extends o{constructor(e,t,n){super("AudioStreamNodeErrorEvent",e,t),this.privError=n}get error(){return this.privError}}},9862:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundEvent=void 0;const i=n(2307);class r extends i.PlatformEvent{constructor(e){super("BackgroundEvent",i.EventType.Error),this.privError=e}get error(){return this.privError}}t.BackgroundEvent=r},1345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedArrayBufferStream=void 0;const i=n(2307);class r extends i.Stream{constructor(e,t){super(t),this.privTargetChunkSize=e,this.privNextBufferReadyBytes=0}writeStreamChunk(e){if(e.isEnd||0===this.privNextBufferReadyBytes&&e.buffer.byteLength===this.privTargetChunkSize)return void super.writeStreamChunk(e);let t=0;for(;t<e.buffer.byteLength;){void 0===this.privNextBufferToWrite&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=e.timeReceived);const n=Math.min(e.buffer.byteLength-t,this.privTargetChunkSize-this.privNextBufferReadyBytes),i=new Uint8Array(this.privNextBufferToWrite),r=new Uint8Array(e.buffer.slice(t,n+t));i.set(r,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=n,t+=n,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){0===this.privNextBufferReadyBytes||this.isClosed||super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}}t.ChunkedArrayBufferStream=r},7811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageSentEvent=t.ConnectionMessageReceivedEvent=t.ConnectionEstablishErrorEvent=t.ConnectionErrorEvent=t.ConnectionClosedEvent=t.ConnectionEstablishedEvent=t.ConnectionStartEvent=t.ConnectionEvent=t.ServiceEvent=void 0;const i=n(333);class r extends i.PlatformEvent{constructor(e,t){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.EventType.Info),this.privJsonResult=t}get jsonString(){return this.privJsonResult}}t.ServiceEvent=r;class o extends i.PlatformEvent{constructor(e,t){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.EventType.Info),this.privConnectionId=t}get connectionId(){return this.privConnectionId}}t.ConnectionEvent=o;t.ConnectionStartEvent=class extends o{constructor(e,t,n){super("ConnectionStartEvent",e),this.privUri=t,this.privHeaders=n}get uri(){return this.privUri}get headers(){return this.privHeaders}};t.ConnectionEstablishedEvent=class extends o{constructor(e){super("ConnectionEstablishedEvent",e)}};t.ConnectionClosedEvent=class extends o{constructor(e,t,n){super("ConnectionClosedEvent",e,i.EventType.Debug),this.privReason=n,this.privStatusCode=t}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}};t.ConnectionErrorEvent=class extends o{constructor(e,t,n){super("ConnectionErrorEvent",e,i.EventType.Debug),this.privMessage=t,this.privType=n}get message(){return this.privMessage}get type(){return this.privType}};t.ConnectionEstablishErrorEvent=class extends o{constructor(e,t,n){super("ConnectionEstablishErrorEvent",e,i.EventType.Error),this.privStatusCode=t,this.privReason=n}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}};t.ConnectionMessageReceivedEvent=class extends o{constructor(e,t,n){super("ConnectionMessageReceivedEvent",e),this.privNetworkReceivedTime=t,this.privMessage=n}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}};t.ConnectionMessageSentEvent=class extends o{constructor(e,t,n){super("ConnectionMessageSentEvent",e),this.privNetworkSentTime=t,this.privMessage=n}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}},2771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessage=t.MessageType=void 0;const i=n(8446),r=n(9463);var o;!function(e){e[e.Text=0]="Text",e[e.Binary=1]="Binary"}(o=t.MessageType||(t.MessageType={}));t.ConnectionMessage=class{constructor(e,t,n,s){if(this.privBody=null,e===o.Text&&t&&"string"!==typeof t)throw new i.InvalidOperationError("Payload must be a string");if(e===o.Binary&&t&&!(t instanceof ArrayBuffer))throw new i.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=e,this.privBody=t,this.privHeaders=n||{},this.privId=s||r.createNoDashGuid(),this.messageType){case o.Binary:this.privSize=null!==this.binaryBody?this.binaryBody.byteLength:0;break;case o.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===o.Binary)throw new i.InvalidOperationError("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===o.Text)throw new i.InvalidOperationError("Not supported for text message");return this.privBody}get id(){return this.privId}}},4941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionOpenResponse=void 0;t.ConnectionOpenResponse=class{constructor(e,t){this.privStatusCode=e,this.privReason=t}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}}},7155:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeferralMap=void 0;t.DeferralMap=class{constructor(){this.privMap={}}add(e,t){this.privMap[e]=t}getId(e){return this.privMap[e]}complete(e,t){try{this.privMap[e].resolve(t)}catch(n){this.privMap[e].reject(n)}finally{this.privMap[e]=void 0}}}},323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SendingAgentContextMessageEvent=t.DialogEvent=void 0;const i=n(333);class r extends i.PlatformEvent{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.EventType.Info)}}t.DialogEvent=r;t.SendingAgentContextMessageEvent=class extends r{constructor(e){super("SendingAgentContextMessageEvent"),this.privAgentConfig=e}get agentConfig(){return this.privAgentConfig}}},8446:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectDisposedError=t.InvalidOperationError=t.ArgumentNullError=void 0;class n extends Error{constructor(e){super(e),this.name="ArgumentNull",this.message=e}}t.ArgumentNullError=n;class i extends Error{constructor(e){super(e),this.name="InvalidOperation",this.message=e}}t.InvalidOperationError=i;class r extends Error{constructor(e,t){super(t),this.name=e+"ObjectDisposed",this.message=t}}t.ObjectDisposedError=r},385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventSource=void 0;const i=n(8446),r=n(9463);t.EventSource=class{constructor(e){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=e}onEvent(e){if(this.isDisposed())throw new i.ObjectDisposedError("EventSource");if(this.metadata)for(const t in this.metadata)t&&e.metadata&&(e.metadata[t]||(e.metadata[t]=this.metadata[t]));for(const t in this.privEventListeners)t&&this.privEventListeners[t]&&this.privEventListeners[t](e)}attach(e){const t=r.createNoDashGuid();return this.privEventListeners[t]=e,{detach:()=>(delete this.privEventListeners[t],Promise.resolve())}}attachListener(e){return this.attach((t=>e.onEvent(t)))}attachConsoleListener(e){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach((t=>e.onEvent(t))),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}}},7807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;const i=n(8446),r=n(385);class o{static setEventSource(e){if(!e)throw new i.ArgumentNullError("eventSource");o.privInstance=e}static get instance(){return o.privInstance}}t.Events=o,o.privInstance=new r.EventSource},2307:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(2274),t),r(n(7811),t),r(n(2771),t),r(n(4941),t),r(n(7155),t),r(n(323),t),r(n(8446),t),r(n(7807),t),r(n(385),t),r(n(9463),t),r(n(2188),t),r(n(3151),t),r(n(2064),t),r(n(3643),t),r(n(9973),t),r(n(5047),t),r(n(5670),t),r(n(125),t),r(n(4474),t),r(n(6959),t),r(n(2670),t),r(n(333),t),r(n(553),t),r(n(2091),t),r(n(7252),t),r(n(3071),t),r(n(7722),t);var o=n(5253);Object.defineProperty(t,"TranslationStatus",{enumerable:!0,get:function(){return o.TranslationStatus}}),r(n(1345),t),r(n(2537),t),r(n(699),t),r(n(6002),t),r(n(9862),t)},9463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNoDashGuid=t.createGuid=void 0;const i=n(7726),r=()=>i.v4();t.createGuid=r;t.createNoDashGuid=()=>r().replace(new RegExp("-","g"),"").toUpperCase()},2537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3151:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionState=void 0,function(e){e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected"}(t.ConnectionState||(t.ConnectionState={}))},2064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},125:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5047:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5670:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4474:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0;const i=n(8446);class r{constructor(e){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],e)for(const t of e)this.privList.push(t)}get(e){return this.throwIfDisposed(),this.privList[e]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(e){this.throwIfDisposed(),this.insertAt(this.privList.length,e)}insertAt(e,t){this.throwIfDisposed(),0===e?this.privList.unshift(t):e===this.privList.length?this.privList.push(t):this.privList.splice(e,0,t),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(e){return this.throwIfDisposed(),this.remove(e,1)[0]}remove(e,t){this.throwIfDisposed();const n=this.privList.splice(e,t);return this.triggerSubscriptions(this.privRemoveSubscriptions),n}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[t]=e,{detach:()=>(delete this.privAddSubscriptions[t],Promise.resolve())}}onRemoved(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[t]=e,{detach:()=>(delete this.privRemoveSubscriptions[t],Promise.resolve())}}onDisposed(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[t]=e,{detach:()=>(delete this.privDisposedSubscriptions[t],Promise.resolve())}}join(e){return this.throwIfDisposed(),this.privList.join(e)}toArray(){const e=Array();return this.privList.forEach((t=>{e.push(t)})),e}any(e){return this.throwIfDisposed(),e?this.where(e).length()>0:this.length()>0}all(e){return this.throwIfDisposed(),this.where(e).length()===this.length()}forEach(e){this.throwIfDisposed();for(let t=0;t<this.length();t++)e(this.privList[t],t)}select(e){this.throwIfDisposed();const t=[];for(let n=0;n<this.privList.length;n++)t.push(e(this.privList[n],n));return new r(t)}where(e){this.throwIfDisposed();const t=new r;for(let n=0;n<this.privList.length;n++)e(this.privList[n],n)&&t.add(this.privList[n]);return t}orderBy(e){this.throwIfDisposed();const t=this.toArray().sort(e);return new r(t)}orderByDesc(e){return this.throwIfDisposed(),this.orderBy(((t,n)=>e(n,t)))}clone(){return this.throwIfDisposed(),new r(this.toArray())}concat(e){return this.throwIfDisposed(),new r(this.privList.concat(e.toArray()))}concatArray(e){return this.throwIfDisposed(),new r(this.privList.concat(e))}isDisposed(){return null==this.privList}dispose(e){this.isDisposed()||(this.privDisposeReason=e,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new i.ObjectDisposedError("List",this.privDisposeReason)}triggerSubscriptions(e){if(e)for(const t in e)t&&e[t]()}}t.List=r},6002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OCSPCacheUpdateErrorEvent=t.OCSPResponseRetrievedEvent=t.OCSPCacheFetchErrorEvent=t.OCSPVerificationFailedEvent=t.OCSPCacheHitEvent=t.OCSPCacheEntryNeedsRefreshEvent=t.OCSPCacheEntryExpiredEvent=t.OCSPWSUpgradeStartedEvent=t.OCSPStapleReceivedEvent=t.OCSPCacheUpdateCompleteEvent=t.OCSPDiskCacheStoreEvent=t.OCSPMemoryCacheStoreEvent=t.OCSPCacheUpdateNeededEvent=t.OCSPDiskCacheHitEvent=t.OCSPCacheMissEvent=t.OCSPMemoryCacheHitEvent=t.OCSPEvent=void 0;const i=n(333);class r extends i.PlatformEvent{constructor(e,t,n){super(e,t),this.privSignature=n}}t.OCSPEvent=r;t.OCSPMemoryCacheHitEvent=class extends r{constructor(e){super("OCSPMemoryCacheHitEvent",i.EventType.Debug,e)}};t.OCSPCacheMissEvent=class extends r{constructor(e){super("OCSPCacheMissEvent",i.EventType.Debug,e)}};t.OCSPDiskCacheHitEvent=class extends r{constructor(e){super("OCSPDiskCacheHitEvent",i.EventType.Debug,e)}};t.OCSPCacheUpdateNeededEvent=class extends r{constructor(e){super("OCSPCacheUpdateNeededEvent",i.EventType.Debug,e)}};t.OCSPMemoryCacheStoreEvent=class extends r{constructor(e){super("OCSPMemoryCacheStoreEvent",i.EventType.Debug,e)}};t.OCSPDiskCacheStoreEvent=class extends r{constructor(e){super("OCSPDiskCacheStoreEvent",i.EventType.Debug,e)}};t.OCSPCacheUpdateCompleteEvent=class extends r{constructor(e){super("OCSPCacheUpdateCompleteEvent",i.EventType.Debug,e)}};t.OCSPStapleReceivedEvent=class extends r{constructor(){super("OCSPStapleReceivedEvent",i.EventType.Debug,"")}};t.OCSPWSUpgradeStartedEvent=class extends r{constructor(e){super("OCSPWSUpgradeStartedEvent",i.EventType.Debug,e)}};t.OCSPCacheEntryExpiredEvent=class extends r{constructor(e,t){super("OCSPCacheEntryExpiredEvent",i.EventType.Debug,e),this.privExpireTime=t}};t.OCSPCacheEntryNeedsRefreshEvent=class extends r{constructor(e,t,n){super("OCSPCacheEntryNeedsRefreshEvent",i.EventType.Debug,e),this.privExpireTime=n,this.privStartTime=t}};t.OCSPCacheHitEvent=class extends r{constructor(e,t,n){super("OCSPCacheHitEvent",i.EventType.Debug,e),this.privExpireTime=n,this.privExpireTimeString=new Date(n).toLocaleDateString(),this.privStartTime=t,this.privStartTimeString=new Date(t).toLocaleTimeString()}};t.OCSPVerificationFailedEvent=class extends r{constructor(e,t){super("OCSPVerificationFailedEvent",i.EventType.Debug,e),this.privError=t}};t.OCSPCacheFetchErrorEvent=class extends r{constructor(e,t){super("OCSPCacheFetchErrorEvent",i.EventType.Debug,e),this.privError=t}};t.OCSPResponseRetrievedEvent=class extends r{constructor(e){super("OCSPResponseRetrievedEvent",i.EventType.Debug,e)}};t.OCSPCacheUpdateErrorEvent=class extends r{constructor(e,t){super("OCSPCacheUpdateErrorEvent",i.EventType.Debug,e),this.privError=t}}},333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformEvent=t.EventType=void 0;const i=n(9463);!function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.None=4]="None"}(t.EventType||(t.EventType={}));t.PlatformEvent=class{constructor(e,t){this.privName=e,this.privEventId=i.createNoDashGuid(),this.privEventTime=(new Date).toISOString(),this.privEventType=t,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}},553:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.marshalPromiseToCallbacks=t.Sink=t.Deferred=t.PromiseResultEventSource=t.PromiseResult=t.PromiseState=void 0,function(e){e[e.None=0]="None",e[e.Resolved=1]="Resolved",e[e.Rejected=2]="Rejected"}(n=t.PromiseState||(t.PromiseState={}));class i{constructor(e){this.throwIfError=()=>{if(this.isError)throw this.error},e.on((e=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!1,this.privResult=e)}),(e=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!0,this.privError=e)}))}get isCompleted(){return this.privIsCompleted}get isError(){return this.privIsError}get error(){return this.privError}get result(){return this.privResult}}t.PromiseResult=i;class r{constructor(){this.setResult=e=>{this.privOnSetResult(e)},this.setError=e=>{this.privOnSetError(e)},this.on=(e,t)=>{this.privOnSetResult=e,this.privOnSetError=t}}}t.PromiseResultEventSource=r;t.Deferred=class{constructor(){this.resolve=e=>(this.privResolve(e),this),this.reject=e=>(this.privReject(e),this),this.privPromise=new Promise(((e,t)=>{this.privResolve=e,this.privReject=t}))}get promise(){return this.privPromise}};t.Sink=class{constructor(){this.privState=n.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.privPromiseResultEvents=new r,this.privPromiseResult=new i(this.privPromiseResultEvents)}get state(){return this.privState}get result(){return this.privPromiseResult}resolve(e){if(this.privState!==n.None)throw new Error("'Cannot resolve a completed promise'");this.privState=n.Resolved,this.privPromiseResultEvents.setResult(e);for(let t=0;t<this.privSuccessHandlers.length;t++)this.executeSuccessCallback(e,this.privSuccessHandlers[t],this.privErrorHandlers[t]);this.detachHandlers()}reject(e){if(this.privState!==n.None)throw new Error("'Cannot reject a completed promise'");this.privState=n.Rejected,this.privPromiseResultEvents.setError(e);for(const t of this.privErrorHandlers)this.executeErrorCallback(e,t);this.detachHandlers()}on(e,t){null==e&&(e=()=>{}),this.privState===n.None?(this.privSuccessHandlers.push(e),this.privErrorHandlers.push(t)):(this.privState===n.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,e,t):this.privState===n.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,t),this.detachHandlers())}executeSuccessCallback(e,t,n){try{t(e)}catch(i){this.executeErrorCallback("'Unhandled callback error: ".concat(i,"'"),n)}}executeErrorCallback(e,t){if(!t)throw new Error("'Unhandled error: ".concat(e,"'"));try{t(e)}catch(n){throw new Error("'Unhandled callback error: ".concat(n,". InnerError: ").concat(e,"'"))}}detachHandlers(){this.privErrorHandlers=[],this.privSuccessHandlers=[]}},t.marshalPromiseToCallbacks=function(e,t,n){e.then((e=>{try{t&&t(e)}catch(i){if(n)try{if(i instanceof Error){const e=i;n(e.name+": "+e.message)}else n(i)}catch(i){}}}),(e=>{if(n)try{if(e instanceof Error){const t=e;n(t.name+": "+t.message)}else n(e)}catch(e){}}))}},2091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=void 0;const i=n(8446),r=n(2670),o=n(553);var s;!function(e){e[e.Dequeue=0]="Dequeue",e[e.Peek=1]="Peek"}(s||(s={}));t.Queue=class{constructor(e){this.privPromiseStore=new r.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=e||new r.List,this.privDetachables=[],this.privSubscribers=new r.List,this.privDetachables.push(this.privList.onAdded((()=>this.drain())))}enqueue(e){this.throwIfDispose(),this.enqueueFromPromise(new Promise((t=>t(e))))}enqueueFromPromise(e){this.throwIfDispose(),e.then((e=>{this.privList.add(e)}),(()=>{}))}dequeue(){this.throwIfDispose();const e=new o.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:s.Dequeue}),this.drain()),e.promise}peek(){this.throwIfDispose();const e=new o.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:s.Peek}),this.drain()),e.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return null==this.privSubscribers}async drainAndDispose(e,t){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=t,this.privIsDisposing=!0;const n=this.privSubscribers;if(n){for(;n.length()>0;){n.removeFirst().deferral.resolve(void 0)}this.privSubscribers===n&&(this.privSubscribers=n)}for(const e of this.privDetachables)await e.detach();if(this.privPromiseStore.length()>0&&e){const t=[];return this.privPromiseStore.toArray().forEach((e=>{t.push(e)})),Promise.all(t).finally((()=>{this.privSubscribers=null,this.privList.forEach((t=>{e(t)})),this.privList=null})).then()}this.privSubscribers=null,this.privList=null}}async dispose(e){await this.drainAndDispose(null,e)}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const e=this.privSubscribers,t=this.privList;if(e&&t){for(;t.length()>0&&e.length()>0&&!this.privIsDisposing;){const n=e.removeFirst();if(n.type===s.Peek)n.deferral.resolve(t.first());else{const e=t.removeFirst();n.deferral.resolve(e)}}this.privSubscribers===e&&(this.privSubscribers=e),this.privList===t&&(this.privList=t)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed()){if(this.privDisposeReason)throw new i.InvalidOperationError(this.privDisposeReason);throw new i.ObjectDisposedError("Queue")}if(this.privIsDisposing)throw new i.InvalidOperationError("Queue disposing")}}},7252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawWebsocketMessage=void 0;const i=n(2771),r=n(8446),o=n(9463);t.RawWebsocketMessage=class{constructor(e,t,n){if(this.privPayload=null,!t)throw new r.ArgumentNullError("payload");if(e===i.MessageType.Binary&&"ArrayBuffer"!==Object.getPrototypeOf(t).constructor.name)throw new r.InvalidOperationError("Payload must be ArrayBuffer");if(e===i.MessageType.Text&&"string"!==typeof t)throw new r.InvalidOperationError("Payload must be a string");this.privMessageType=e,this.privPayload=t,this.privId=n||o.createNoDashGuid()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===i.MessageType.Binary)throw new r.InvalidOperationError("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===i.MessageType.Text)throw new r.InvalidOperationError("Not supported for text message");return this.privPayload}get id(){return this.privId}}},3071:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RiffPcmEncoder=void 0;t.RiffPcmEncoder=class{constructor(e,t){this.privActualSampleRate=e,this.privDesiredSampleRate=t}encode(e){const t=this.downSampleAudioFrame(e,this.privActualSampleRate,this.privDesiredSampleRate);if(!t)return null;const n=2*t.length,i=new ArrayBuffer(n),r=new DataView(i);return this.floatTo16BitPCM(r,0,t),i}setString(e,t,n){for(let i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}floatTo16BitPCM(e,t,n){for(let i=0;i<n.length;i++,t+=2){const r=Math.max(-1,Math.min(1,n[i]));e.setInt16(t,r<0?32768*r:32767*r,!0)}}downSampleAudioFrame(e,t,n){if(!e)return null;if(n===t||n>t)return e;const i=t/n,r=Math.round(e.length/i),o=new Float32Array(r);let s=0,a=0;for(;a<r;){const t=Math.round((a+1)*i);let n=0,r=0;for(;s<t&&s<e.length;)n+=e[s++],r++;o[a++]=n/r}return o}}},7722:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0;const i=n(8446),r=n(9463),o=n(2091);t.Stream=class{constructor(e){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=e||r.createNoDashGuid(),this.privReaderQueue=new o.Queue}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(e){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(e)}catch(t){}}read(){if(this.privIsReadEnded)throw new i.InvalidOperationError("Stream read has already finished");return this.privReaderQueue.dequeue().then((async e=>((void 0===e||e.isEnd)&&await this.privReaderQueue.dispose("End of stream reached"),e)))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new o.Queue)}throwIfClosed(){if(this.privIsWriteEnded)throw new i.InvalidOperationError("Stream closed")}}},7354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0;t.StringUtils=class{static formatString(e,t){if(!e)return"";if(!t)return e;let n="",i="";const r=e=>{n+=e},o=e=>{i+=e};let s=r;for(let a=0;a<e.length;a++){const c=e[a],l=a+1<e.length?e[a+1]:"";switch(c){case"{":"{"===l?(s("{"),a++):s=o;break;case"}":"}"===l?(s("}"),a++):(t.hasOwnProperty(i)&&(n+=t[i]),s=r,i="");break;default:s(c)}}return n}}},699:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timeout=void 0;class n{static load(){const e=new Map([[0,()=>{}]]),t=new Map,i="data:text/javascript;base64,"+btoa('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error(\'There is no interval scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error(\'The given method "\'.concat(e.method,\'" is not supported\'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);'),r=new Worker(i);r.addEventListener("message",(i=>{let{data:r}=i;if(n.isCallNotification(r)){const{params:{timerId:n}}=r,i=e.get(n);if("number"===typeof i){const e=t.get(i);if(void 0===e||e!==n)throw new Error("The timer is in an undefined state.")}else{if("undefined"===typeof i)throw new Error("The timer is in an undefined state.");i(),e.delete(n)}}else{if(!n.isClearResponse(r)){const{error:{message:e}}=r;throw new Error(e)}{const{id:n}=r,i=t.get(n);if(void 0===i)throw new Error("The timer is in an undefined state.");t.delete(n),e.delete(i)}}}));return{clearTimeout:n=>{const i=Math.random();t.set(i,n),e.set(n,i),r.postMessage({id:i,method:"clear",params:{timerId:n}})},setTimeout:(t,n)=>{const i=Math.random();return e.set(i,t),r.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:i}}),i}}}static loadWorkerTimers(){return()=>(null!==n.workerTimers||(n.workerTimers=n.load()),n.workerTimers)}static isCallNotification(e){return void 0!==e.method&&"call"===e.method}static isClearResponse(e){return null===e.error&&"number"===typeof e.id}}t.Timeout=n,n.workerTimers=null,n.clearTimeout=e=>n.timers().clearTimeout(e),n.setTimeout=(e,t)=>n.timers().setTimeout(e,t),n.timers=n.loadWorkerTimers()},840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityReceivedEventArgs=void 0;t.ActivityReceivedEventArgs=class{constructor(e,t){this.privActivity=e,this.privAudioStream=t}get activity(){return this.privActivity}get audioStream(){return this.privAudioStream}}},6782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioOutputConfigImpl=t.AudioConfigImpl=t.AudioConfig=void 0;const i=n(2277),r=n(260),o=n(8040),s=n(8777),a=n(6182),c=n(9709);class l{static fromDefaultMicrophoneInput(){const e=new i.PcmRecorder(!0);return new u(new i.MicAudioSource(e))}static fromMicrophoneInput(e){const t=new i.PcmRecorder(!0);return new u(new i.MicAudioSource(t,e))}static fromWavFileInput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamedBuffer.wav";return new u(new i.FileAudioSource(e,t))}static fromStreamInput(e){if(e instanceof o.PullAudioInputStreamCallback)return new u(new a.PullAudioInputStreamImpl(e));if(e instanceof o.AudioInputStream)return new u(e);if("undefined"!==typeof MediaStream&&e instanceof MediaStream){const t=new i.PcmRecorder(!1);return new u(new i.MicAudioSource(t,null,null,e))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new d(new o.SpeakerAudioDestination)}static fromSpeakerOutput(e){if(void 0===e)return l.fromDefaultSpeakerOutput();if(e instanceof o.SpeakerAudioDestination)return new d(e);throw new Error("Not Supported Type")}static fromAudioFileOutput(e){return new d(new s.AudioFileWriter(e))}static fromStreamOutput(e){if(e instanceof o.PushAudioOutputStreamCallback)return new d(new c.PushAudioOutputStreamImpl(e));if(e instanceof o.PushAudioOutputStream)return new d(e);if(e instanceof o.PullAudioOutputStream)return new d(e);throw new Error("Not Supported Type")}}t.AudioConfig=l;class u extends l{constructor(e){super(),this.privSource=e}get format(){return this.privSource.format}close(e,t){this.privSource.turnOff().then((()=>{e&&e()}),(e=>{t&&t(e)}))}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(e){return this.privSource.attach(e)}detach(e){return this.privSource.detach(e)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(e,t){if(r.Contracts.throwIfNull(t,"value"),void 0===this.privSource.setProperty)throw new Error("This AudioConfig instance does not support setting properties.");this.privSource.setProperty(e,t)}getProperty(e,t){if(void 0!==this.privSource.getProperty)return this.privSource.getProperty(e,t);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}t.AudioConfigImpl=u;class d extends l{constructor(e){super(),this.privDestination=e}set format(e){this.privDestination.format=e}write(e){this.privDestination.write(e)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}t.AudioOutputConfigImpl=d},8777:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioFileWriter=void 0;const s=o(n(952)),a=n(260);t.AudioFileWriter=class{constructor(e){a.Contracts.throwIfNullOrUndefined(s.openSync,"\nFile System access not available, please use Push or PullAudioOutputStream"),this.privFd=s.openSync(e,"w")}set format(e){a.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;let t=0;this.privAudioFormat.hasHeader&&(t=this.privAudioFormat.header.byteLength),void 0!==this.privFd&&(this.privWriteStream=s.createWriteStream("",{fd:this.privFd,start:t,autoClose:!1}))}write(e){a.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),void 0!==this.privWriteStream&&this.privWriteStream.write(new Uint8Array(e.slice(0)))}close(){void 0!==this.privFd&&(this.privWriteStream.on("finish",(()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),s.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),s.closeSync(this.privFd),this.privFd=void 0})),this.privWriteStream.end())}id(){return this.privId}}},6182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PullAudioInputStreamImpl=t.PullAudioInputStream=t.PushAudioInputStreamImpl=t.PushAudioInputStream=t.AudioInputStream=void 0;const i=n(9859),r=n(2307),o=n(9463),s=n(8040),a=n(4175);class c{constructor(){}static createPushStream(e){return l.create(e)}static createPullStream(e,t){return d.create(e,t)}}t.AudioInputStream=c;class l extends c{static create(e){return new u(e)}}t.PushAudioInputStream=l;class u extends l{constructor(e){super(),this.privFormat=void 0===e?a.AudioStreamFormatImpl.getDefaultInputFormat():e,this.privEvents=new r.EventSource,this.privId=o.createNoDashGuid(),this.privStream=new r.ChunkedArrayBufferStream(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(e){this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.onEvent(new r.AudioSourceReadyEvent(this.privId))}async attach(e){this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,e)),await this.turnOn();const t=this.privStream;return this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,e)),{detach:async()=>(this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,e)),this.turnOff()),id:()=>e,read:()=>t.read()}}detach(e){this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:i.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:i.type.Stream})}onEvent(e){this.privEvents.onEvent(e),r.Events.instance.onEvent(e)}toBuffer(e){const t=Buffer.alloc(e.byteLength),n=new Uint8Array(e);for(let i=0;i<t.length;++i)t[i]=n[i];return t}}t.PushAudioInputStreamImpl=u;class d extends c{constructor(){super()}static create(e,t){return new h(e,t)}}t.PullAudioInputStream=d;class h extends d{constructor(e,t){super(),this.privFormat=void 0===t?s.AudioStreamFormat.getDefaultInputFormat():t,this.privEvents=new r.EventSource,this.privId=o.createNoDashGuid(),this.privCallback=e,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.onEvent(new r.AudioSourceReadyEvent(this.privId))}async attach(e){return this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,e)),await this.turnOn(),this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,e)),{detach:()=>(this.privCallback.close(),this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,e)),this.turnOff()),id:()=>e,read:()=>{let e,t=0;for(;t<this.privBufferSize;){const n=new ArrayBuffer(this.privBufferSize-t),i=this.privCallback.read(n);if(void 0===e)e=n;else{new Int8Array(e).set(new Int8Array(n),t)}if(0===i)break;t+=i}return Promise.resolve({buffer:e.slice(0,t),isEnd:this.privIsClosed||0===t,timeReceived:Date.now()})}}}detach(e){this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:i.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:i.type.Stream})}onEvent(e){this.privEvents.onEvent(e),r.Events.instance.onEvent(e)}}t.PullAudioInputStreamImpl=h},7810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioOutputFormatImpl=void 0;const i=n(8765),r=n(4175);class o extends r.AudioStreamFormatImpl{constructor(e,t,n,i,r,o,s,a,c){super(n,o,t,e),this.formatTag=e,this.avgBytesPerSec=i,this.blockAlign=r,this.priAudioFormatString=s,this.priRequestAudioFormatString=a,this.priHasHeader=c}static fromSpeechSynthesisOutputFormat(e){return void 0===e?o.getDefaultOutputFormat():o.fromSpeechSynthesisOutputFormatString(o.SpeechSynthesisOutputFormatToString[e])}static fromSpeechSynthesisOutputFormatString(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new o(r.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new o(r.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new o(r.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new o(r.AudioFormatTag.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new o(r.AudioFormatTag.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new o(r.AudioFormatTag.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new o(r.AudioFormatTag.MP3,1,24e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new o(r.AudioFormatTag.MP3,1,24e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new o(r.AudioFormatTag.MP3,1,24e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new o(r.AudioFormatTag.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new o(r.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new o(r.AudioFormatTag.OGG_OPUS,1,16e3,8192,2,16,e,e,!1);case"ogg-24khz-16bit-mono-opus":return new o(r.AudioFormatTag.OGG_OPUS,1,24e3,8192,2,16,e,e,!1);case"raw-48khz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new o(r.AudioFormatTag.MP3,1,48e3,12288,2,16,e,e,!1);case"audio-48khz-192kbitrate-mono-mp3":return new o(r.AudioFormatTag.MP3,1,48e3,24576,2,16,e,e,!1);case"ogg-48khz-16bit-mono-opus":return new o(r.AudioFormatTag.OGG_OPUS,1,48e3,12e3,2,16,e,e,!1);case"webm-16khz-16bit-mono-opus":return new o(r.AudioFormatTag.WEBM_OPUS,1,16e3,4e3,2,16,e,e,!1);case"webm-24khz-16bit-mono-opus":return new o(r.AudioFormatTag.WEBM_OPUS,1,24e3,6e3,2,16,e,e,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new o(r.AudioFormatTag.WEBM_OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new o(r.AudioFormatTag.OPUS,1,16e3,4e3,2,16,e,e,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new o(r.AudioFormatTag.OPUS,1,24e3,6e3,2,16,e,e,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new o(r.AudioFormatTag.OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-24khz-16bit-mono-flac":return new o(r.AudioFormatTag.FLAC,1,24e3,24e3,2,16,e,e,!1);case"audio-48khz-16bit-mono-flac":return new o(r.AudioFormatTag.FLAC,1,48e3,3e4,2,16,e,e,!1);case"raw-24khz-16bit-mono-truesilk":return new o(r.AudioFormatTag.SILKSkype,1,24e3,48e3,2,16,e,e,!1);case"raw-8khz-8bit-mono-alaw":return new o(r.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,e,!1);case"riff-8khz-8bit-mono-alaw":return new o(r.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,22050,44100,2,16,e,e,!1);case"riff-22050hz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,22050,44100,2,16,e,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,44100,88200,2,16,e,e,!1);case"riff-44100hz-16bit-mono-pcm":return new o(r.AudioFormatTag.PCM,1,44100,88200,2,16,e,"raw-44100hz-16bit-mono-pcm",!0);default:return new o(r.AudioFormatTag.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return o.fromSpeechSynthesisOutputFormatString("undefined"!==typeof window?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(e){if(this.priHasHeader){const t=new DataView(this.privHeader);t.setUint32(4,e+this.privHeader.byteLength-8,!0),t.setUint32(40,e,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}addHeader(e){if(!this.hasHeader)return e;this.updateHeader(e.byteLength);const t=new Uint8Array(e.byteLength+this.header.byteLength);return t.set(new Uint8Array(this.header),0),t.set(new Uint8Array(e),this.header.byteLength),t.buffer}}t.AudioOutputFormatImpl=o,o.SpeechSynthesisOutputFormatToString={[i.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[i.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[i.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[i.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[i.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[i.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[i.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[i.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[i.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[i.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[i.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[i.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[i.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[i.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[i.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[i.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[i.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[i.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[i.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[i.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[i.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[i.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[i.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[i.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[i.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[i.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[i.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm"}},9709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushAudioOutputStreamImpl=t.PushAudioOutputStream=t.PullAudioOutputStreamImpl=t.PullAudioOutputStream=t.AudioOutputStream=void 0;const i=n(2307),r=n(260),o=n(7810);class s{constructor(){}static createPullStream(){return a.create()}}t.AudioOutputStream=s;class a extends s{static create(){return new c}}t.PullAudioOutputStream=a;class c extends a{constructor(){super(),this.privId=i.createNoDashGuid(),this.privStream=new i.Stream}set format(e){void 0!==e&&null!==e||(this.privFormat=o.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=e}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}async read(e){const t=new Int8Array(e);let n=0;if(void 0!==this.privLastChunkView){if(this.privLastChunkView.length>e.byteLength)return t.set(this.privLastChunkView.slice(0,e.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(e.byteLength),Promise.resolve(e.byteLength);t.set(this.privLastChunkView),n=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;n<e.byteLength&&!this.privStream.isReadEnded;){const i=await this.privStream.read();if(void 0===i||i.isEnd)this.privStream.readEnded();else{let r;i.buffer.byteLength>e.byteLength-n?(r=i.buffer.slice(0,e.byteLength-n),this.privLastChunkView=new Int8Array(i.buffer.slice(e.byteLength-n))):r=i.buffer,t.set(new Int8Array(r),n),n+=r.byteLength}}return n}write(e){r.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}t.PullAudioOutputStreamImpl=c;class l extends s{constructor(){super()}static create(e){return new u(e)}}t.PushAudioOutputStream=l;class u extends l{constructor(e){super(),this.privId=i.createNoDashGuid(),this.privCallback=e}set format(e){}write(e){this.privCallback.write&&this.privCallback.write(e)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}t.PushAudioOutputStreamImpl=u},4175:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamFormatImpl=t.AudioStreamFormat=t.AudioFormatTag=void 0,function(e){e[e.PCM=1]="PCM",e[e.MuLaw=2]="MuLaw",e[e.Siren=3]="Siren",e[e.MP3=4]="MP3",e[e.SILKSkype=5]="SILKSkype",e[e.OGG_OPUS=6]="OGG_OPUS",e[e.WEBM_OPUS=7]="WEBM_OPUS",e[e.ALaw=8]="ALaw",e[e.FLAC=9]="FLAC",e[e.OPUS=10]="OPUS"}(n=t.AudioFormatTag||(t.AudioFormatTag={}));class i{static getDefaultInputFormat(){return r.getDefaultInputFormat()}static getWaveFormat(e,t,n,i){return new r(e,t,n,i)}static getWaveFormatPCM(e,t,n){return new r(e,t,n)}}t.AudioStreamFormat=i;class r extends i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.PCM;super();let o=!0;switch(r){case n.PCM:this.formatTag=1;break;case n.ALaw:this.formatTag=6;break;case n.MuLaw:this.formatTag=7;break;default:o=!1}if(this.bitsPerSample=t,this.samplesPerSec=e,this.channels=i,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),o){this.privHeader=new ArrayBuffer(44);const e=new DataView(this.privHeader);this.setString(e,0,"RIFF"),e.setUint32(4,0,!0),this.setString(e,8,"WAVEfmt "),e.setUint32(16,16,!0),e.setUint16(20,this.formatTag,!0),e.setUint16(22,this.channels,!0),e.setUint32(24,this.samplesPerSec,!0),e.setUint32(28,this.avgBytesPerSec,!0),e.setUint16(32,this.channels*(this.bitsPerSample/8),!0),e.setUint16(34,this.bitsPerSample,!0),this.setString(e,36,"data"),e.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new r}static getAudioContext(e){const t=window.AudioContext||window.webkitAudioContext||!1;if(t)return void 0!==e&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new t({sampleRate:e}):new t;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(e,t,n){for(let i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}}t.AudioStreamFormatImpl=r},4902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAudioPlayer=void 0;const i=n(8446),r=n(8040),o=n(4175);t.BaseAudioPlayer=class{constructor(e){this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,void 0===e&&(e=r.AudioStreamFormat.getDefaultInputFormat()),this.init(e)}playAudioSample(e,t,n){try{this.ensureInitializedContext();const n=this.formatAudioData(e),i=new Float32Array(this.samples.length+n.length);i.set(this.samples,0),i.set(n,this.samples.length),this.samples=i,t&&t()}catch(i){n&&n(i)}}stopAudio(e,t){null!==this.audioContext&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then((()=>{e&&e()}),(e=>{t&&t(e)})),this.audioContext=null)}init(e){this.audioFormat=e,this.samples=new Float32Array}ensureInitializedContext(){if(null===this.audioContext){this.createAudioContext();const e=200;this.autoUpdateBufferTimer=setInterval((()=>{this.updateAudioBuffer()}),e)}}createAudioContext(){this.audioContext=o.AudioStreamFormatImpl.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}formatAudioData(e){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(e),128);case 16:return this.formatArrayBuffer(new Int16Array(e),32768);case 32:return this.formatArrayBuffer(new Int32Array(e),2147483648);default:throw new i.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}formatArrayBuffer(e,t){const n=new Float32Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]/t;return n}updateAudioBuffer(){if(0===this.samples.length)return;const e=this.audioFormat.channels,t=this.audioContext.createBufferSource(),n=this.samples.length/e,i=this.audioContext.createBuffer(e,n,this.audioFormat.samplesPerSec);for(let r=0;r<e;r++){let t=r;const n=i.getChannelData(r);for(let i=0;i<this.samples.length;i++,t+=e)n[i]=this.samples[t]}this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),t.buffer=i,t.connect(this.gainNode),t.start(this.startTime),this.startTime+=i.duration,this.samples=new Float32Array}async playAudio(e){null===this.audioContext&&this.createAudioContext();const t=this.audioContext.createBufferSource(),n=this.audioContext.destination;await this.audioContext.decodeAudioData(e,(e=>{t.buffer=e,t.connect(n),t.start(0)}))}}},7014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PullAudioInputStreamCallback=void 0;t.PullAudioInputStreamCallback=class{}},8626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushAudioOutputStreamCallback=void 0;t.PushAudioOutputStreamCallback=class{}},9553:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerAudioDestination=void 0;const i=n(2307),r=n(9709),o=n(4175),s={[o.AudioFormatTag.PCM]:"audio/wav",[o.AudioFormatTag.MuLaw]:"audio/x-wav",[o.AudioFormatTag.MP3]:"audio/mpeg",[o.AudioFormatTag.OGG_OPUS]:"audio/ogg",[o.AudioFormatTag.WEBM_OPUS]:"audio/webm; codecs=opus",[o.AudioFormatTag.ALaw]:"audio/x-wav",[o.AudioFormatTag.FLAC]:"audio/flac"};t.SpeakerAudioDestination=class{constructor(e){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=e||i.createNoDashGuid(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(e,t,n){void 0!==this.privAudioBuffer?(this.privAudioBuffer.push(e),this.updateSourceBuffer().then((()=>{t&&t()}),(e=>{n&&n(e)}))):void 0!==this.privAudioOutputStream&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength)}close(e,t){if(this.privIsClosed=!0,void 0!==this.privSourceBuffer)this.handleSourceBufferUpdateEnd().then((()=>{e&&e()}),(e=>{t&&t(e)}));else if(void 0!==this.privAudioOutputStream&&"undefined"!==typeof window)if(this.privFormat.formatTag!==o.AudioFormatTag.PCM&&this.privFormat.formatTag!==o.AudioFormatTag.MuLaw&&this.privFormat.formatTag!==o.AudioFormatTag.ALaw||!1!==this.privFormat.hasHeader){let n=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(n).then((()=>{n=this.privFormat.addHeader(n);const i=new Blob([n],{type:s[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(i),this.notifyPlayback().then((()=>{e&&e()}),(e=>{t&&t(e)}))}),(e=>{t&&t(e)}))}else console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else this.onAudioEnd&&this.onAudioEnd(this)}set format(e){if("undefined"!==typeof AudioContext||"undefined"!==typeof window&&"undefined"!==typeof window.webkitAudioContext){this.privFormat=e;const t=s[this.privFormat.formatTag];void 0===t?console.warn("Unknown mimeType for format ".concat(o.AudioFormatTag[this.privFormat.formatTag],"; playback is not supported.")):"undefined"!==typeof MediaSource&&MediaSource.isTypeSupported(t)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=1800,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(t),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch((e=>{i.Events.instance.onEvent(new i.BackgroundEvent(e))}))},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch((e=>{i.Events.instance.onEvent(new i.BackgroundEvent(e))}))},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch((e=>{i.Events.instance.onEvent(new i.BackgroundEvent(e))}))):(console.warn("Format ".concat(o.AudioFormatTag[this.privFormat.formatTag]," could not be played by MSE, streaming playback is not enabled.")),this.privAudioOutputStream=new r.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){var e,t;return null!==(e=null===(t=this.privAudio)||void 0===t?void 0:t.volume)&&void 0!==e?e:-1}set volume(e){this.privAudio&&(this.privAudio.volume=e)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return void 0!==this.privAudio?this.privAudio.currentTime:-1}pause(){this.privIsPaused||void 0===this.privAudio||(this.privAudio.pause(),this.privIsPaused=!0)}resume(e,t){this.privIsPaused&&void 0!==this.privAudio&&(this.privAudio.play().then((()=>{e&&e()}),(e=>{t&&t(e)})),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}async updateSourceBuffer(){if(void 0!==this.privAudioBuffer&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const t=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(t)}catch(e){return this.privAudioBuffer.unshift(t),void console.log("buffer filled, pausing addition of binaries until space is made")}await this.notifyPlayback()}else this.canEndStream()&&await this.handleSourceBufferUpdateEnd()}async handleSourceBufferUpdateEnd(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),await this.notifyPlayback())}async notifyPlayback(){this.privPlaybackStarted||void 0===this.privAudio||(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||await this.privAudio.play())}canEndStream(){return this.isClosed&&void 0!==this.privSourceBuffer&&0===this.privAudioBuffer.length&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&"open"===this.privMediaSource.readyState}sourceBufferAvailable(){return void 0!==this.privSourceBuffer&&!this.privSourceBuffer.updating}}},9982:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguageConfig=void 0;const i=n(9859),r=n(260),o=n(8040),s=n(9531);class a{constructor(){this.privProperties=new o.PropertyCollection,this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=s.LanguageIdMode.AtStart}static fromOpenRange(){const e=new a;return e.properties.setProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,i.AutoDetectSourceLanguagesOpenRangeOptionName),e}static fromLanguages(e){r.Contracts.throwIfArrayEmptyOrWhitespace(e,"languages");const t=new a;return t.properties.setProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,e.join()),t}static fromSourceLanguageConfigs(e){if(e.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");const t=new a,n=[];return e.forEach((e=>{if(n.push(e.language),void 0!==e.endpointId&&""!==e.endpointId){const n=e.language+o.PropertyId.SpeechServiceConnection_EndpointId.toString();t.properties.setProperty(n,e.endpointId)}})),t.properties.setProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,n.join()),t}get properties(){return this.privProperties}set mode(e){e===s.LanguageIdMode.Continuous?(this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=e}}t.AutoDetectSourceLanguageConfig=a},6481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguageResult=void 0;const i=n(260);class r{constructor(e,t){i.Contracts.throwIfNullOrUndefined(e,"language"),i.Contracts.throwIfNullOrUndefined(t,"languageDetectionConfidence"),this.privLanguage=e,this.privLanguageDetectionConfidence=t}static fromResult(e){return new r(e.language,e.languageDetectionConfidence)}static fromConversationTranscriptionResult(e){return new r(e.language,e.languageDetectionConfidence)}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}}t.AutoDetectSourceLanguageResult=r},4572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarConfig=void 0;const i=n(260),r=n(8040);t.AvatarConfig=class{constructor(e,t,n){this.privCustomized=!1,i.Contracts.throwIfNullOrWhitespace(e,"character"),this.character=e,this.style=t,void 0===n&&(n=new r.AvatarVideoFormat),this.videoFormat=n}get customized(){return this.privCustomized}set customized(e){this.privCustomized=e}get backgroundColor(){return this.privBackgroundColor}set backgroundColor(e){this.privBackgroundColor=e}}},6669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarEventArgs=t.AvatarEventTypes=void 0,function(e){e.SwitchedToSpeaking="SwitchedToSpeaking",e.SwitchedToIdle="SwitchedToIdle",e.SessionClosed="SessionClosed"}(t.AvatarEventTypes||(t.AvatarEventTypes={}));t.AvatarEventArgs=class{constructor(e,t){this.privOffset=e,this.privDescription=t}get type(){return this.privType}get offset(){return this.privOffset}get description(){return this.privDescription}}},5886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarSynthesizer=void 0;const i=n(3344),r=n(9859),o=n(2307),s=n(7810),a=n(8040),c=n(260),l=n(8021);class u extends a.Synthesizer{constructor(e,t){super(e),c.Contracts.throwIfNullOrUndefined(t,"avatarConfig"),this.privConnectionFactory=new i.SpeechSynthesisConnectionFactory,this.privAvatarConfig=t,this.implCommonSynthesizeSetup()}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=s.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(a.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm)}async startAvatarAsync(e){c.Contracts.throwIfNullOrUndefined(e,"peerConnection"),this.privIceServers=e.getConfiguration().iceServers,c.Contracts.throwIfNullOrUndefined(this.privIceServers,"Ice servers must be set.");const t=new o.Deferred;e.onicegatheringstatechange=()=>{o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice gathering state: "+e.iceGatheringState,o.EventType.Debug)),"complete"===e.iceGatheringState&&(o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice gathering complete.",o.EventType.Info)),t.resolve())},e.onicecandidate=e=>{e.candidate?o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice candidate: "+e.candidate.candidate,o.EventType.Debug)):(o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice candidate: complete",o.EventType.Debug)),t.resolve())},setTimeout((()=>{"complete"!==e.iceGatheringState&&(o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice gathering timeout.",o.EventType.Warning)),t.resolve())}),2e3);const n=await e.createOffer();await e.setLocalDescription(n),await t.promise,o.Events.instance.onEvent(new o.PlatformEvent("peer connection: got local SDP.",o.EventType.Info)),this.privProperties.setProperty(a.PropertyId.TalkingAvatarService_WebRTC_SDP,JSON.stringify(e.localDescription));const i=await this.speak("",!1);if(i.reason!==a.ResultReason.SynthesizingAudioCompleted)return new a.SynthesisResult(i.resultId,i.reason,i.errorDetails,i.properties);const r=atob(i.properties.getProperty(a.PropertyId.TalkingAvatarService_WebRTC_SDP)),s=new RTCSessionDescription(JSON.parse(r));return await e.setRemoteDescription(s),new a.SynthesisResult(i.resultId,i.reason,void 0,i.properties)}async speakTextAsync(e){const t=await this.speak(e,!1);return new a.SynthesisResult(t.resultId,t.reason,t.errorDetails,t.properties)}async speakSsmlAsync(e){const t=await this.speak(e,!0);return new a.SynthesisResult(t.resultId,t.reason,t.errorDetails,t.properties)}async stopSpeakingAsync(){for(;this.synthesisRequestQueue.length()>0;){(await this.synthesisRequestQueue.dequeue()).err("Synthesis is canceled by user.")}return this.privAdapter.stopSpeaking()}async stopAvatarAsync(){return c.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)}async close(){if(!this.privDisposed)return this.dispose(!0)}get iceServers(){return this.privIceServers}createSynthesisAdapter(e,t,n){return new r.AvatarSynthesisAdapter(e,t,n,this,this.privAvatarConfig)}createRestSynthesisAdapter(e,t){}createSynthesizerConfig(e){const t=super.createSynthesizerConfig(e);return t.avatarEnabled=!0,t}async speak(e,t){const n=o.createNoDashGuid(),i=new o.Deferred;return this.synthesisRequestQueue.enqueue(new l.SynthesisRequest(n,e,t,(e=>{i.resolve(e),this.privSynthesizing=!1,this.adapterSpeak()}),(e=>{i.reject(e),this.privSynthesizing=!1}))),this.adapterSpeak(),i.promise}}t.AvatarSynthesizer=u},7996:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarVideoFormat=t.Coordinate=void 0;t.Coordinate=class{constructor(e,t){this.x=e,this.y=t}};t.AvatarVideoFormat=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"H264",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1920,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1080;this.codec=e,this.bitrate=t,this.width=n,this.height=i}setCropRange(e,t){this.cropRange={bottomRight:t,topLeft:e}}}},6222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarWebRTCConnectionResult=void 0;const i=n(8040);class r extends i.SynthesisResult{constructor(e,t,n,i,r){super(t,n,i,r),this.privSDPAnswer=e}get SDPAnswer(){return this.privSDPAnswer}}t.AvatarWebRTCConnectionResult=r},6566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BotFrameworkConfig=void 0;const i=n(260),r=n(3542),o=n(8040);class s extends r.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"subscription"),i.Contracts.throwIfNullOrWhitespace(t,"region");const s=new r.DialogServiceConfigImpl;return s.setProperty(o.PropertyId.Conversation_DialogType,r.DialogServiceConfig.DialogTypes.BotFramework),s.setProperty(o.PropertyId.SpeechServiceConnection_Key,e),s.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n&&s.setProperty(o.PropertyId.Conversation_ApplicationId,n),s}static fromAuthorizationToken(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),i.Contracts.throwIfNullOrWhitespace(t,"region");const s=new r.DialogServiceConfigImpl;return s.setProperty(o.PropertyId.Conversation_DialogType,r.DialogServiceConfig.DialogTypes.BotFramework),s.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e),s.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n&&s.setProperty(o.PropertyId.Conversation_ApplicationId,n),s}static fromHost(e,t,n){i.Contracts.throwIfNullOrUndefined(e,"host");const s=e instanceof URL?e:new URL("wss://".concat(e,".convai.speech.azure.us"));i.Contracts.throwIfNullOrUndefined(s,"resolvedHost");const a=new r.DialogServiceConfigImpl;return a.setProperty(o.PropertyId.Conversation_DialogType,r.DialogServiceConfig.DialogTypes.BotFramework),a.setProperty(o.PropertyId.SpeechServiceConnection_Host,s.toString()),void 0!==t&&a.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),a}static fromEndpoint(e,t){i.Contracts.throwIfNull(e,"endpoint");const n=new r.DialogServiceConfigImpl;return n.setProperty(o.PropertyId.Conversation_DialogType,r.DialogServiceConfig.DialogTypes.BotFramework),n.setProperty(o.PropertyId.SpeechServiceConnection_Endpoint,e.toString()),void 0!==t&&n.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),n}}t.BotFrameworkConfig=s},4148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationDetails=void 0;const i=n(9859),r=n(8293),o=n(8040);class s extends r.CancellationDetailsBase{constructor(e,t,n){super(e,t,n)}static fromResult(e){let t=o.CancellationReason.Error,n=o.CancellationErrorCode.NoError;if(e instanceof o.RecognitionResult&&e.json){const n=i.SimpleSpeechPhrase.fromJSON(e.json);t=i.EnumTranslation.implTranslateCancelResult(n.RecognitionStatus)}return e.properties&&(n=o.CancellationErrorCode[e.properties.getProperty(i.CancellationErrorCodePropertyName,o.CancellationErrorCode[o.CancellationErrorCode.NoError])]),new s(t,e.errorDetails||i.EnumTranslation.implTranslateErrorDetails(n),n)}}t.CancellationDetails=s},8293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationDetailsBase=void 0;t.CancellationDetailsBase=class{constructor(e,t,n){this.privReason=e,this.privErrorDetails=t,this.privErrorCode=n}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get ErrorCode(){return this.privErrorCode}}},372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationErrorCode=void 0,function(e){e[e.NoError=0]="NoError",e[e.AuthenticationFailure=1]="AuthenticationFailure",e[e.BadRequestParameters=2]="BadRequestParameters",e[e.TooManyRequests=3]="TooManyRequests",e[e.ConnectionFailure=4]="ConnectionFailure",e[e.ServiceTimeout=5]="ServiceTimeout",e[e.ServiceError=6]="ServiceError",e[e.RuntimeError=7]="RuntimeError",e[e.Forbidden=8]="Forbidden"}(t.CancellationErrorCode||(t.CancellationErrorCode={}))},8706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationEventArgsBase=void 0;const i=n(8040);class r extends i.RecognitionEventArgs{constructor(e,t,n,i,r){super(i,r),this.privReason=e,this.privErrorDetails=t,this.privErrorCode=n}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}t.CancellationEventArgsBase=r},2096:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationReason=void 0,function(e){e[e.Error=0]="Error",e[e.EndOfStream=1]="EndOfStream"}(t.CancellationReason||(t.CancellationReason={}))},4931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;const i=n(9859),r=n(2307),o=n(344),s=n(260),a=n(8040);class c{static fromRecognizer(e){const t=e.internalData,n=new c;return n.privInternalData=t,n.setupEvents(),n}static fromSynthesizer(e){const t=e.internalData,n=new c;return n.privInternalData=t,n.setupEvents(),n}openConnection(e,t){r.marshalPromiseToCallbacks(this.privInternalData.connect(),e,t)}closeConnection(e,t){if(this.privInternalData instanceof i.SynthesisAdapterBase)throw new Error("Disconnecting a synthesizer's connection is currently not supported");r.marshalPromiseToCallbacks(this.privInternalData.disconnect(),e,t)}setMessageProperty(e,t,n){if(s.Contracts.throwIfNullOrWhitespace(t,"propertyName"),this.privInternalData instanceof i.ServiceRecognizerBase){if("speech.context"!==e.toLowerCase())throw new Error("Only speech.context message property sets are currently supported for recognizer");this.privInternalData.speechContext.setSection(t,n)}else if(this.privInternalData instanceof i.SynthesisAdapterBase){if("synthesis.context"!==e.toLowerCase())throw new Error("Only synthesis.context message property sets are currently supported for synthesizer");this.privInternalData.synthesisContext.setSection(t,n)}}sendMessageAsync(e,t,n,i){r.marshalPromiseToCallbacks(this.privInternalData.sendNetworkMessage(e,t),n,i)}close(){}setupEvents(){this.privEventListener=this.privInternalData.connectionEvents.attach((e=>{"ConnectionEstablishedEvent"===e.name?this.connected&&this.connected(new a.ConnectionEventArgs(e.connectionId)):"ConnectionClosedEvent"===e.name?this.disconnected&&this.disconnected(new a.ConnectionEventArgs(e.connectionId)):"ConnectionMessageSentEvent"===e.name?this.messageSent&&this.messageSent(new a.ConnectionMessageEventArgs(new o.ConnectionMessageImpl(e.message))):"ConnectionMessageReceivedEvent"===e.name&&this.messageReceived&&this.messageReceived(new a.ConnectionMessageEventArgs(new o.ConnectionMessageImpl(e.message)))})),this.privServiceEventListener=this.privInternalData.serviceEvents.attach((e=>{this.receivedServiceMessage&&this.receivedServiceMessage(new a.ServiceEventArgs(e.jsonString,e.name))}))}}t.Connection=c},5850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionEventArgs=void 0;const i=n(8040);class r extends i.SessionEventArgs{}t.ConnectionEventArgs=r},344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageImpl=t.ConnectionMessage=void 0;const i=n(8643),r=n(2307),o=n(6058),s=n(1743);t.ConnectionMessage=class{};t.ConnectionMessageImpl=class{constructor(e){this.privConnectionMessage=e,this.privProperties=new o.PropertyCollection,this.privConnectionMessage.headers[i.HeaderNames.ConnectionId]&&this.privProperties.setProperty(s.PropertyId.Speech_SessionId,this.privConnectionMessage.headers[i.HeaderNames.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach((e=>{this.privProperties.setProperty(e,this.privConnectionMessage.headers[e])}))}get path(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find((e=>e.toLowerCase()==="path".toLowerCase()))]}get isTextMessage(){return this.privConnectionMessage.messageType===r.MessageType.Text}get isBinaryMessage(){return this.privConnectionMessage.messageType===r.MessageType.Binary}get TextMessage(){return this.privConnectionMessage.textBody}get binaryMessage(){return this.privConnectionMessage.binaryBody}get properties(){return this.privProperties}toString(){return""}}},6471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageEventArgs=void 0;t.ConnectionMessageEventArgs=class{constructor(e){this.privConnectionMessage=e}get message(){return this.privConnectionMessage}toString(){return"Message: "+this.privConnectionMessage.toString()}}},260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Contracts=void 0;class n{static throwIfNullOrUndefined(e,t){if(void 0===e||null===e)throw new Error("throwIfNullOrUndefined:"+t)}static throwIfNull(e,t){if(null===e)throw new Error("throwIfNull:"+t)}static throwIfNullOrWhitespace(e,t){if(n.throwIfNullOrUndefined(e,t),(""+e).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+t)}static throwIfNullOrTooLong(e,t,i){if(n.throwIfNullOrUndefined(e,t),(""+e).length>i)throw new Error("throwIfNullOrTooLong:"+t+" (more than "+i.toString()+" characters)")}static throwIfNullOrTooShort(e,t,i){if(n.throwIfNullOrUndefined(e,t),(""+e).length<i)throw new Error("throwIfNullOrTooShort:"+t+" (less than "+i.toString()+" characters)")}static throwIfDisposed(e){if(e)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(e,t){if(n.throwIfNullOrUndefined(e,t),0===e.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+t);for(const i of e)n.throwIfNullOrWhitespace(i,t)}static throwIfFileDoesNotExist(e,t){n.throwIfNullOrWhitespace(e,t)}static throwIfNotUndefined(e,t){if(void 0!==e)throw new Error("throwIfNotUndefined:"+t)}}t.Contracts=n},684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriptionCanceledEventArgs=void 0;const i=n(8706);class r extends i.CancellationEventArgsBase{}t.ConversationTranscriptionCanceledEventArgs=r},980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCommandsConfig=void 0;const i=n(260),r=n(3542),o=n(8040);class s extends r.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"applicationId"),i.Contracts.throwIfNullOrWhitespace(t,"subscription"),i.Contracts.throwIfNullOrWhitespace(n,"region");const s=new r.DialogServiceConfigImpl;return s.setProperty(o.PropertyId.Conversation_DialogType,r.DialogServiceConfig.DialogTypes.CustomCommands),s.setProperty(o.PropertyId.Conversation_ApplicationId,e),s.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),s.setProperty(o.PropertyId.SpeechServiceConnection_Region,n),s}static fromAuthorizationToken(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"applicationId"),i.Contracts.throwIfNullOrWhitespace(t,"authorizationToken"),i.Contracts.throwIfNullOrWhitespace(n,"region");const s=new r.DialogServiceConfigImpl;return s.setProperty(o.PropertyId.Conversation_DialogType,r.DialogServiceConfig.DialogTypes.CustomCommands),s.setProperty(o.PropertyId.Conversation_ApplicationId,e),s.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,t),s.setProperty(o.PropertyId.SpeechServiceConnection_Region,n),s}set applicationId(e){i.Contracts.throwIfNullOrWhitespace(e,"value"),this.setProperty(o.PropertyId.Conversation_ApplicationId,e)}get applicationId(){return this.getProperty(o.PropertyId.Conversation_ApplicationId)}}t.CustomCommandsConfig=s},2999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;const i=n(2277),r=n(2307);class o{static SetLoggingLevel(e){this.privListener=new i.ConsoleLoggingListener(e),r.Events.instance.attachConsoleListener(this.privListener)}static StartConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!0)}static StopConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!1)}static SetLogOutputPath(e){if("undefined"!==typeof window)throw new Error("File system logging not available in browser.");this.privListener&&(this.privListener.logPath=e)}static set onLogOutput(e){this.privListener&&(this.privListener.logCallback=e)}}t.Diagnostics=o,o.privListener=void 0},3542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceConfigImpl=t.DialogServiceConfig=void 0;const i=n(260),r=n(8040);class o{constructor(){}set applicationId(e){}static get DialogTypes(){return{BotFramework:"bot_framework",CustomCommands:"custom_commands"}}}t.DialogServiceConfig=o;t.DialogServiceConfigImpl=class extends o{constructor(){super(),this.privSpeechConfig=new r.SpeechConfigImpl}get properties(){return this.privSpeechConfig.properties}get speechRecognitionLanguage(){return this.privSpeechConfig.speechRecognitionLanguage}set speechRecognitionLanguage(e){i.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechConfig.speechRecognitionLanguage=e}get outputFormat(){return this.privSpeechConfig.outputFormat}set outputFormat(e){this.privSpeechConfig.outputFormat=e}setProperty(e,t){this.privSpeechConfig.setProperty(e,t)}getProperty(e,t){return this.privSpeechConfig.getProperty(e)}setProxy(e,t,n,i){this.setProperty(r.PropertyId.SpeechServiceConnection_ProxyHostName,e),this.setProperty(r.PropertyId.SpeechServiceConnection_ProxyPort,"".concat(t)),n&&this.setProperty(r.PropertyId.SpeechServiceConnection_ProxyUserName,n),i&&this.setProperty(r.PropertyId.SpeechServiceConnection_ProxyPassword,i)}setServiceProperty(e,t,n){this.privSpeechConfig.setServiceProperty(e,t)}close(){}}},4229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceConnector=void 0;const i=n(8401),r=n(9859),o=n(2307),s=n(260),a=n(8040),c=n(1743);class l extends a.Recognizer{constructor(e,t){const n=e;s.Contracts.throwIfNull(e,"dialogConfig"),super(t,n.properties,new i.DialogConnectionFactory),this.isTurnComplete=!0,this.privIsDisposed=!1,this.privProperties=n.properties.clone();const r=this.buildAgentConfig();this.privReco.agentConfig.set(r)}connect(e,t){o.marshalPromiseToCallbacks(this.privReco.connect(),e,t)}disconnect(e,t){o.marshalPromiseToCallbacks(this.privReco.disconnect(),e,t)}get authorizationToken(){return this.properties.getProperty(c.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){s.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(c.PropertyId.SpeechServiceAuthorization_Token,e)}get properties(){return this.privProperties}get speechActivityTemplate(){return this.properties.getProperty(c.PropertyId.Conversation_Speech_Activity_Template)}set speechActivityTemplate(e){this.properties.setProperty(c.PropertyId.Conversation_Speech_Activity_Template,e)}listenOnceAsync(e,t){if(this.isTurnComplete){s.Contracts.throwIfDisposed(this.privIsDisposed);const n=(async()=>{await this.privReco.connect(),await this.implRecognizerStop(),this.isTurnComplete=!1;const e=new o.Deferred;await this.privReco.recognize(r.RecognitionMode.Conversation,e.resolve,e.reject);const t=await e.promise;return await this.implRecognizerStop(),t})();n.catch((()=>{this.dispose(!0).catch((()=>{}))})),o.marshalPromiseToCallbacks(n.finally((()=>{this.isTurnComplete=!0})),e,t)}}sendActivityAsync(e,t,n){o.marshalPromiseToCallbacks(this.privReco.sendMessage(e),t,n)}close(e,t){s.Contracts.throwIfDisposed(this.privIsDisposed),o.marshalPromiseToCallbacks(this.dispose(!0),e,t)}async dispose(e){this.privIsDisposed||e&&(this.privIsDisposed=!0,await this.implRecognizerStop(),await super.dispose(e))}createRecognizerConfig(e){return new r.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,n,i){const o=n;return new r.DialogServiceAdapter(e,t,o,i,this)}buildAgentConfig(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(c.PropertyId.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(c.PropertyId.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(c.PropertyId.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(c.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}}t.DialogServiceConnector=l},8040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6782);Object.defineProperty(t,"AudioConfig",{enumerable:!0,get:function(){return i.AudioConfig}});var r=n(4175);Object.defineProperty(t,"AudioStreamFormat",{enumerable:!0,get:function(){return r.AudioStreamFormat}}),Object.defineProperty(t,"AudioFormatTag",{enumerable:!0,get:function(){return r.AudioFormatTag}});var o=n(6182);Object.defineProperty(t,"AudioInputStream",{enumerable:!0,get:function(){return o.AudioInputStream}}),Object.defineProperty(t,"PullAudioInputStream",{enumerable:!0,get:function(){return o.PullAudioInputStream}}),Object.defineProperty(t,"PushAudioInputStream",{enumerable:!0,get:function(){return o.PushAudioInputStream}});var s=n(9709);Object.defineProperty(t,"AudioOutputStream",{enumerable:!0,get:function(){return s.AudioOutputStream}}),Object.defineProperty(t,"PullAudioOutputStream",{enumerable:!0,get:function(){return s.PullAudioOutputStream}}),Object.defineProperty(t,"PushAudioOutputStream",{enumerable:!0,get:function(){return s.PushAudioOutputStream}});var a=n(2096);Object.defineProperty(t,"CancellationReason",{enumerable:!0,get:function(){return a.CancellationReason}});var c=n(7014);Object.defineProperty(t,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return c.PullAudioInputStreamCallback}});var l=n(8626);Object.defineProperty(t,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return l.PushAudioOutputStreamCallback}});var u=n(1220);Object.defineProperty(t,"KeywordRecognitionModel",{enumerable:!0,get:function(){return u.KeywordRecognitionModel}});var d=n(9070);Object.defineProperty(t,"SessionEventArgs",{enumerable:!0,get:function(){return d.SessionEventArgs}});var h=n(8743);Object.defineProperty(t,"RecognitionEventArgs",{enumerable:!0,get:function(){return h.RecognitionEventArgs}});var p=n(3833);Object.defineProperty(t,"OutputFormat",{enumerable:!0,get:function(){return p.OutputFormat}});var f=n(4065);Object.defineProperty(t,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return f.IntentRecognitionEventArgs}});var g=n(7501);Object.defineProperty(t,"RecognitionResult",{enumerable:!0,get:function(){return g.RecognitionResult}});var m=n(127);Object.defineProperty(t,"SpeechRecognitionResult",{enumerable:!0,get:function(){return m.SpeechRecognitionResult}});var v=n(2399);Object.defineProperty(t,"IntentRecognitionResult",{enumerable:!0,get:function(){return v.IntentRecognitionResult}});var y=n(590);Object.defineProperty(t,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return y.LanguageUnderstandingModel}});var S=n(1649);Object.defineProperty(t,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return S.SpeechRecognitionEventArgs}}),Object.defineProperty(t,"ConversationTranscriptionEventArgs",{enumerable:!0,get:function(){return S.ConversationTranscriptionEventArgs}}),Object.defineProperty(t,"MeetingTranscriptionEventArgs",{enumerable:!0,get:function(){return S.MeetingTranscriptionEventArgs}});var C=n(4832);Object.defineProperty(t,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return C.SpeechRecognitionCanceledEventArgs}});var b=n(6452);Object.defineProperty(t,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return b.TranslationRecognitionEventArgs}});var w=n(4823);Object.defineProperty(t,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return w.TranslationSynthesisEventArgs}});var E=n(2936);Object.defineProperty(t,"TranslationRecognitionResult",{enumerable:!0,get:function(){return E.TranslationRecognitionResult}});var P=n(3213);Object.defineProperty(t,"TranslationSynthesisResult",{enumerable:!0,get:function(){return P.TranslationSynthesisResult}});var I=n(3906);Object.defineProperty(t,"ResultReason",{enumerable:!0,get:function(){return I.ResultReason}});var A=n(3051);Object.defineProperty(t,"SpeechConfig",{enumerable:!0,get:function(){return A.SpeechConfig}}),Object.defineProperty(t,"SpeechConfigImpl",{enumerable:!0,get:function(){return A.SpeechConfigImpl}});var T=n(3468);Object.defineProperty(t,"SpeechTranslationConfig",{enumerable:!0,get:function(){return T.SpeechTranslationConfig}}),Object.defineProperty(t,"SpeechTranslationConfigImpl",{enumerable:!0,get:function(){return T.SpeechTranslationConfigImpl}});var k=n(6058);Object.defineProperty(t,"PropertyCollection",{enumerable:!0,get:function(){return k.PropertyCollection}});var R=n(1743);Object.defineProperty(t,"PropertyId",{enumerable:!0,get:function(){return R.PropertyId}});var _=n(8045);Object.defineProperty(t,"Recognizer",{enumerable:!0,get:function(){return _.Recognizer}});var D=n(5411);Object.defineProperty(t,"SpeechRecognizer",{enumerable:!0,get:function(){return D.SpeechRecognizer}});var x=n(7747);Object.defineProperty(t,"IntentRecognizer",{enumerable:!0,get:function(){return x.IntentRecognizer}});var M=n(8472);Object.defineProperty(t,"VoiceProfileType",{enumerable:!0,get:function(){return M.VoiceProfileType}});var O=n(2058);Object.defineProperty(t,"TranslationRecognizer",{enumerable:!0,get:function(){return O.TranslationRecognizer}});var N=n(7515);Object.defineProperty(t,"Translations",{enumerable:!0,get:function(){return N.Translations}});var L=n(6727);Object.defineProperty(t,"NoMatchReason",{enumerable:!0,get:function(){return L.NoMatchReason}});var z=n(6501);Object.defineProperty(t,"NoMatchDetails",{enumerable:!0,get:function(){return z.NoMatchDetails}});var F=n(9169);Object.defineProperty(t,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return F.TranslationRecognitionCanceledEventArgs}});var q=n(3552);Object.defineProperty(t,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return q.IntentRecognitionCanceledEventArgs}});var B=n(8293);Object.defineProperty(t,"CancellationDetailsBase",{enumerable:!0,get:function(){return B.CancellationDetailsBase}});var j=n(4148);Object.defineProperty(t,"CancellationDetails",{enumerable:!0,get:function(){return j.CancellationDetails}});var U=n(372);Object.defineProperty(t,"CancellationErrorCode",{enumerable:!0,get:function(){return U.CancellationErrorCode}});var V=n(5850);Object.defineProperty(t,"ConnectionEventArgs",{enumerable:!0,get:function(){return V.ConnectionEventArgs}});var H=n(3707);Object.defineProperty(t,"ServiceEventArgs",{enumerable:!0,get:function(){return H.ServiceEventArgs}});var W=n(4931);Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return W.Connection}});var G=n(6945);Object.defineProperty(t,"PhraseListGrammar",{enumerable:!0,get:function(){return G.PhraseListGrammar}});var K=n(3542);Object.defineProperty(t,"DialogServiceConfig",{enumerable:!0,get:function(){return K.DialogServiceConfig}});var Q=n(6566);Object.defineProperty(t,"BotFrameworkConfig",{enumerable:!0,get:function(){return Q.BotFrameworkConfig}});var J=n(980);Object.defineProperty(t,"CustomCommandsConfig",{enumerable:!0,get:function(){return J.CustomCommandsConfig}});var Y=n(4229);Object.defineProperty(t,"DialogServiceConnector",{enumerable:!0,get:function(){return Y.DialogServiceConnector}});var $=n(840);Object.defineProperty(t,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return $.ActivityReceivedEventArgs}});var X=n(716);Object.defineProperty(t,"TurnStatusReceivedEventArgs",{enumerable:!0,get:function(){return X.TurnStatusReceivedEventArgs}});var Z=n(8282);Object.defineProperty(t,"ServicePropertyChannel",{enumerable:!0,get:function(){return Z.ServicePropertyChannel}});var ee=n(94);Object.defineProperty(t,"ProfanityOption",{enumerable:!0,get:function(){return ee.ProfanityOption}});var te=n(4902);Object.defineProperty(t,"BaseAudioPlayer",{enumerable:!0,get:function(){return te.BaseAudioPlayer}});var ne=n(6471);Object.defineProperty(t,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return ne.ConnectionMessageEventArgs}});var ie=n(344);Object.defineProperty(t,"ConnectionMessage",{enumerable:!0,get:function(){return ie.ConnectionMessage}});var re=n(4384);Object.defineProperty(t,"VoiceProfile",{enumerable:!0,get:function(){return re.VoiceProfile}});var oe=n(6917);Object.defineProperty(t,"VoiceProfileEnrollmentResult",{enumerable:!0,get:function(){return oe.VoiceProfileEnrollmentResult}}),Object.defineProperty(t,"VoiceProfileEnrollmentCancellationDetails",{enumerable:!0,get:function(){return oe.VoiceProfileEnrollmentCancellationDetails}});var se=n(9941);Object.defineProperty(t,"VoiceProfileResult",{enumerable:!0,get:function(){return se.VoiceProfileResult}}),Object.defineProperty(t,"VoiceProfileCancellationDetails",{enumerable:!0,get:function(){return se.VoiceProfileCancellationDetails}});var ae=n(7268);Object.defineProperty(t,"VoiceProfilePhraseResult",{enumerable:!0,get:function(){return ae.VoiceProfilePhraseResult}});var ce=n(8163);Object.defineProperty(t,"VoiceProfileClient",{enumerable:!0,get:function(){return ce.VoiceProfileClient}});var le=n(4656);Object.defineProperty(t,"SpeakerRecognizer",{enumerable:!0,get:function(){return le.SpeakerRecognizer}});var ue=n(6031);Object.defineProperty(t,"SpeakerIdentificationModel",{enumerable:!0,get:function(){return ue.SpeakerIdentificationModel}});var de=n(2040);Object.defineProperty(t,"SpeakerVerificationModel",{enumerable:!0,get:function(){return de.SpeakerVerificationModel}});var he=n(9982);Object.defineProperty(t,"AutoDetectSourceLanguageConfig",{enumerable:!0,get:function(){return he.AutoDetectSourceLanguageConfig}});var pe=n(6481);Object.defineProperty(t,"AutoDetectSourceLanguageResult",{enumerable:!0,get:function(){return pe.AutoDetectSourceLanguageResult}});var fe=n(7646);Object.defineProperty(t,"SourceLanguageConfig",{enumerable:!0,get:function(){return fe.SourceLanguageConfig}});var ge=n(9818);Object.defineProperty(t,"SpeakerRecognitionResult",{enumerable:!0,get:function(){return ge.SpeakerRecognitionResult}}),Object.defineProperty(t,"SpeakerRecognitionResultType",{enumerable:!0,get:function(){return ge.SpeakerRecognitionResultType}}),Object.defineProperty(t,"SpeakerRecognitionCancellationDetails",{enumerable:!0,get:function(){return ge.SpeakerRecognitionCancellationDetails}});var me=n(5463);Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return me.Conversation}}),Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return me.ConversationExpirationEventArgs}}),Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return me.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return me.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return me.ConversationTranslationEventArgs}}),Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return me.ConversationTranslationResult}}),Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return me.ConversationTranslator}}),Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return me.ConversationTranscriber}}),Object.defineProperty(t,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return me.ConversationTranscriptionResult}}),Object.defineProperty(t,"Meeting",{enumerable:!0,get:function(){return me.Meeting}}),Object.defineProperty(t,"MeetingTranscriber",{enumerable:!0,get:function(){return me.MeetingTranscriber}}),Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return me.Participant}}),Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return me.ParticipantChangedReason}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return me.User}});var ve=n(8021);Object.defineProperty(t,"Synthesizer",{enumerable:!0,get:function(){return ve.Synthesizer}});var ye=n(8765);Object.defineProperty(t,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return ye.SpeechSynthesisOutputFormat}});var Se=n(9783);Object.defineProperty(t,"SpeechSynthesizer",{enumerable:!0,get:function(){return Se.SpeechSynthesizer}});var Ce=n(9548);Object.defineProperty(t,"SynthesisResult",{enumerable:!0,get:function(){return Ce.SynthesisResult}});var be=n(8394);Object.defineProperty(t,"SpeechSynthesisResult",{enumerable:!0,get:function(){return be.SpeechSynthesisResult}});var we=n(3289);Object.defineProperty(t,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return we.SpeechSynthesisEventArgs}});var Ee=n(8608);Object.defineProperty(t,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return Ee.SpeechSynthesisWordBoundaryEventArgs}});var Pe=n(4814);Object.defineProperty(t,"SpeechSynthesisBookmarkEventArgs",{enumerable:!0,get:function(){return Pe.SpeechSynthesisBookmarkEventArgs}});var Ie=n(3911);Object.defineProperty(t,"SpeechSynthesisVisemeEventArgs",{enumerable:!0,get:function(){return Ie.SpeechSynthesisVisemeEventArgs}});var Ae=n(9225);Object.defineProperty(t,"SpeechSynthesisBoundaryType",{enumerable:!0,get:function(){return Ae.SpeechSynthesisBoundaryType}});var Te=n(2359);Object.defineProperty(t,"SynthesisVoicesResult",{enumerable:!0,get:function(){return Te.SynthesisVoicesResult}});var ke=n(8833);Object.defineProperty(t,"VoiceInfo",{enumerable:!0,get:function(){return ke.VoiceInfo}});var Re=n(9553);Object.defineProperty(t,"SpeakerAudioDestination",{enumerable:!0,get:function(){return Re.SpeakerAudioDestination}});var _e=n(684);Object.defineProperty(t,"ConversationTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return _e.ConversationTranscriptionCanceledEventArgs}});var De=n(6822);Object.defineProperty(t,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return De.MeetingTranscriptionCanceledEventArgs}});var xe=n(175);Object.defineProperty(t,"PronunciationAssessmentGradingSystem",{enumerable:!0,get:function(){return xe.PronunciationAssessmentGradingSystem}});var Me=n(338);Object.defineProperty(t,"PronunciationAssessmentGranularity",{enumerable:!0,get:function(){return Me.PronunciationAssessmentGranularity}});var Oe=n(1074);Object.defineProperty(t,"PronunciationAssessmentConfig",{enumerable:!0,get:function(){return Oe.PronunciationAssessmentConfig}});var Ne=n(1045);Object.defineProperty(t,"PronunciationAssessmentResult",{enumerable:!0,get:function(){return Ne.PronunciationAssessmentResult}});var Le=n(9531);Object.defineProperty(t,"LanguageIdMode",{enumerable:!0,get:function(){return Le.LanguageIdMode}});var ze=n(4572);Object.defineProperty(t,"AvatarConfig",{enumerable:!0,get:function(){return ze.AvatarConfig}});var Fe=n(6669);Object.defineProperty(t,"AvatarEventArgs",{enumerable:!0,get:function(){return Fe.AvatarEventArgs}});var qe=n(5886);Object.defineProperty(t,"AvatarSynthesizer",{enumerable:!0,get:function(){return qe.AvatarSynthesizer}});var Be=n(7996);Object.defineProperty(t,"AvatarVideoFormat",{enumerable:!0,get:function(){return Be.AvatarVideoFormat}}),Object.defineProperty(t,"Coordinate",{enumerable:!0,get:function(){return Be.Coordinate}});var je=n(6222);Object.defineProperty(t,"AvatarWebRTCConnectionResult",{enumerable:!0,get:function(){return je.AvatarWebRTCConnectionResult}});var Ue=n(2999);Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return Ue.Diagnostics}});var Ve=n(9099);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return Ve.LogLevel}})},3552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionCanceledEventArgs=void 0;const i=n(8040);class r extends i.IntentRecognitionEventArgs{constructor(e,t,n,i,r,o){super(i,r,o),this.privReason=e,this.privErrorDetails=t,this.privErrorCode=n}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}t.IntentRecognitionCanceledEventArgs=r},4065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionEventArgs=void 0;const i=n(8040);class r extends i.RecognitionEventArgs{constructor(e,t,n){super(t,n),this.privResult=e}get result(){return this.privResult}}t.IntentRecognitionEventArgs=r},2399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionResult=void 0;const i=n(8040);class r extends i.SpeechRecognitionResult{constructor(e,t,n,i,r,o,s,a,c,l,u){super(t,n,i,r,o,s,a,void 0,c,l,u),this.privIntentId=e}get intentId(){return this.privIntentId}}t.IntentRecognitionResult=r},7747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognizer=void 0;const i=n(9859),r=n(2307),o=n(260),s=n(8040);class a extends s.Recognizer{constructor(e,t){o.Contracts.throwIfNullOrUndefined(e,"speechConfig");const n=e;o.Contracts.throwIfNullOrUndefined(n,"speechConfig"),super(t,n.properties,new i.IntentConnectionFactory),this.privAddedIntents=[],this.privAddedLmIntents={},this.privDisposedIntentRecognizer=!1,this.privProperties=n.properties,o.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage])}get speechRecognitionLanguage(){return o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}get properties(){return this.privProperties}recognizeOnceAsync(e,t){if(o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){const e=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",e.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(e.ReferenceGrammars);this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}r.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(i.RecognitionMode.Interactive),e,t)}startContinuousRecognitionAsync(e,t){if(0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){const e=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",e.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(e.ReferenceGrammars);this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}r.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(i.RecognitionMode.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){r.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}startKeywordRecognitionAsync(e,t,n){o.Contracts.throwIfNull(e,"model"),n&&n("Not yet implemented.")}stopKeywordRecognitionAsync(e,t){if(e)try{e()}catch(n){t&&t(n)}}addIntent(e,t){o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),o.Contracts.throwIfNullOrWhitespace(t,"intentId"),o.Contracts.throwIfNullOrWhitespace(e,"simplePhrase"),this.privAddedIntents.push([t,e])}addIntentWithLanguageModel(e,t,n){o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),o.Contracts.throwIfNullOrWhitespace(e,"intentId"),o.Contracts.throwIfNull(t,"model");const r=t;o.Contracts.throwIfNullOrWhitespace(r.appId,"model.appId"),this.privAddedLmIntents[e]=new i.AddedLmIntent(r,n)}addAllIntents(e,t){o.Contracts.throwIfNull(e,"model");const n=e;o.Contracts.throwIfNullOrWhitespace(n.appId,"model.appId"),this.privUmbrellaIntent=new i.AddedLmIntent(n,t)}close(e,t){o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.marshalPromiseToCallbacks(this.dispose(!0),e,t)}createRecognizerConfig(e){return new i.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,n,r){const o=n;return new i.IntentServiceRecognizer(e,t,o,r,this)}async dispose(e){this.privDisposedIntentRecognizer||e&&(this.privDisposedIntentRecognizer=!0,await super.dispose(e))}buildSpeechContext(){let e,t,n;const i=[];void 0!==this.privUmbrellaIntent&&(e=this.privUmbrellaIntent.modelImpl.appId,t=this.privUmbrellaIntent.modelImpl.region,n=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(const r of Object.keys(this.privAddedLmIntents)){const o=this.privAddedLmIntents[r];if(void 0===e)e=o.modelImpl.appId;else if(e!==o.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(void 0===t)t=o.modelImpl.region;else if(t!==o.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(void 0===n)n=o.modelImpl.subscriptionKey;else if(n!==o.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");const s="luis/"+e+"-PRODUCTION#"+r;i.push(s)}return{Intent:{id:e,key:void 0===n?this.privProperties.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key]):n,provider:"LUIS"},ReferenceGrammars:void 0===this.privUmbrellaIntent?i:["luis/"+e+"-PRODUCTION"]}}}t.IntentRecognizer=a},1220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeywordRecognitionModel=void 0;const i=n(260);t.KeywordRecognitionModel=class{constructor(){this.privDisposed=!1}static fromFile(e){throw i.Contracts.throwIfFileDoesNotExist(e,"fileName"),new Error("Not yet implemented.")}static fromStream(e){throw i.Contracts.throwIfNull(e,"file"),new Error("Not yet implemented.")}close(){this.privDisposed||(this.privDisposed=!0)}}},9531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageIdMode=void 0,function(e){e[e.AtStart=0]="AtStart",e[e.Continuous=1]="Continuous"}(t.LanguageIdMode||(t.LanguageIdMode={}))},590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageUnderstandingModelImpl=t.LanguageUnderstandingModel=void 0;const i=n(260);class r{constructor(){}static fromEndpoint(e){i.Contracts.throwIfNull(e,"uri"),i.Contracts.throwIfNullOrWhitespace(e.hostname,"uri");const t=new o,n=e.host.indexOf(".");if(-1===n)throw new Error("Could not determine region from endpoint");t.region=e.host.substr(0,n);const r=e.pathname.lastIndexOf("/")+1;if(-1===r)throw new Error("Could not determine appId from endpoint");if(t.appId=e.pathname.substr(r),t.subscriptionKey=e.searchParams.get("subscription-key"),void 0===t.subscriptionKey)throw new Error("Could not determine subscription key from endpoint");return t}static fromAppId(e){i.Contracts.throwIfNullOrWhitespace(e,"appId");const t=new o;return t.appId=e,t}static fromSubscription(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),i.Contracts.throwIfNullOrWhitespace(t,"appId"),i.Contracts.throwIfNullOrWhitespace(n,"region");const r=new o;return r.appId=t,r.region=n,r.subscriptionKey=e,r}}t.LanguageUnderstandingModel=r;class o extends r{}t.LanguageUnderstandingModelImpl=o},9099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0;const i=n(2307);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return i.EventType}})},6822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingTranscriptionCanceledEventArgs=void 0;const i=n(8706);class r extends i.CancellationEventArgsBase{}t.MeetingTranscriptionCanceledEventArgs=r},6501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchDetails=void 0;const i=n(9859),r=n(8040);class o{constructor(e){this.privReason=e}static fromResult(e){const t=i.SimpleSpeechPhrase.fromJSON(e.json);let n=r.NoMatchReason.NotRecognized;switch(t.RecognitionStatus){case i.RecognitionStatus.BabbleTimeout:n=r.NoMatchReason.InitialBabbleTimeout;break;case i.RecognitionStatus.InitialSilenceTimeout:n=r.NoMatchReason.InitialSilenceTimeout;break;default:n=r.NoMatchReason.NotRecognized}return new o(n)}get reason(){return this.privReason}}t.NoMatchDetails=o},6727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchReason=void 0,function(e){e[e.NotRecognized=0]="NotRecognized",e[e.InitialSilenceTimeout=1]="InitialSilenceTimeout",e[e.InitialBabbleTimeout=2]="InitialBabbleTimeout"}(t.NoMatchReason||(t.NoMatchReason={}))},3833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputFormat=void 0,function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(t.OutputFormat||(t.OutputFormat={}))},6945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhraseListGrammar=void 0;class n{constructor(e){this.privGrammerBuilder=e.dynamicGrammar}static fromRecognizer(e){const t=e.internalData;return new n(t)}addPhrase(e){this.privGrammerBuilder.addPhrase(e)}addPhrases(e){this.privGrammerBuilder.addPhrase(e)}clear(){this.privGrammerBuilder.clearPhrases()}}t.PhraseListGrammar=n},94:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfanityOption=void 0,function(e){e[e.Masked=0]="Masked",e[e.Removed=1]="Removed",e[e.Raw=2]="Raw"}(t.ProfanityOption||(t.ProfanityOption={}))},1074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentConfig=void 0;const i=n(260),r=n(8040);class o{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.PronunciationAssessmentGradingSystem.FivePoint,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.PronunciationAssessmentGranularity.Phoneme,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i.Contracts.throwIfNullOrUndefined(e,"referenceText"),this.privProperties=new r.PropertyCollection,this.privProperties.setProperty(r.PropertyId.PronunciationAssessment_ReferenceText,e),this.privProperties.setProperty(r.PropertyId.PronunciationAssessment_GradingSystem,r.PronunciationAssessmentGradingSystem[t]),this.privProperties.setProperty(r.PropertyId.PronunciationAssessment_Granularity,r.PronunciationAssessmentGranularity[n]),this.privProperties.setProperty(r.PropertyId.PronunciationAssessment_EnableMiscue,String(o))}static fromJSON(e){i.Contracts.throwIfNullOrUndefined(e,"json");const t=new o("");return t.privProperties=new r.PropertyCollection,t.properties.setProperty(r.PropertyId.PronunciationAssessment_Json,e),t}toJSON(){return this.updateJson(),this.privProperties.getProperty(r.PropertyId.PronunciationAssessment_Params)}applyTo(e){this.updateJson();const t=e.internalData;t.expectContentAssessmentResponse=!!this.privContentAssessmentTopic,t.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(r.PropertyId.PronunciationAssessment_Params),this.privContentAssessmentTopic,t.isSpeakerDiarizationEnabled)}get referenceText(){return this.properties.getProperty(r.PropertyId.PronunciationAssessment_ReferenceText)}set referenceText(e){i.Contracts.throwIfNullOrWhitespace(e,"referenceText"),this.properties.setProperty(r.PropertyId.PronunciationAssessment_ReferenceText,e)}set phonemeAlphabet(e){i.Contracts.throwIfNullOrWhitespace(e,"phonemeAlphabet"),this.privPhonemeAlphabet=e}set enableMiscue(e){const t=e?"true":"false";this.properties.setProperty(r.PropertyId.PronunciationAssessment_EnableMiscue,t)}get enableMiscue(){return"true"===this.properties.getProperty(r.PropertyId.PronunciationAssessment_EnableMiscue,"false").toLowerCase()}set nbestPhonemeCount(e){this.privNBestPhonemeCount=e}set enableProsodyAssessment(e){this.privEnableProsodyAssessment=e}enableContentAssessmentWithTopic(e){this.privContentAssessmentTopic=e}get properties(){return this.privProperties}updateJson(){const e=this.privProperties.getProperty(r.PropertyId.PronunciationAssessment_Json,"{}"),t=JSON.parse(e),n=this.privProperties.getProperty(r.PropertyId.PronunciationAssessment_ReferenceText);n&&(t.referenceText=n);const i=this.privProperties.getProperty(r.PropertyId.PronunciationAssessment_GradingSystem);i&&(t.gradingSystem=i);const o=this.privProperties.getProperty(r.PropertyId.PronunciationAssessment_Granularity);o&&(t.granularity=o),this.privPhonemeAlphabet&&(t.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(t.nbestPhonemeCount=this.privNBestPhonemeCount),t.enableProsodyAssessment=this.privEnableProsodyAssessment,t.dimension="Comprehensive";this.privProperties.getProperty(r.PropertyId.PronunciationAssessment_EnableMiscue)&&(t.enableMiscue=this.enableMiscue),this.privProperties.setProperty(r.PropertyId.PronunciationAssessment_Params,JSON.stringify(t))}}t.PronunciationAssessmentConfig=o},175:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGradingSystem=void 0,function(e){e[e.FivePoint=1]="FivePoint",e[e.HundredMark=2]="HundredMark"}(t.PronunciationAssessmentGradingSystem||(t.PronunciationAssessmentGradingSystem={}))},338:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGranularity=void 0,function(e){e[e.Phoneme=1]="Phoneme",e[e.Word=2]="Word",e[e.FullText=3]="FullText"}(t.PronunciationAssessmentGranularity||(t.PronunciationAssessmentGranularity={}))},1045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentResult=t.ContentAssessmentResult=void 0;const i=n(260),r=n(8040);class o{constructor(e){this.privPronJson=e}get grammarScore(){return this.privPronJson.ContentAssessment.GrammarScore}get vocabularyScore(){return this.privPronJson.ContentAssessment.VocabularyScore}get topicScore(){return this.privPronJson.ContentAssessment.TopicScore}}t.ContentAssessmentResult=o;class s{constructor(e){const t=JSON.parse(e);i.Contracts.throwIfNullOrUndefined(t.NBest[0],"NBest"),this.privPronJson=t.NBest[0]}static fromResult(e){i.Contracts.throwIfNullOrUndefined(e,"result");const t=e.properties.getProperty(r.PropertyId.SpeechServiceResponse_JsonResult);return i.Contracts.throwIfNullOrUndefined(t,"json"),new s(t)}get detailResult(){return this.privPronJson}get accuracyScore(){var e;return null===(e=this.detailResult.PronunciationAssessment)||void 0===e?void 0:e.AccuracyScore}get pronunciationScore(){var e;return null===(e=this.detailResult.PronunciationAssessment)||void 0===e?void 0:e.PronScore}get completenessScore(){var e;return null===(e=this.detailResult.PronunciationAssessment)||void 0===e?void 0:e.CompletenessScore}get fluencyScore(){var e;return null===(e=this.detailResult.PronunciationAssessment)||void 0===e?void 0:e.FluencyScore}get prosodyScore(){var e;return null===(e=this.detailResult.PronunciationAssessment)||void 0===e?void 0:e.ProsodyScore}get contentAssessmentResult(){if(void 0!==this.detailResult.ContentAssessment)return new o(this.detailResult)}}t.PronunciationAssessmentResult=s},6058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyCollection=void 0;const i=n(8040);class r{constructor(){this.privKeys=[],this.privValues=[]}getProperty(e,t){let n;n="string"===typeof e?e:i.PropertyId[e];for(let i=0;i<this.privKeys.length;i++)if(this.privKeys[i]===n)return this.privValues[i];if(void 0!==t)return String(t)}setProperty(e,t){let n;n="string"===typeof e?e:i.PropertyId[e];for(let i=0;i<this.privKeys.length;i++)if(this.privKeys[i]===n)return void(this.privValues[i]=t);this.privKeys.push(n),this.privValues.push(t)}clone(){const e=new r;for(let t=0;t<this.privKeys.length;t++)e.privKeys.push(this.privKeys[t]),e.privValues.push(this.privValues[t]);return e}mergeTo(e){this.privKeys.forEach((t=>{if(void 0===e.getProperty(t,void 0)){const n=this.getProperty(t);e.setProperty(t,n)}}))}get keys(){return this.privKeys}}t.PropertyCollection=r},1743:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyId=void 0,function(e){e[e.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",e[e.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",e[e.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",e[e.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",e[e.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",e[e.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",e[e.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",e[e.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",e[e.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",e[e.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",e[e.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",e[e.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",e[e.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",e[e.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",e[e.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",e[e.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",e[e.Speech_SessionId=16]="Speech_SessionId",e[e.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",e[e.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",e[e.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",e[e.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",e[e.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",e[e.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",e[e.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",e[e.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",e[e.CancellationDetails_Reason=25]="CancellationDetails_Reason",e[e.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",e[e.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",e[e.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",e[e.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",e[e.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",e[e.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",e[e.Speech_SegmentationSilenceTimeoutMs=32]="Speech_SegmentationSilenceTimeoutMs",e[e.SpeechServiceConnection_EnableAudioLogging=33]="SpeechServiceConnection_EnableAudioLogging",e[e.SpeechServiceConnection_LanguageIdMode=34]="SpeechServiceConnection_LanguageIdMode",e[e.SpeechServiceConnection_RecognitionEndpointVersion=35]="SpeechServiceConnection_RecognitionEndpointVersion",e[e.SpeechServiceConnection_SpeakerIdMode=36]="SpeechServiceConnection_SpeakerIdMode",e[e.SpeechServiceResponse_ProfanityOption=37]="SpeechServiceResponse_ProfanityOption",e[e.SpeechServiceResponse_PostProcessingOption=38]="SpeechServiceResponse_PostProcessingOption",e[e.SpeechServiceResponse_RequestWordLevelTimestamps=39]="SpeechServiceResponse_RequestWordLevelTimestamps",e[e.SpeechServiceResponse_StablePartialResultThreshold=40]="SpeechServiceResponse_StablePartialResultThreshold",e[e.SpeechServiceResponse_OutputFormatOption=41]="SpeechServiceResponse_OutputFormatOption",e[e.SpeechServiceResponse_TranslationRequestStablePartialResult=42]="SpeechServiceResponse_TranslationRequestStablePartialResult",e[e.SpeechServiceResponse_RequestWordBoundary=43]="SpeechServiceResponse_RequestWordBoundary",e[e.SpeechServiceResponse_RequestPunctuationBoundary=44]="SpeechServiceResponse_RequestPunctuationBoundary",e[e.SpeechServiceResponse_RequestSentenceBoundary=45]="SpeechServiceResponse_RequestSentenceBoundary",e[e.Conversation_ApplicationId=46]="Conversation_ApplicationId",e[e.Conversation_DialogType=47]="Conversation_DialogType",e[e.Conversation_Initial_Silence_Timeout=48]="Conversation_Initial_Silence_Timeout",e[e.Conversation_From_Id=49]="Conversation_From_Id",e[e.Conversation_Conversation_Id=50]="Conversation_Conversation_Id",e[e.Conversation_Custom_Voice_Deployment_Ids=51]="Conversation_Custom_Voice_Deployment_Ids",e[e.Conversation_Speech_Activity_Template=52]="Conversation_Speech_Activity_Template",e[e.Conversation_Request_Bot_Status_Messages=53]="Conversation_Request_Bot_Status_Messages",e[e.Conversation_Agent_Connection_Id=54]="Conversation_Agent_Connection_Id",e[e.SpeechServiceConnection_Host=55]="SpeechServiceConnection_Host",e[e.ConversationTranslator_Host=56]="ConversationTranslator_Host",e[e.ConversationTranslator_Name=57]="ConversationTranslator_Name",e[e.ConversationTranslator_CorrelationId=58]="ConversationTranslator_CorrelationId",e[e.ConversationTranslator_Token=59]="ConversationTranslator_Token",e[e.PronunciationAssessment_ReferenceText=60]="PronunciationAssessment_ReferenceText",e[e.PronunciationAssessment_GradingSystem=61]="PronunciationAssessment_GradingSystem",e[e.PronunciationAssessment_Granularity=62]="PronunciationAssessment_Granularity",e[e.PronunciationAssessment_EnableMiscue=63]="PronunciationAssessment_EnableMiscue",e[e.PronunciationAssessment_Json=64]="PronunciationAssessment_Json",e[e.PronunciationAssessment_Params=65]="PronunciationAssessment_Params",e[e.SpeakerRecognition_Api_Version=66]="SpeakerRecognition_Api_Version",e[e.WebWorkerLoadType=67]="WebWorkerLoadType",e[e.TalkingAvatarService_WebRTC_SDP=68]="TalkingAvatarService_WebRTC_SDP"}(t.PropertyId||(t.PropertyId={}))},8743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionEventArgs=void 0;const i=n(8040);class r extends i.SessionEventArgs{constructor(e,t){super(t),this.privOffset=e}get offset(){return this.privOffset}}t.RecognitionEventArgs=r},7501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionResult=void 0;t.RecognitionResult=class{constructor(e,t,n,i,r,o,s,a,c,l){this.privResultId=e,this.privReason=t,this.privText=n,this.privDuration=i,this.privOffset=r,this.privLanguage=o,this.privLanguageDetectionConfidence=s,this.privErrorDetails=a,this.privJson=c,this.privProperties=l}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}}},8045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Recognizer=void 0;const i=n(9859),r=n(2307),o=n(260),s=n(8040);class a{constructor(e,t,n){this.audioConfig=void 0!==e?e:s.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=t.clone(),this.privConnectionFactory=n,this.implCommonRecognizerSetup()}close(e,t){o.Contracts.throwIfDisposed(this.privDisposed),r.marshalPromiseToCallbacks(this.dispose(!0),e,t)}get internalData(){return this.privReco}async dispose(e){this.privDisposed||(this.privDisposed=!0,e&&this.privReco&&(await this.privReco.audioSource.turnOff(),await this.privReco.dispose()))}static get telemetryEnabled(){return i.ServiceRecognizerBase.telemetryDataEnabled}static enableTelemetry(e){i.ServiceRecognizerBase.telemetryDataEnabled=e}implCommonRecognizerSetup(){let e="undefined"!==typeof window?"Browser":"Node",t="unknown",n="unknown";"undefined"!==typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,n=navigator.appVersion);const r=this.createRecognizerConfig(new i.SpeechServiceConfig(new i.Context(new i.OS(e,t,n))));this.privReco=this.createServiceRecognizer(a.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,r)}async recognizeOnceAsyncImpl(e){o.Contracts.throwIfDisposed(this.privDisposed);const t=new r.Deferred;await this.implRecognizerStop(),await this.privReco.recognize(e,t.resolve,t.reject);const n=await t.promise;return await this.implRecognizerStop(),n}async startContinuousRecognitionAsyncImpl(e){o.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop(),await this.privReco.recognize(e,void 0,void 0)}async stopContinuousRecognitionAsyncImpl(){o.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop()}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}static getAuthFromProperties(e){const t=e.getProperty(s.PropertyId.SpeechServiceConnection_Key,void 0);return t&&""!==t?new i.CognitiveSubscriptionKeyAuthentication(t):new i.CognitiveTokenAuthentication((()=>{const t=e.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}),(()=>{const t=e.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}))}}t.Recognizer=a},3906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultReason=void 0,function(e){e[e.NoMatch=0]="NoMatch",e[e.Canceled=1]="Canceled",e[e.RecognizingSpeech=2]="RecognizingSpeech",e[e.RecognizedSpeech=3]="RecognizedSpeech",e[e.RecognizedKeyword=4]="RecognizedKeyword",e[e.RecognizingIntent=5]="RecognizingIntent",e[e.RecognizedIntent=6]="RecognizedIntent",e[e.TranslatingSpeech=7]="TranslatingSpeech",e[e.TranslatedSpeech=8]="TranslatedSpeech",e[e.SynthesizingAudio=9]="SynthesizingAudio",e[e.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",e[e.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",e[e.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",e[e.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",e[e.RecognizedSpeakers=14]="RecognizedSpeakers",e[e.RecognizedSpeaker=15]="RecognizedSpeaker",e[e.ResetVoiceProfile=16]="ResetVoiceProfile",e[e.DeletedVoiceProfile=17]="DeletedVoiceProfile",e[e.VoicesListRetrieved=18]="VoicesListRetrieved",e[e.TranslatingParticipantSpeech=19]="TranslatingParticipantSpeech",e[e.TranslatedParticipantSpeech=20]="TranslatedParticipantSpeech",e[e.TranslatedInstantMessage=21]="TranslatedInstantMessage",e[e.TranslatedParticipantInstantMessage=22]="TranslatedParticipantInstantMessage"}(t.ResultReason||(t.ResultReason={}))},3707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceEventArgs=void 0;const i=n(8040);class r extends i.SessionEventArgs{constructor(e,t,n){super(n),this.privJsonResult=e,this.privEventName=t}get jsonString(){return this.privJsonResult}get eventName(){return this.privEventName}}t.ServiceEventArgs=r},8282:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServicePropertyChannel=void 0,function(e){e[e.UriQueryParameter=0]="UriQueryParameter"}(t.ServicePropertyChannel||(t.ServicePropertyChannel={}))},9070:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionEventArgs=void 0;t.SessionEventArgs=class{constructor(e){this.privSessionId=e}get sessionId(){return this.privSessionId}}},7646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceLanguageConfig=void 0;const i=n(260);class r{constructor(e,t){i.Contracts.throwIfNullOrUndefined(e,"language"),this.privLanguage=e,this.privEndpointId=t}static fromLanguage(e,t){return new r(e,t)}get language(){return this.privLanguage}get endpointId(){return this.privEndpointId}}t.SourceLanguageConfig=r},6031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerIdentificationModel=void 0;const i=n(260),r=n(8040);class o{constructor(e){if(this.privVoiceProfiles=[],this.privProfileIds=[],i.Contracts.throwIfNullOrUndefined(e,"VoiceProfiles"),0===e.length)throw new Error("Empty Voice Profiles array");for(const t of e){if(t.profileType!==r.VoiceProfileType.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+t.profileId);this.privVoiceProfiles.push(t),this.privProfileIds.push(t.profileId)}}static fromProfiles(e){return new o(e)}get voiceProfileIds(){return this.privProfileIds.join(",")}get profileIds(){return this.privProfileIds}get scenario(){return"TextIndependentIdentification"}}t.SpeakerIdentificationModel=o},9818:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognitionCancellationDetails=t.SpeakerRecognitionResult=t.SpeakerRecognitionResultType=void 0;const i=n(9859),r=n(8040);var o;!function(e){e[e.Verify=0]="Verify",e[e.Identify=1]="Identify"}(o=t.SpeakerRecognitionResultType||(t.SpeakerRecognitionResultType={}));t.SpeakerRecognitionResult=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.ResultReason.RecognizedSpeaker,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.CancellationErrorCode.NoError,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.privProperties=new r.PropertyCollection;const a="TextIndependentIdentification"===e.scenario?o.Identify:o.Verify;this.privReason=t,this.privReason!==r.ResultReason.Canceled?a===o.Identify?(this.privProfileId=e.identificationResult.identifiedProfile.profileId,this.privScore=e.identificationResult.identifiedProfile.score,this.privReason=r.ResultReason.RecognizedSpeakers):(this.privScore=e.verificationResult.score,"accept"!==e.verificationResult.recognitionResult.toLowerCase()&&(this.privReason=r.ResultReason.NoMatch),void 0!==e.verificationResult.profileId&&""!==e.verificationResult.profileId&&(this.privProfileId=e.verificationResult.profileId)):(this.privErrorDetails=s,this.privProperties.setProperty(i.CancellationErrorCodePropertyName,r.CancellationErrorCode[n])),this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,JSON.stringify(e))}get properties(){return this.privProperties}get reason(){return this.privReason}get profileId(){return this.privProfileId}get errorDetails(){return this.privErrorDetails}get score(){return this.privScore}};class s extends r.CancellationDetailsBase{constructor(e,t,n){super(e,t,n)}static fromResult(e){const t=r.CancellationReason.Error;let n=r.CancellationErrorCode.NoError;return e.properties&&(n=r.CancellationErrorCode[e.properties.getProperty(i.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new s(t,e.errorDetails,n)}}t.SpeakerRecognitionCancellationDetails=s},4656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognizer=void 0;const i=n(9859),r=n(260),o=n(8040);class s extends o.Recognizer{constructor(e,t){r.Contracts.throwIfNullOrUndefined(e,"speechConfig");const n=e;r.Contracts.throwIfNullOrUndefined(n,"speechConfig"),super(t,n.properties,new i.SpeakerRecognitionConnectionFactory),this.privAudioConfigImpl=t,r.Contracts.throwIfNull(this.privAudioConfigImpl,"audioConfig"),this.privDisposedSpeakerRecognizer=!1,this.privProperties=n.properties}get authorizationToken(){return this.properties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){r.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}get properties(){return this.privProperties}async recognizeOnceAsync(e){return r.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),this.recognizeSpeakerOnceAsyncImpl(e)}async close(){r.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.dispose(!0)}async recognizeSpeakerOnceAsyncImpl(e){r.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.implRecognizerStop();const t=await this.privReco.recognizeSpeaker(e);return await this.implRecognizerStop(),t}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}createRecognizerConfig(e){return new i.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,n,r){const o=n;return new i.SpeakerServiceRecognizer(e,t,o,r,this)}async dispose(e){this.privDisposedSpeakerRecognizer||e&&(this.privDisposedSpeakerRecognizer=!0,await super.dispose(e))}}t.SpeakerRecognizer=s},2040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerVerificationModel=void 0;const i=n(260),r=n(8040);class o{constructor(e){if(i.Contracts.throwIfNullOrUndefined(e,"VoiceProfile"),e.profileType===r.VoiceProfileType.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=e}static fromProfile(e){return new o(e)}get voiceProfile(){return this.privVoiceProfile}get profileIds(){return[this.voiceProfile.profileId]}get scenario(){return this.voiceProfile.profileType===r.VoiceProfileType.TextDependentVerification?"TextDependentVerification":"TextIndependentVerification"}}t.SpeakerVerificationModel=o},3051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConfigImpl=t.SpeechConfig=void 0;const i=n(9859),r=n(260),o=n(8040);class s{constructor(){}static fromSubscription(e,t){r.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),r.Contracts.throwIfNullOrWhitespace(t,"region");const n=new a;return n.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n.setProperty(o.PropertyId.SpeechServiceConnection_IntentRegion,t),n.setProperty(o.PropertyId.SpeechServiceConnection_Key,e),n}static fromEndpoint(e,t){r.Contracts.throwIfNull(e,"endpoint");const n=new a;return n.setProperty(o.PropertyId.SpeechServiceConnection_Endpoint,e.href),void 0!==t&&n.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),n}static fromHost(e,t){r.Contracts.throwIfNull(e,"hostName");const n=new a;return n.setProperty(o.PropertyId.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&n.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),n}static fromAuthorizationToken(e,t){r.Contracts.throwIfNull(e,"authorizationToken"),r.Contracts.throwIfNullOrWhitespace(t,"region");const n=new a;return n.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n.setProperty(o.PropertyId.SpeechServiceConnection_IntentRegion,t),n.authorizationToken=e,n}close(){}}t.SpeechConfig=s;class a extends s{constructor(){super(),this.privProperties=new o.PropertyCollection,this.speechRecognitionLanguage="en-US",this.outputFormat=o.OutputFormat.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,e)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,e)}get outputFormat(){return o.OutputFormat[this.privProperties.getProperty(i.OutputFormatPropertyName,void 0)]}set outputFormat(e){this.privProperties.setProperty(i.OutputFormatPropertyName,o.OutputFormat[e])}get endpointId(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_EndpointId,e)}setProperty(e,t){r.Contracts.throwIfNull(t,"value"),this.privProperties.setProperty(e,t)}getProperty(e,t){return this.privProperties.getProperty(e,t)}setProxy(e,t,n,i){this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyHostName],e),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPort],t),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyUserName],n),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPassword],i)}setServiceProperty(e,t){const n=JSON.parse(this.privProperties.getProperty(i.ServicePropertiesPropertyName,"{}"));n[e]=t,this.privProperties.setProperty(i.ServicePropertiesPropertyName,JSON.stringify(n))}setProfanity(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceResponse_ProfanityOption,o.ProfanityOption[e])}enableAudioLogging(){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(o.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privProperties.setProperty(i.ForceDictationPropertyName,"true")}clone(){const e=new a;return e.privProperties=this.privProperties.clone(),e}get speechSynthesisLanguage(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage,e)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthVoice,e)}get speechSynthesisOutputFormat(){return o.SpeechSynthesisOutputFormat[this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,o.SpeechSynthesisOutputFormat[e])}}t.SpeechConfigImpl=a},4832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionCanceledEventArgs=void 0;const i=n(8706);class r extends i.CancellationEventArgsBase{}t.SpeechRecognitionCanceledEventArgs=r},1649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingTranscriptionEventArgs=t.ConversationTranscriptionEventArgs=t.SpeechRecognitionEventArgs=void 0;const i=n(8040);class r extends i.RecognitionEventArgs{constructor(e,t,n){super(t,n),this.privResult=e}get result(){return this.privResult}}t.SpeechRecognitionEventArgs=r;class o extends i.RecognitionEventArgs{constructor(e,t,n){super(t,n),this.privResult=e}get result(){return this.privResult}}t.ConversationTranscriptionEventArgs=o;t.MeetingTranscriptionEventArgs=class extends r{}},127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionResult=void 0;const i=n(8040);class r extends i.RecognitionResult{constructor(e,t,n,i,r,o,s,a,c,l,u){super(e,t,n,i,r,o,s,c,l,u),this.privSpeakerId=a}get speakerId(){return this.privSpeakerId}}t.SpeechRecognitionResult=r},5411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognizer=void 0;const i=n(9859),r=n(2307),o=n(260),s=n(8040);class a extends s.Recognizer{constructor(e,t){const n=e;o.Contracts.throwIfNull(n,"speechConfig"),o.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),super(t,n.properties,new i.SpeechConnectionFactory),this.privDisposedRecognizer=!1}static FromConfig(e,t,n){const i=e;t.properties.mergeTo(i.properties);return new a(e,n)}get endpointId(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.OutputFormatPropertyName,s.OutputFormat[s.OutputFormat.Simple])===s.OutputFormat[s.OutputFormat.Simple]?s.OutputFormat.Simple:s.OutputFormat.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(e,t){r.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(i.RecognitionMode.Interactive),e,t)}startContinuousRecognitionAsync(e,t){r.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(i.RecognitionMode.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){r.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}startKeywordRecognitionAsync(e,t,n){o.Contracts.throwIfNull(e,"model"),n&&n("Not yet implemented.")}stopKeywordRecognitionAsync(e){e&&e()}close(e,t){o.Contracts.throwIfDisposed(this.privDisposedRecognizer),r.marshalPromiseToCallbacks(this.dispose(!0),e,t)}async dispose(e){this.privDisposedRecognizer||(e&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(e))}createRecognizerConfig(e){return new i.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,n,r){const o=n;return new i.SpeechServiceRecognizer(e,t,o,r,this)}}t.SpeechRecognizer=a},4814:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisBookmarkEventArgs=void 0;t.SpeechSynthesisBookmarkEventArgs=class{constructor(e,t){this.privAudioOffset=e,this.privText=t}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}}},9225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisBoundaryType=void 0,function(e){e.Word="WordBoundary",e.Punctuation="PunctuationBoundary",e.Sentence="SentenceBoundary"}(t.SpeechSynthesisBoundaryType||(t.SpeechSynthesisBoundaryType={}))},3289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisEventArgs=void 0;t.SpeechSynthesisEventArgs=class{constructor(e){this.privResult=e}get result(){return this.privResult}}},8765:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisOutputFormat=void 0,function(e){e[e.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",e[e.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",e[e.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",e[e.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",e[e.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",e[e.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",e[e.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",e[e.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",e[e.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",e[e.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",e[e.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",e[e.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",e[e.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",e[e.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",e[e.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",e[e.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",e[e.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",e[e.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",e[e.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",e[e.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",e[e.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",e[e.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",e[e.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",e[e.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",e[e.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",e[e.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",e[e.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",e[e.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",e[e.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",e[e.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",e[e.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",e[e.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",e[e.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",e[e.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",e[e.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",e[e.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",e[e.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm"}(t.SpeechSynthesisOutputFormat||(t.SpeechSynthesisOutputFormat={}))},8394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisResult=void 0;const i=n(8040);class r extends i.SynthesisResult{constructor(e,t,n,i,r,o){super(e,t,i,r),this.privAudioData=n,this.privAudioDuration=o}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}}t.SpeechSynthesisResult=r},3911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisVisemeEventArgs=void 0;t.SpeechSynthesisVisemeEventArgs=class{constructor(e,t,n){this.privAudioOffset=e,this.privVisemeId=t,this.privAnimation=n}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}}},8608:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisWordBoundaryEventArgs=void 0;t.SpeechSynthesisWordBoundaryEventArgs=class{constructor(e,t,n,i,r,o){this.privAudioOffset=e,this.privDuration=t,this.privText=n,this.privWordLength=i,this.privTextOffset=r,this.privBoundaryType=o}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}}},9783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesizer=void 0;const i=n(9859),r=n(2307),o=n(8777),s=n(7810),a=n(9709),c=n(260),l=n(8040),u=n(8021);class d extends l.Synthesizer{constructor(e,t){super(e),null!==t&&(this.audioConfig=void 0===t?"undefined"===typeof window?void 0:l.AudioConfig.fromDefaultSpeakerOutput():t),this.privConnectionFactory=new i.SpeechSynthesisConnectionFactory,this.implCommonSynthesizeSetup()}static FromConfig(e,t,n){const i=e;return t.properties.mergeTo(i.properties),new d(e,n)}speakTextAsync(e,t,n,i){this.speakImpl(e,!1,t,n,i)}speakSsmlAsync(e,t,n,i){this.speakImpl(e,!0,t,n,i)}async getVoicesAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.getVoices(e)}close(e,t){c.Contracts.throwIfDisposed(this.privDisposed),r.marshalPromiseToCallbacks(this.dispose(!0),e,t)}get internalData(){return this.privAdapter}createSynthesisAdapter(e,t,n){return new i.SpeechSynthesisAdapter(e,t,n,this,this.audioConfig)}createRestSynthesisAdapter(e,t){return new i.SynthesisRestAdapter(t,e)}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=s.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(l.SpeechSynthesisOutputFormat[this.properties.getProperty(l.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)])}speakImpl(e,t,n,i,s){try{c.Contracts.throwIfDisposed(this.privDisposed);const d=r.createNoDashGuid();let h;h=s instanceof l.PushAudioOutputStreamCallback?new a.PushAudioOutputStreamImpl(s):s instanceof l.PullAudioOutputStream?s:void 0!==s?new o.AudioFileWriter(s):void 0,this.synthesisRequestQueue.enqueue(new u.SynthesisRequest(d,e,t,(e=>{if(this.privSynthesizing=!1,n)try{n(e)}catch(e){i&&i(e)}n=void 0,this.adapterSpeak().catch((()=>{}))}),(e=>{i&&i(e)}),h)),this.adapterSpeak().catch((()=>{}))}catch(d){if(i)if(d instanceof Error){const e=d;i(e.name+": "+e.message)}else i(d);this.dispose(!0).catch((()=>{}))}}async getVoices(e){const t=r.createNoDashGuid(),n=await this.privRestAdapter.getVoicesList(t);if(n.ok&&Array.isArray(n.json)){let i=n.json;return e&&e.length>0&&(i=i.filter((t=>!!t.Locale&&t.Locale.toLowerCase()===e.toLowerCase()))),new l.SynthesisVoicesResult(t,i,void 0)}return new l.SynthesisVoicesResult(t,void 0,"Error: ".concat(n.status,": ").concat(n.statusText))}}t.SpeechSynthesizer=d},3468:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechTranslationConfigImpl=t.SpeechTranslationConfig=void 0;const i=n(9859),r=n(260),o=n(8040);class s extends o.SpeechConfig{constructor(){super()}static fromSubscription(e,t){r.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),r.Contracts.throwIfNullOrWhitespace(t,"region");const n=new a;return n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Key,e),n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n}static fromAuthorizationToken(e,t){r.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),r.Contracts.throwIfNullOrWhitespace(t,"region");const n=new a;return n.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e),n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),n}static fromHost(e,t){r.Contracts.throwIfNull(e,"hostName");const n=new a;return n.setProperty(o.PropertyId.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&n.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),n}static fromEndpoint(e,t){r.Contracts.throwIfNull(e,"endpoint"),r.Contracts.throwIfNull(t,"subscriptionKey");const n=new a;return n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Endpoint,e.href),n.properties.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),n}}t.SpeechTranslationConfig=s;class a extends s{constructor(){super(),this.privSpeechProperties=new o.PropertyCollection,this.outputFormat=o.OutputFormat.Simple}set authorizationToken(e){r.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}set speechRecognitionLanguage(e){r.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,e)}get speechRecognitionLanguage(){return this.privSpeechProperties.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_RecoLanguage])}get subscriptionKey(){return this.privSpeechProperties.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_Key])}get outputFormat(){return o.OutputFormat[this.privSpeechProperties.getProperty(i.OutputFormatPropertyName,void 0)]}set outputFormat(e){this.privSpeechProperties.setProperty(i.OutputFormatPropertyName,o.OutputFormat[e])}get endpointId(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_EndpointId,e)}addTargetLanguage(e){r.Contracts.throwIfNullOrWhitespace(e,"value");const t=this.targetLanguages;t.includes(e)||(t.push(e),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(",")))}get targetLanguages(){return void 0!==this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)?this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}get voiceName(){return this.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_TranslationVoice])}set voiceName(e){r.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,e)}get region(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_Region)}setProxy(e,t,n,i){this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyHostName],e),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPort],t),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyUserName],n),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPassword],i)}getProperty(e,t){return this.privSpeechProperties.getProperty(e,t)}setProperty(e,t){this.privSpeechProperties.setProperty(e,t)}get properties(){return this.privSpeechProperties}close(){}setServiceProperty(e,t){const n=JSON.parse(this.privSpeechProperties.getProperty(i.ServicePropertiesPropertyName,"{}"));n[e]=t,this.privSpeechProperties.setProperty(i.ServicePropertiesPropertyName,JSON.stringify(n))}setProfanity(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceResponse_ProfanityOption,o.ProfanityOption[e])}enableAudioLogging(){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privSpeechProperties.setProperty(i.ForceDictationPropertyName,"true")}get speechSynthesisLanguage(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage,e)}get speechSynthesisVoiceName(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthVoice,e)}get speechSynthesisOutputFormat(){return o.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,o.SpeechSynthesisOutputFormat[e])}}t.SpeechTranslationConfigImpl=a},9548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisResult=void 0;t.SynthesisResult=class{constructor(e,t,n,i){this.privResultId=e,this.privReason=t,this.privErrorDetails=n,this.privProperties=i}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}}},2359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisVoicesResult=void 0;const i=n(8040);class r extends i.SynthesisResult{constructor(e,t,n){if(Array.isArray(t)){super(e,i.ResultReason.VoicesListRetrieved,void 0,new i.PropertyCollection),this.privVoices=[];for(const e of t)this.privVoices.push(new i.VoiceInfo(e))}else super(e,i.ResultReason.Canceled,n||"Error information unavailable",new i.PropertyCollection)}get voices(){return this.privVoices}}t.SynthesisVoicesResult=r},8021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisRequest=t.Synthesizer=void 0;const i=n(9859),r=n(2307),o=n(260),s=n(8040);class a{constructor(e){const t=e;o.Contracts.throwIfNull(t,"speechConfig"),this.privProperties=t.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.synthesisRequestQueue=new r.Queue}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}get properties(){return this.privProperties}get autoDetectSourceLanguage(){return this.properties.getProperty(s.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)===i.AutoDetectSourceLanguagesOpenRangeOptionName}buildSsml(e){const t={"af-ZA":"af-ZA-AdriNeural","am-ET":"am-ET-AmehaNeural","ar-AE":"ar-AE-FatimaNeural","ar-BH":"ar-BH-AliNeural","ar-DZ":"ar-DZ-AminaNeural","ar-EG":"ar-EG-SalmaNeural","ar-IQ":"ar-IQ-BasselNeural","ar-JO":"ar-JO-SanaNeural","ar-KW":"ar-KW-FahedNeural","ar-LY":"ar-LY-ImanNeural","ar-MA":"ar-MA-JamalNeural","ar-QA":"ar-QA-AmalNeural","ar-SA":"ar-SA-HamedNeural","ar-SY":"ar-SY-AmanyNeural","ar-TN":"ar-TN-HediNeural","ar-YE":"ar-YE-MaryamNeural","bg-BG":"bg-BG-BorislavNeural","bn-BD":"bn-BD-NabanitaNeural","bn-IN":"bn-IN-BashkarNeural","ca-ES":"ca-ES-JoanaNeural","cs-CZ":"cs-CZ-AntoninNeural","cy-GB":"cy-GB-AledNeural","da-DK":"da-DK-ChristelNeural","de-AT":"de-AT-IngridNeural","de-CH":"de-CH-JanNeural","de-DE":"de-DE-KatjaNeural","el-GR":"el-GR-AthinaNeural","en-AU":"en-AU-NatashaNeural","en-CA":"en-CA-ClaraNeural","en-GB":"en-GB-LibbyNeural","en-HK":"en-HK-SamNeural","en-IE":"en-IE-ConnorNeural","en-IN":"en-IN-NeerjaNeural","en-KE":"en-KE-AsiliaNeural","en-NG":"en-NG-AbeoNeural","en-NZ":"en-NZ-MitchellNeural","en-PH":"en-PH-JamesNeural","en-SG":"en-SG-LunaNeural","en-TZ":"en-TZ-ElimuNeural","en-US":"en-US-JennyNeural","en-ZA":"en-ZA-LeahNeural","es-AR":"es-AR-ElenaNeural","es-BO":"es-BO-MarceloNeural","es-CL":"es-CL-CatalinaNeural","es-CO":"es-CO-GonzaloNeural","es-CR":"es-CR-JuanNeural","es-CU":"es-CU-BelkysNeural","es-DO":"es-DO-EmilioNeural","es-EC":"es-EC-AndreaNeural","es-ES":"es-ES-AlvaroNeural","es-GQ":"es-GQ-JavierNeural","es-GT":"es-GT-AndresNeural","es-HN":"es-HN-CarlosNeural","es-MX":"es-MX-DaliaNeural","es-NI":"es-NI-FedericoNeural","es-PA":"es-PA-MargaritaNeural","es-PE":"es-PE-AlexNeural","es-PR":"es-PR-KarinaNeural","es-PY":"es-PY-MarioNeural","es-SV":"es-SV-LorenaNeural","es-US":"es-US-AlonsoNeural","es-UY":"es-UY-MateoNeural","es-VE":"es-VE-PaolaNeural","et-EE":"et-EE-AnuNeural","fa-IR":"fa-IR-DilaraNeural","fi-FI":"fi-FI-SelmaNeural","fil-PH":"fil-PH-AngeloNeural","fr-BE":"fr-BE-CharlineNeural","fr-CA":"fr-CA-SylvieNeural","fr-CH":"fr-CH-ArianeNeural","fr-FR":"fr-FR-DeniseNeural","ga-IE":"ga-IE-ColmNeural","gl-ES":"gl-ES-RoiNeural","gu-IN":"gu-IN-DhwaniNeural","he-IL":"he-IL-AvriNeural","hi-IN":"hi-IN-MadhurNeural","hr-HR":"hr-HR-GabrijelaNeural","hu-HU":"hu-HU-NoemiNeural","id-ID":"id-ID-ArdiNeural","is-IS":"is-IS-GudrunNeural","it-IT":"it-IT-IsabellaNeural","ja-JP":"ja-JP-NanamiNeural","jv-ID":"jv-ID-DimasNeural","kk-KZ":"kk-KZ-AigulNeural","km-KH":"km-KH-PisethNeural","kn-IN":"kn-IN-GaganNeural","ko-KR":"ko-KR-SunHiNeural","lo-LA":"lo-LA-ChanthavongNeural","lt-LT":"lt-LT-LeonasNeural","lv-LV":"lv-LV-EveritaNeural","mk-MK":"mk-MK-AleksandarNeural","ml-IN":"ml-IN-MidhunNeural","mr-IN":"mr-IN-AarohiNeural","ms-MY":"ms-MY-OsmanNeural","mt-MT":"mt-MT-GraceNeural","my-MM":"my-MM-NilarNeural","nb-NO":"nb-NO-PernilleNeural","nl-BE":"nl-BE-ArnaudNeural","nl-NL":"nl-NL-ColetteNeural","pl-PL":"pl-PL-AgnieszkaNeural","ps-AF":"ps-AF-GulNawazNeural","pt-BR":"pt-BR-FranciscaNeural","pt-PT":"pt-PT-DuarteNeural","ro-RO":"ro-RO-AlinaNeural","ru-RU":"ru-RU-SvetlanaNeural","si-LK":"si-LK-SameeraNeural","sk-SK":"sk-SK-LukasNeural","sl-SI":"sl-SI-PetraNeural","so-SO":"so-SO-MuuseNeural","sr-RS":"sr-RS-NicholasNeural","su-ID":"su-ID-JajangNeural","sv-SE":"sv-SE-SofieNeural","sw-KE":"sw-KE-RafikiNeural","sw-TZ":"sw-TZ-DaudiNeural","ta-IN":"ta-IN-PallaviNeural","ta-LK":"ta-LK-KumarNeural","ta-SG":"ta-SG-AnbuNeural","te-IN":"te-IN-MohanNeural","th-TH":"th-TH-PremwadeeNeural","tr-TR":"tr-TR-AhmetNeural","uk-UA":"uk-UA-OstapNeural","ur-IN":"ur-IN-GulNeural","ur-PK":"ur-PK-AsadNeural","uz-UZ":"uz-UZ-MadinaNeural","vi-VN":"vi-VN-HoaiMyNeural","zh-CN":"zh-CN-XiaoxiaoNeural","zh-HK":"zh-HK-HiuMaanNeural","zh-TW":"zh-TW-HsiaoChenNeural","zu-ZA":"zu-ZA-ThandoNeural"};let n=this.properties.getProperty(s.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),i=this.properties.getProperty(s.PropertyId.SpeechServiceConnection_SynthVoice,""),r=a.XMLEncode(e);return this.autoDetectSourceLanguage?n="en-US":i=i||t[n],i&&(r="<voice name='".concat(i,"'>").concat(r,"</voice>")),r="<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='".concat(n,"'>").concat(r,"</speak>"),r}async dispose(e){this.privDisposed||(e&&this.privAdapter&&await this.privAdapter.dispose(),this.privDisposed=!0)}async adapterSpeak(){if(!this.privDisposed&&!this.privSynthesizing){this.privSynthesizing=!0;const e=await this.synthesisRequestQueue.dequeue();return this.privAdapter.Speak(e.text,e.isSSML,e.requestId,e.cb,e.err,e.dataStream)}}createSynthesizerConfig(e){return new i.SynthesizerConfig(e,this.privProperties)}implCommonSynthesizeSetup(){let e="undefined"!==typeof window?"Browser":"Node",t="unknown",n="unknown";"undefined"!==typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,n=navigator.appVersion);const r=this.createSynthesizerConfig(new i.SpeechServiceConfig(new i.Context(new i.OS(e,t,n)))),o=this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_Key,void 0),a=o&&""!==o?new i.CognitiveSubscriptionKeyAuthentication(o):new i.CognitiveTokenAuthentication((()=>{const e=this.privProperties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(e)}),(()=>{const e=this.privProperties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(e)}));this.privAdapter=this.createSynthesisAdapter(a,this.privConnectionFactory,r),this.privRestAdapter=this.createRestSynthesisAdapter(a,r)}static XMLEncode(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}}t.Synthesizer=a;t.SynthesisRequest=class{constructor(e,t,n,i,r,o){this.requestId=e,this.text=t,this.isSSML=n,this.cb=i,this.err=r,this.dataStream=o}}},2465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationImpl=t.Conversation=void 0;const i=n(9859),r=n(2307),o=n(260),s=n(8040);class a{constructor(){}static createConversationAsync(e,t,n,a){let l,u,d;return o.Contracts.throwIfNullOrUndefined(e,i.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),o.Contracts.throwIfNullOrUndefined(e.region,i.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),e.subscriptionKey||e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceAuthorization_Token])||o.Contracts.throwIfNullOrUndefined(e.subscriptionKey,i.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key")),"string"===typeof t?(l=new c(e,t),r.marshalPromiseToCallbacks((async()=>{})(),n,a)):(l=new c(e),u=t,d=n,l.createConversationAsync((()=>{u&&u()}),(e=>{d&&d(e)}))),l}}t.Conversation=a;class c extends a{constructor(e,t){super(),this.privErrors=i.ConversationConnectionConfig.restErrors,this.onConnected=e=>{this.privIsConnected=!0;try{var t;null!==(t=this.privConversationTranslator)&&void 0!==t&&t.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,e)}catch(e){}},this.onDisconnected=e=>{try{var t;null!==(t=this.privConversationTranslator)&&void 0!==t&&t.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,e)}catch(e){}finally{this.close(!1)}},this.onCanceled=(e,t)=>{try{var n;null!==(n=this.privConversationTranslator)&&void 0!==n&&n.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,t)}catch(t){}},this.onParticipantUpdateCommandReceived=(e,t)=>{try{const e=this.privParticipants.getParticipant(t.id);if(void 0!==e){switch(t.key){case i.ConversationTranslatorCommandTypes.changeNickname:e.displayName=t.value;break;case i.ConversationTranslatorCommandTypes.setUseTTS:e.isUsingTts=t.value;break;case i.ConversationTranslatorCommandTypes.setProfanityFiltering:e.profanity=t.value;break;case i.ConversationTranslatorCommandTypes.setMute:e.isMuted=t.value;break;case i.ConversationTranslatorCommandTypes.setTranslateToLanguages:e.translateToLanguages=t.value}this.privParticipants.addOrUpdateParticipant(e),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.Updated,[this.toParticipant(e)],t.sessionId))}}catch(t){}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(e,t)=>{try{this.privParticipants.participants.forEach((e=>e.isMuted=!e.isHost&&t.isMuted)),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.Updated,this.toParticipants(!1),t.sessionId))}catch(t){}},this.onParticipantJoinCommandReceived=(e,t)=>{try{const e=this.privParticipants.addOrUpdateParticipant(t.participant);void 0!==e&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.JoinedConversation,[this.toParticipant(e)],t.sessionId))}catch(t){}},this.onParticipantLeaveCommandReceived=(e,t)=>{try{const e=this.privParticipants.getParticipant(t.participant.id);void 0!==e&&(this.privParticipants.deleteParticipant(t.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.LeftConversation,[this.toParticipant(e)],t.sessionId)))}catch(t){}},this.onTranslationReceived=(e,t)=>{try{switch(t.command){case i.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case i.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case i.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId))}}catch(t){}},this.onParticipantsListReceived=(e,t)=>{try{if(void 0!==t.sessionToken&&null!==t.sessionToken&&(this.privRoom.token=t.sessionToken),this.privParticipants.participants=[...t.participants],void 0!==this.privParticipants.me&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),t.sessionId)),this.me.isHost){var n;const e=null===(n=this.privConversationTranslator)||void 0===n?void 0:n.properties.getProperty(s.PropertyId.ConversationTranslator_Name);void 0!==e&&e.length>0&&e!==this.me.displayName&&this.changeNicknameAsync(e)}}catch(t){}},this.onConversationExpiration=(e,t)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,t)}catch(t){}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new s.PropertyCollection,this.privManager=new i.ConversationManager;if(e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage])||e.setProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage],i.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),t)this.privConversationId=t;else{0===e.targetLanguages.length&&e.addTargetLanguage(this.privLanguage);e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceResponse_ProfanityOption])||e.setProfanity(s.ProfanityOption.Masked);let t=e.getProperty(s.PropertyId[s.PropertyId.ConversationTranslator_Name]);void 0!==t&&null!==t||(t="Host"),o.Contracts.throwIfNullOrTooLong(t,"nickname",50),o.Contracts.throwIfNullOrTooShort(t,"nickname",2),e.setProperty(s.PropertyId[s.PropertyId.ConversationTranslator_Name],t)}this.privConfig=e;const n=e;o.Contracts.throwIfNull(n,"speechConfig"),this.privProperties=n.properties.clone(),this.privIsConnected=!1,this.privParticipants=new i.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get conversationId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var e,t;return(null===(e=this.privParticipants.me)||void 0===e||!e.isHost)&&(null===(t=this.privParticipants.me)||void 0===t?void 0:t.isMuted)}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get conversationInfo(){const e=this.conversationId,t=this.participants.map((e=>({id:e.id,preferredLanguage:e.preferredLanguage,voice:e.voice}))),n={};for(const r of i.ConversationConnectionConfig.transcriptionEventKeys){const e=this.properties.getProperty(r,"");""!==e&&(n[r]=e)}return{id:e,participants:t,conversationProperties:n}}get canSend(){var e;return this.privIsConnected&&!(null!==(e=this.privParticipants.me)&&void 0!==e&&e.isMuted)}get canSendAsHost(){var e;return this.privIsConnected&&(null===(e=this.privParticipants.me)||void 0===e?void 0:e.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),this.privToken=e}set conversationTranslator(e){this.privConversationTranslator=e}onToken(e){this.privConversationTranslator.onToken(e)}createConversationAsync(e,t){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),this.privManager.createOrJoin(this.privProperties,void 0,(n=>{n||this.handleError(new Error(this.privErrors.permissionDeniedConnect),t),this.privRoom=n,this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}startConversationAsync(e,t){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=i.ConversationRecognizerFactory.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}addParticipantAsync(e,t,n){o.Contracts.throwIfNullOrUndefined(e,"Participant"),r.marshalPromiseToCallbacks(this.addParticipantImplAsync(e),t,n)}joinConversationAsync(e,t,n,i,r){try{o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","conversationId")),o.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),o.Contracts.throwIfNullOrWhitespace(n,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,e,(e=>{o.Contracts.throwIfNullOrUndefined(e,this.privErrors.permissionDeniedConnect),this.privRoom=e,this.privConfig.authorizationToken=e.cognitiveSpeechAuthToken,i&&i(e.cognitiveSpeechAuthToken)}),(e=>{this.handleError(e,r)}))}catch(s){this.handleError(s,r)}}deleteConversationAsync(e,t){r.marshalPromiseToCallbacks(this.deleteConversationImplAsync(),e,t)}async deleteConversationImplAsync(){o.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),o.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endConversationAsync(e,t){r.marshalPromiseToCallbacks(this.endConversationImplAsync(),e,t)}endConversationImplAsync(){return this.close(!0)}lockConversationAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}muteAllParticipantsAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}muteParticipantAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),n);-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!0),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}removeParticipantAsync(e,t,n){try{if(o.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&e.hasOwnProperty("id"))r.marshalPromiseToCallbacks(this.removeParticipantImplAsync(e),t,n);else{o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),n);let i="";if("string"===typeof e)i=e;else if(e.hasOwnProperty("id")){i=e.id}else if(e.hasOwnProperty("userId")){i=e.userId}o.Contracts.throwIfNullOrWhitespace(i,this.privErrors.invalidArgs.replace("{arg}","userId"));-1===this.participants.findIndex((e=>e.id===i))&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(i),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}}catch(i){this.handleError(i,n)}}unlockConversationAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}unmuteAllParticipantsAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}unmuteParticipantAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),n);-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!1),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}sendTextMessageAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","message")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),e.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(e),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}setTranslatedLanguagesAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfArrayEmptyOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","languages")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(e),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}changeNicknameAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","nickname")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(e),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(e){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await e.enforceAudioGating(),this.privTranscriberRecognizer=e,this.privTranscriberRecognizer.conversation=this}getKeepAlive(){const e=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:e,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(e){if(void 0!==this.privParticipants.addOrUpdateParticipant(e)&&this.privTranscriberRecognizer){const t=this.conversationInfo;return t.participants=[e],this.privTranscriberRecognizer.pushConversationEvent(t,"join")}}removeParticipantImplAsync(e){this.privParticipants.deleteParticipant(e.id);const t=this.conversationInfo;return t.participants=[e],this.privTranscriberRecognizer.pushConversationEvent(t,"leave")}async close(e){try{var t;this.privIsConnected=!1,await(null===(t=this.privConversationRecognizer)||void 0===t?void 0:t.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(n){throw n}e&&this.dispose()}handleCallback(e,t){if(e){try{e()}catch(n){t&&t(n)}e=void 0}}handleError(e,t){if(t)if(e instanceof Error){const n=e;t(n.name+": "+n.message)}else t(e)}toParticipants(e){const t=this.privParticipants.participants.map((e=>this.toParticipant(e)));return e?t:t.filter((e=>!1===e.isHost))}toParticipant(e){return new s.Participant(e.id,e.avatar,e.displayName,e.isHost,e.isMuted,e.isUsingTts,e.preferredLanguage,e.voice)}getMuteAllCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:e})}getMuteCommand(e,t){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.setMute,participantId:e,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:t})}getLockCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:e})}getEjectCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.ejectParticipant,participantId:e,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:e})}getChangeNicknameCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(e,"nickname"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.changeNickname,nickname:e,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:e})}getMessageCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),o.Contracts.throwIfNullOrWhitespace(e,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:e,type:i.ConversationTranslatorMessageTypes.instantMessage})}}t.ConversationImpl=c},796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationCommon=void 0;t.ConversationCommon=class{constructor(e){this.privAudioConfig=e}handleCallback(e,t){if(e){try{e()}catch(n){t&&t(n)}e=void 0}}handleError(e,t){if(t)if(e instanceof Error){const n=e;t(n.name+": "+n.message)}else t(e)}}},1115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationExpirationEventArgs=void 0;const i=n(8040);class r extends i.SessionEventArgs{constructor(e,t){super(t),this.privExpirationTime=e}get expirationTime(){return this.privExpirationTime}}t.ConversationExpirationEventArgs=r},4314:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationParticipantsChangedEventArgs=void 0;const i=n(8040);class r extends i.SessionEventArgs{constructor(e,t,n){super(n),this.privReason=e,this.privParticipant=t}get reason(){return this.privReason}get participants(){return this.privParticipant}}t.ConversationParticipantsChangedEventArgs=r},5482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriber=void 0;const i=n(9859),r=n(2307),o=n(260),s=n(8040);class a extends s.Recognizer{constructor(e,t){const n=e;o.Contracts.throwIfNull(n,"speechConfig"),o.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),super(t,n.properties,new i.ConversationTranscriberConnectionFactory),this.privProperties.setProperty(s.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privDisposedRecognizer=!1}static FromConfig(e,t,n){const i=e;t.properties.mergeTo(i.properties);return new a(e,n)}get endpointId(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.OutputFormatPropertyName,s.OutputFormat[s.OutputFormat.Simple])===s.OutputFormat[s.OutputFormat.Simple]?s.OutputFormat.Simple:s.OutputFormat.Detailed}get properties(){return this.privProperties}startTranscribingAsync(e,t){r.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(i.RecognitionMode.Conversation),e,t)}stopTranscribingAsync(e,t){r.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}close(e,t){o.Contracts.throwIfDisposed(this.privDisposedRecognizer),r.marshalPromiseToCallbacks(this.dispose(!0),e,t)}async dispose(e){this.privDisposedRecognizer||(e&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(e))}createRecognizerConfig(e){return new i.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,n,r){const o=n;return r.isSpeakerDiarizationEnabled=!0,new i.ConversationTranscriptionServiceRecognizer(e,t,o,r,this)}}t.ConversationTranscriber=a},3496:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriptionResult=void 0;const i=n(8040);class r extends i.RecognitionResult{constructor(e,t,n,i,r,o,s,a,c,l,u){super(e,t,n,i,r,o,s,c,l,u),this.privSpeakerId=a}get speakerId(){return this.privSpeakerId}}t.ConversationTranscriptionResult=r},8400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationCanceledEventArgs=void 0;const i=n(8706);class r extends i.CancellationEventArgsBase{}t.ConversationTranslationCanceledEventArgs=r},2033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationEventArgs=void 0;const i=n(8040);class r extends i.RecognitionEventArgs{constructor(e,t,n){super(t,n),this.privResult=e}get result(){return this.privResult}}t.ConversationTranslationEventArgs=r},4383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationResult=void 0;const i=n(2936);class r extends i.TranslationRecognitionResult{constructor(e,t,n,i,r,o,s,a,c,l,u){super(t,i,r,o,s,a,void 0,void 0,c,l,u),this.privId=e,this.privOrigLang=n}get participantId(){return this.privId}get originalLang(){return this.privOrigLang}}t.ConversationTranslationResult=r},2663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslator=t.SpeechState=void 0;const i=n(9859),r=n(5934),o=n(2307),s=n(260),a=n(8040),c=n(2465),l=n(5463);var u;!function(e){e[e.Inactive=0]="Inactive",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected"}(u=t.SpeechState||(t.SpeechState={}));class d extends a.TranslationRecognizer{constructor(e,t,n,i){super(e,t,new r.ConversationTranslatorConnectionFactory(i)),this.privSpeechState=u.Inactive,n&&(this.privTranslator=n,this.sessionStarted=()=>{this.privSpeechState=u.Connected},this.sessionStopped=()=>{this.privSpeechState=u.Inactive},this.recognizing=(e,t)=>{this.privTranslator.recognizing&&this.privTranslator.recognizing(this.privTranslator,t)},this.recognized=async(e,t)=>{var n;null!==(n=t.result)&&void 0!==n&&n.errorDetails?(await this.cancelSpeech(),this.fireCancelEvent(t.result.errorDetails)):this.privTranslator.recognized&&this.privTranslator.recognized(this.privTranslator,t)},this.canceled=async()=>{if(this.privSpeechState!==u.Inactive)try{await this.cancelSpeech()}catch(e){this.privSpeechState=u.Inactive}})}get state(){return this.privSpeechState}set state(e){this.privSpeechState=e}set authentication(e){this.privReco.authentication=e}onConnection(){this.privSpeechState=u.Connected}async onCancelSpeech(){this.privSpeechState=u.Inactive,await this.cancelSpeech()}fireCancelEvent(e){try{if(this.privTranslator.canceled){const t=new l.ConversationTranslationCanceledEventArgs(a.CancellationReason.Error,e,a.CancellationErrorCode.RuntimeError);this.privTranslator.canceled(this.privTranslator,t)}}catch(t){}}async cancelSpeech(){try{var e;this.stopContinuousRecognitionAsync(),await(null===(e=this.privReco)||void 0===e?void 0:e.disconnect()),this.privSpeechState=u.Inactive}catch(t){}}}class h extends l.ConversationCommon{constructor(e){super(e),this.privErrors=i.ConversationConnectionConfig.restErrors,this.privIsDisposed=!1,this.privIsSpeaking=!1,this.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",this.privPlaceholderRegion="westus",this.privProperties=new a.PropertyCollection}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get participants(){var e;return null===(e=this.privConversation)||void 0===e?void 0:e.participants}get canSpeak(){return!(!this.privConversation.isConnected||!this.privCTRecognizer)&&(!this.privIsSpeaking&&this.privCTRecognizer.state!==u.Connected&&this.privCTRecognizer.state!==u.Connecting&&!this.privConversation.isMutedByHost)}onToken(e){this.privCTRecognizer.authentication=e}setServiceProperty(e,t){const n=JSON.parse(this.privProperties.getProperty(i.ServicePropertiesPropertyName,"{}"));n[e]=t,this.privProperties.setProperty(i.ServicePropertiesPropertyName,JSON.stringify(n))}joinConversationAsync(e,t,n,r,o){try{if("string"===typeof e){s.Contracts.throwIfNullOrUndefined(e,this.privErrors.invalidArgs.replace("{arg}","conversation id")),s.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),o);let l=n;void 0!==l&&null!==l&&""!==l||(l=i.ConversationConnectionConfig.defaultLanguageCode),this.privSpeechTranslationConfig=a.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(a.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(l),this.privSpeechTranslationConfig.setProperty(a.PropertyId[a.PropertyId.SpeechServiceConnection_RecoLanguage],l),this.privSpeechTranslationConfig.setProperty(a.PropertyId[a.PropertyId.ConversationTranslator_Name],t);const u=[a.PropertyId.SpeechServiceConnection_Host,a.PropertyId.ConversationTranslator_Host,a.PropertyId.SpeechServiceConnection_Endpoint,a.PropertyId.SpeechServiceConnection_ProxyHostName,a.PropertyId.SpeechServiceConnection_ProxyPassword,a.PropertyId.SpeechServiceConnection_ProxyPort,a.PropertyId.SpeechServiceConnection_ProxyUserName,"ConversationTranslator_MultiChannelAudio","ConversationTranslator_Region"];for(const e of u){const t=this.privProperties.getProperty(e);if(t){const n="string"===typeof e?e:a.PropertyId[e];this.privSpeechTranslationConfig.setProperty(n,t)}}const d=JSON.parse(this.privProperties.getProperty(i.ServicePropertiesPropertyName,"{}"));for(const e of Object.keys(d))this.privSpeechTranslationConfig.setServiceProperty(e,d[e],a.ServicePropertyChannel.UriQueryParameter);this.privConversation=new c.ConversationImpl(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(e,t,l,(e=>{e||this.handleError(new Error(this.privErrors.permissionDeniedConnect),o),this.privSpeechTranslationConfig.authorizationToken=e,this.privConversation.room.isHost=!1,this.privConversation.startConversationAsync((()=>{this.handleCallback(r,o)}),(e=>{this.handleError(e,o)}))}),(e=>{this.handleError(e,o)}))}else"object"===typeof e?(s.Contracts.throwIfNullOrUndefined(e,this.privErrors.invalidArgs.replace("{arg}","conversation id")),s.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(a.PropertyId.ConversationTranslator_Name,t),this.privConversation=e,this.privConversation.conversationTranslator=this,this.privConversation.room.isHost=!0,s.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),s.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=e.config,this.handleCallback(n,r)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),r)}catch(l){this.handleError(l,"string"===typeof n?o:r)}}leaveConversationAsync(e,t){o.marshalPromiseToCallbacks((async()=>{await this.cancelSpeech(),await this.privConversation.endConversationImplAsync(),await this.privConversation.deleteConversationImplAsync(),this.dispose()})(),e,t)}sendTextMessageAsync(e,t,n){try{s.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),s.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}",e)),this.privConversation.sendTextMessageAsync(e,t,n)}catch(i){this.handleError(i,n)}}startTranscribingAsync(e,t){o.marshalPromiseToCallbacks((async()=>{try{s.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),s.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),void 0===this.privCTRecognizer&&await this.connectTranslatorRecognizer(),s.Contracts.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),t),await this.startContinuousRecognition(),this.privIsSpeaking=!0}catch(e){throw this.privIsSpeaking=!1,await this.cancelSpeech(),e}})(),e,t)}stopTranscribingAsync(e,t){o.marshalPromiseToCallbacks((async()=>{try{if(!this.privIsSpeaking)return void await this.cancelSpeech();this.privIsSpeaking=!1,await new Promise(((e,t)=>{this.privCTRecognizer.stopContinuousRecognitionAsync(e,t)}))}catch(e){await this.cancelSpeech()}})(),e,t)}isDisposed(){return this.privIsDisposed}dispose(e,t,n){o.marshalPromiseToCallbacks((async()=>{this.isDisposed&&!this.privIsSpeaking||(await this.cancelSpeech(),this.privIsDisposed=!0,this.privSpeechTranslationConfig.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,this.privConversation.dispose(),this.privConversation=void 0)})(),t,n)}async cancelSpeech(){try{var e;this.privIsSpeaking=!1,await(null===(e=this.privCTRecognizer)||void 0===e?void 0:e.onCancelSpeech()),this.privCTRecognizer=void 0}catch(t){}}async connectTranslatorRecognizer(){try{void 0===this.privAudioConfig&&(this.privAudioConfig=a.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(a.PropertyId[a.PropertyId.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(a.PropertyId[a.PropertyId.SpeechServiceConnection_Key],"");const e=()=>this.privConversation;this.privCTRecognizer=new d(this.privSpeechTranslationConfig,this.privAudioConfig,this,e)}catch(e){throw await this.cancelSpeech(),e}}startContinuousRecognition(){return new Promise(((e,t)=>{this.privCTRecognizer.startContinuousRecognitionAsync(e,t)}))}}t.ConversationTranslator=h},5463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2465);Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return i.Conversation}}),Object.defineProperty(t,"ConversationImpl",{enumerable:!0,get:function(){return i.ConversationImpl}});var r=n(796);Object.defineProperty(t,"ConversationCommon",{enumerable:!0,get:function(){return r.ConversationCommon}});var o=n(1115);Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return o.ConversationExpirationEventArgs}});var s=n(4314);Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return s.ConversationParticipantsChangedEventArgs}});var a=n(8400);Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return a.ConversationTranslationCanceledEventArgs}});var c=n(2033);Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return c.ConversationTranslationEventArgs}});var l=n(4383);Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return l.ConversationTranslationResult}});var u=n(2663);Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return u.ConversationTranslator}});var d=n(5482);Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return d.ConversationTranscriber}});var h=n(4874);Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return h.Participant}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return h.User}});var p=n(8545);Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return p.ParticipantChangedReason}});var f=n(5005);Object.defineProperty(t,"Meeting",{enumerable:!0,get:function(){return f.Meeting}}),Object.defineProperty(t,"MeetingImpl",{enumerable:!0,get:function(){return f.MeetingImpl}});var g=n(2013);Object.defineProperty(t,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return g.MeetingTranscriptionCanceledEventArgs}});var m=n(182);Object.defineProperty(t,"MeetingTranscriber",{enumerable:!0,get:function(){return m.MeetingTranscriber}});var v=n(3496);Object.defineProperty(t,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return v.ConversationTranscriptionResult}})},4874:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Participant=t.User=void 0;const i=n(8040);t.User=class{constructor(e){this.privUserId=e}get userId(){return this.privUserId}};class r{constructor(e,t,n,r,o,s,a,c){this.privId=e,this.privAvatar=t,this.privDisplayName=n,this.privIsHost=r,this.privIsMuted=o,this.privIsUsingTts=s,this.privPreferredLanguage=a,this.privVoice=c,this.privProperties=new i.PropertyCollection}get avatar(){return this.privAvatar}get displayName(){return this.privDisplayName}get id(){return this.privId}get preferredLanguage(){return this.privPreferredLanguage}get isHost(){return this.privIsHost}get isMuted(){return this.privIsMuted}get isUsingTts(){return this.privIsUsingTts}get voice(){return this.privVoice}get properties(){return this.privProperties}static From(e,t,n){return new r(e,"",e,!1,!1,!1,t,n)}}t.Participant=r},5005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingImpl=t.Meeting=void 0;const i=n(9859),r=n(2307),o=n(260),s=n(8040);class a{constructor(){}static createMeetingAsync(e,t,n,a){if(o.Contracts.throwIfNullOrUndefined(e,i.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),o.Contracts.throwIfNullOrUndefined(e.region,i.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),o.Contracts.throwIfNull(t,"meetingId"),0===t.length)throw new Error("meetingId cannot be empty");e.subscriptionKey||e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceAuthorization_Token])||o.Contracts.throwIfNullOrUndefined(e.subscriptionKey,i.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));const l=new c(e,t);return r.marshalPromiseToCallbacks((async()=>{})(),n,a),l}}t.Meeting=a;class c extends a{constructor(e,t){super(),this.privErrors=i.ConversationConnectionConfig.restErrors,this.onConnected=e=>{this.privIsConnected=!0;try{var t;null!==(t=this.privConversationTranslator)&&void 0!==t&&t.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,e)}catch(e){}},this.onDisconnected=e=>{try{var t;null!==(t=this.privConversationTranslator)&&void 0!==t&&t.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,e)}catch(e){}finally{this.close(!1)}},this.onCanceled=(e,t)=>{try{var n;null!==(n=this.privConversationTranslator)&&void 0!==n&&n.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,t)}catch(t){}},this.onParticipantUpdateCommandReceived=(e,t)=>{try{const e=this.privParticipants.getParticipant(t.id);if(void 0!==e){switch(t.key){case i.ConversationTranslatorCommandTypes.changeNickname:e.displayName=t.value;break;case i.ConversationTranslatorCommandTypes.setUseTTS:e.isUsingTts=t.value;break;case i.ConversationTranslatorCommandTypes.setProfanityFiltering:e.profanity=t.value;break;case i.ConversationTranslatorCommandTypes.setMute:e.isMuted=t.value;break;case i.ConversationTranslatorCommandTypes.setTranslateToLanguages:e.translateToLanguages=t.value}this.privParticipants.addOrUpdateParticipant(e),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.Updated,[this.toParticipant(e)],t.sessionId))}}catch(t){}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(e,t)=>{try{this.privParticipants.participants.forEach((e=>e.isMuted=!e.isHost&&t.isMuted)),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.Updated,this.toParticipants(!1),t.sessionId))}catch(t){}},this.onParticipantJoinCommandReceived=(e,t)=>{try{const e=this.privParticipants.addOrUpdateParticipant(t.participant);void 0!==e&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.JoinedConversation,[this.toParticipant(e)],t.sessionId))}catch(t){}},this.onParticipantLeaveCommandReceived=(e,t)=>{try{const e=this.privParticipants.getParticipant(t.participant.id);void 0!==e&&(this.privParticipants.deleteParticipant(t.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.LeftConversation,[this.toParticipant(e)],t.sessionId)))}catch(t){}},this.onTranslationReceived=(e,t)=>{try{switch(t.command){case i.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case i.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case i.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId))}}catch(t){}},this.onParticipantsListReceived=(e,t)=>{try{if(void 0!==t.sessionToken&&null!==t.sessionToken&&(this.privRoom.token=t.sessionToken),this.privParticipants.participants=[...t.participants],void 0!==this.privParticipants.me&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),t.sessionId)),this.me.isHost){var n;const e=null===(n=this.privConversationTranslator)||void 0===n?void 0:n.properties.getProperty(s.PropertyId.ConversationTranslator_Name);void 0!==e&&e.length>0&&e!==this.me.displayName&&this.changeNicknameAsync(e)}}catch(t){}},this.onConversationExpiration=(e,t)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,t)}catch(t){}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new s.PropertyCollection,this.privManager=new i.ConversationManager;e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage])||e.setProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage],i.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),this.privConversationId=t,this.privConfig=e;const n=e;o.Contracts.throwIfNull(n,"speechConfig"),this.privProperties=n.properties.clone(),this.privIsConnected=!1,this.privParticipants=new i.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get meetingId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var e,t;return(null===(e=this.privParticipants.me)||void 0===e||!e.isHost)&&(null===(t=this.privParticipants.me)||void 0===t?void 0:t.isMuted)}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get meetingInfo(){const e=this.meetingId,t=this.participants.map((e=>({id:e.id,preferredLanguage:e.preferredLanguage,voice:e.voice}))),n={};for(const r of i.ConversationConnectionConfig.transcriptionEventKeys){const e=this.properties.getProperty(r,"");""!==e&&(n[r]=e)}return{id:e,participants:t,meetingProperties:n}}get canSend(){var e;return this.privIsConnected&&!(null!==(e=this.privParticipants.me)&&void 0!==e&&e.isMuted)}get canSendAsHost(){var e;return this.privIsConnected&&(null===(e=this.privParticipants.me)||void 0===e?void 0:e.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),this.privToken=e}createMeetingAsync(e,t){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),this.privManager.createOrJoin(this.privProperties,void 0,(n=>{n||this.handleError(new Error(this.privErrors.permissionDeniedConnect),t),this.privRoom=n,this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}startMeetingAsync(e,t){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}addParticipantAsync(e,t,n){o.Contracts.throwIfNullOrUndefined(e,"Participant"),r.marshalPromiseToCallbacks(this.addParticipantImplAsync(e),t,n)}joinMeetingAsync(e,t,n,i,r){try{o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","conversationId")),o.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),o.Contracts.throwIfNullOrWhitespace(n,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,e,(e=>{o.Contracts.throwIfNullOrUndefined(e,this.privErrors.permissionDeniedConnect),this.privRoom=e,this.privConfig.authorizationToken=e.cognitiveSpeechAuthToken,i&&i(e.cognitiveSpeechAuthToken)}),(e=>{this.handleError(e,r)}))}catch(s){this.handleError(s,r)}}deleteMeetingAsync(e,t){r.marshalPromiseToCallbacks(this.deleteMeetingImplAsync(),e,t)}async deleteMeetingImplAsync(){o.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),o.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endMeetingAsync(e,t){r.marshalPromiseToCallbacks(this.endMeetingImplAsync(),e,t)}endMeetingImplAsync(){return this.close(!0)}lockMeetingAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}muteAllParticipantsAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}muteParticipantAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),n);-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!0),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}removeParticipantAsync(e,t,n){try{if(o.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&e.hasOwnProperty("id"))r.marshalPromiseToCallbacks(this.removeParticipantImplAsync(e),t,n);else{o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),n);let i="";if("string"===typeof e)i=e;else if(e.hasOwnProperty("id")){i=e.id}else if(e.hasOwnProperty("userId")){i=e.userId}o.Contracts.throwIfNullOrWhitespace(i,this.privErrors.invalidArgs.replace("{arg}","userId"));-1===this.participants.findIndex((e=>e.id===i))&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(i),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}}catch(i){this.handleError(i,n)}}unlockMeetingAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}unmuteAllParticipantsAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(n){this.handleError(n,t)}}unmuteParticipantAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),n);-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!1),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}sendTextMessageAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","message")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),e.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(e),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}setTranslatedLanguagesAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfArrayEmptyOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","languages")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(e),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}changeNicknameAsync(e,t,n){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","nickname")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(e),(()=>{this.handleCallback(t,n)}),(e=>{this.handleError(e,n)}))}catch(i){this.handleError(i,n)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(e){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await e.enforceAudioGating(),this.privTranscriberRecognizer=e,this.privTranscriberRecognizer.meeting=this}getKeepAlive(){const e=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:e,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(e){if(void 0!==this.privParticipants.addOrUpdateParticipant(e)&&this.privTranscriberRecognizer){const t=this.meetingInfo;return t.participants=[e],this.privTranscriberRecognizer.pushMeetingEvent(t,"join")}}removeParticipantImplAsync(e){this.privParticipants.deleteParticipant(e.id);const t=this.meetingInfo;return t.participants=[e],this.privTranscriberRecognizer.pushMeetingEvent(t,"leave")}async close(e){try{var t;this.privIsConnected=!1,await(null===(t=this.privConversationRecognizer)||void 0===t?void 0:t.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(n){throw n}e&&this.dispose()}handleCallback(e,t){if(e){try{e()}catch(n){t&&t(n)}e=void 0}}handleError(e,t){if(t)if(e instanceof Error){const n=e;t(n.name+": "+n.message)}else t(e)}toParticipants(e){const t=this.privParticipants.participants.map((e=>this.toParticipant(e)));return e?t:t.filter((e=>!1===e.isHost))}toParticipant(e){return new s.Participant(e.id,e.avatar,e.displayName,e.isHost,e.isMuted,e.isUsingTts,e.preferredLanguage,e.voice)}getMuteAllCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingd"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:e})}getMuteCommand(e,t){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.setMute,participantId:e,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:t})}getLockCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:e})}getEjectCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.ejectParticipant,participantId:e,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:e})}getChangeNicknameCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(e,"nickname"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:i.ConversationTranslatorCommandTypes.changeNickname,nickname:e,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:i.ConversationTranslatorMessageTypes.participantCommand,value:e})}getMessageCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),o.Contracts.throwIfNullOrWhitespace(e,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:e,type:i.ConversationTranslatorMessageTypes.instantMessage})}}t.MeetingImpl=c},182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingTranscriber=void 0;const i=n(9859),r=n(2307),o=n(260),s=n(8040),a=n(5463);t.MeetingTranscriber=class{constructor(e){this.privAudioConfig=e,this.privProperties=new s.PropertyCollection,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}get speechRecognitionLanguage(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get internalData(){return this.privRecognizer.internalData}get connection(){return s.Connection.fromRecognizer(this.privRecognizer)}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}joinMeetingAsync(e,t,n){const s=e;o.Contracts.throwIfNullOrUndefined(a.MeetingImpl,"Meeting"),this.privRecognizer=new i.TranscriberRecognizer(e.config,this.privAudioConfig),o.Contracts.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectMeetingCallbacks(this),r.marshalPromiseToCallbacks(s.connectTranscriberRecognizer(this.privRecognizer),t,n)}startTranscribingAsync(e,t){this.privRecognizer.startContinuousRecognitionAsync(e,t)}stopTranscribingAsync(e,t){this.privRecognizer.stopContinuousRecognitionAsync(e,t)}leaveMeetingAsync(e,t){this.privRecognizer.disconnectCallbacks(),r.marshalPromiseToCallbacks((async()=>{})(),e,t)}close(e,t){o.Contracts.throwIfDisposed(this.privDisposedRecognizer),r.marshalPromiseToCallbacks(this.dispose(!0),e,t)}async dispose(e){this.privDisposedRecognizer||(this.privRecognizer&&(await this.privRecognizer.close(),this.privRecognizer=void 0),e&&(this.privDisposedRecognizer=!0))}}},2013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingTranscriptionCanceledEventArgs=void 0;const i=n(8706);class r extends i.CancellationEventArgsBase{}t.MeetingTranscriptionCanceledEventArgs=r},8545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantChangedReason=void 0,function(e){e[e.JoinedConversation=0]="JoinedConversation",e[e.LeftConversation=1]="LeftConversation",e[e.Updated=2]="Updated"}(t.ParticipantChangedReason||(t.ParticipantChangedReason={}))},9169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionCanceledEventArgs=void 0;t.TranslationRecognitionCanceledEventArgs=class{constructor(e,t,n,i,r){this.privCancelReason=t,this.privErrorDetails=n,this.privResult=r,this.privSessionId=e,this.privErrorCode=i}get result(){return this.privResult}get sessionId(){return this.privSessionId}get reason(){return this.privCancelReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}},6452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionEventArgs=void 0;const i=n(8040);class r extends i.RecognitionEventArgs{constructor(e,t,n){super(t,n),this.privResult=e}get result(){return this.privResult}}t.TranslationRecognitionEventArgs=r},2936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionResult=void 0;const i=n(8040);class r extends i.SpeechRecognitionResult{constructor(e,t,n,i,r,o,s,a,c,l,u){super(t,n,i,r,o,s,a,void 0,c,l,u),this.privTranslations=e}static fromSpeechRecognitionResult(e){return new r(void 0,e.resultId,e.reason,e.text,e.duration,e.offset,e.language,e.languageDetectionConfidence,e.errorDetails,e.json,e.properties)}get translations(){return this.privTranslations}}t.TranslationRecognitionResult=r},2058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognizer=void 0;const i=n(9859),r=n(2307),o=n(4931),s=n(260),a=n(8040);class c extends a.Recognizer{constructor(e,t,n){const r=e;s.Contracts.throwIfNull(r,"speechConfig"),super(t,r.properties,n||new i.TranslationConnectionFactory),this.privDisposedTranslationRecognizer=!1,void 0!==this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)&&s.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationVoice),a.PropertyId[a.PropertyId.SpeechServiceConnection_TranslationVoice]),s.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages),a.PropertyId[a.PropertyId.SpeechServiceConnection_TranslationToLanguages]),s.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(a.PropertyId.SpeechServiceConnection_RecoLanguage),a.PropertyId[a.PropertyId.SpeechServiceConnection_RecoLanguage])}static FromConfig(e,t,n){const i=e;return t.properties.mergeTo(i.properties),new c(e,n)}get speechRecognitionLanguage(){return s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(a.PropertyId.SpeechServiceConnection_RecoLanguage)}get targetLanguages(){return s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}get voiceName(){return s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(a.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.properties.setProperty(a.PropertyId.SpeechServiceAuthorization_Token,e)}recognizeOnceAsync(e,t){s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),r.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(i.RecognitionMode.Interactive),e,t)}startContinuousRecognitionAsync(e,t){r.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(i.RecognitionMode.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){r.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}removeTargetLanguage(e){if(s.Contracts.throwIfNullOrUndefined(e,"language to be removed"),void 0!==this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)){const t=this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),n=t.indexOf(e);n>-1&&(t.splice(n,1),this.properties.setProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(",")),this.updateLanguages(t))}}addTargetLanguage(e){s.Contracts.throwIfNullOrUndefined(e,"language to be added");let t=[];void 0!==this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)?(t=this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),t.includes(e)||(t.push(e),this.properties.setProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(",")))):(this.properties.setProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,e),t=[e]),this.updateLanguages(t)}close(e,t){s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),r.marshalPromiseToCallbacks(this.dispose(!0),e,t)}onConnection(){}async dispose(e){this.privDisposedTranslationRecognizer||(this.privDisposedTranslationRecognizer=!0,e&&(await this.implRecognizerStop(),await super.dispose(e)))}createRecognizerConfig(e){return new i.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,n,r){const o=n;return new i.TranslationServiceRecognizer(e,t,o,r,this)}updateLanguages(e){const t=o.Connection.fromRecognizer(this);t&&(t.setMessageProperty("speech.context","translationcontext",{to:e}),t.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:e})))}}t.TranslationRecognizer=c},4823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisEventArgs=void 0;const i=n(8040);class r extends i.SessionEventArgs{constructor(e,t){super(t),this.privResult=e}get result(){return this.privResult}}t.TranslationSynthesisEventArgs=r},3213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisResult=void 0;t.TranslationSynthesisResult=class{constructor(e,t){this.privReason=e,this.privAudio=t}get audio(){return this.privAudio}get reason(){return this.privReason}}},7515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0;const i=n(8040);t.Translations=class{constructor(){this.privMap=new i.PropertyCollection}get languages(){return this.privMap.keys}get(e,t){return this.privMap.getProperty(e,t)}set(e,t){this.privMap.setProperty(e,t)}}},716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TurnStatusReceivedEventArgs=void 0;const i=n(81);t.TurnStatusReceivedEventArgs=class{constructor(e){this.privTurnStatus=i.TurnStatusResponsePayload.fromJSON(e)}get interactionId(){return this.privTurnStatus.interactionId}get conversationId(){return this.privTurnStatus.conversationId}get statusCode(){return this.privTurnStatus.statusCode}}},8833:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceInfo=t.SynthesisVoiceType=t.SynthesisVoiceGender=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Female=1]="Female",e[e.Male=2]="Male",e[e.Neutral=3]="Neutral"}(n=t.SynthesisVoiceGender||(t.SynthesisVoiceGender={})),function(e){e[e.OnlineNeural=1]="OnlineNeural",e[e.OnlineStandard=2]="OnlineStandard",e[e.OfflineNeural=3]="OfflineNeural",e[e.OfflineStandard=4]="OfflineStandard"}(i=t.SynthesisVoiceType||(t.SynthesisVoiceType={}));const r={[n[n.Neutral]]:n.Neutral,[n[n.Male]]:n.Male,[n[n.Female]]:n.Female};t.VoiceInfo=class{constructor(e){if(this.privStyleList=[],e){if(this.privName=e.Name,this.privLocale=e.Locale,this.privShortName=e.ShortName,this.privLocaleName=e.LocaleName,this.privDisplayName=e.DisplayName,this.privLocalName=e.LocalName,this.privVoiceType=e.VoiceType.endsWith("Standard")?i.OnlineStandard:i.OnlineNeural,this.privGender=r[e.Gender]||n.Unknown,e.StyleList&&Array.isArray(e.StyleList))for(const t of e.StyleList)this.privStyleList.push(t);this.privSampleRateHertz=e.SampleRateHertz,this.privStatus=e.Status,e.ExtendedPropertyMap&&(this.privExtendedPropertyMap=e.ExtendedPropertyMap),this.privWordsPerMinute=e.WordsPerMinute,Array.isArray(e.SecondaryLocaleList)&&(this.privSecondaryLocaleList=[...e.SecondaryLocaleList]),Array.isArray(e.RolePlayList)&&(this.privRolePlayList=[...e.RolePlayList])}}get name(){return this.privName}get locale(){return this.privLocale}get shortName(){return this.privShortName}get displayName(){return this.privDisplayName}get localName(){return this.privLocalName}get localeName(){return this.privLocaleName}get gender(){return this.privGender}get voiceType(){return this.privVoiceType}get styleList(){return this.privStyleList}get sampleRateHertz(){return this.privSampleRateHertz}get status(){return this.privStatus}get extendedPropertyMap(){return this.privExtendedPropertyMap}get wordsPerMinute(){return this.privWordsPerMinute}get secondaryLocaleList(){return this.privSecondaryLocaleList}get rolePlayList(){return this.privRolePlayList}}},4384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfile=void 0;t.VoiceProfile=class{constructor(e,t){this.privId=e,this.privProfileType=t}get profileId(){return this.privId}get profileType(){return this.privProfileType}}},8163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileClient=void 0;const i=n(9859),r=n(6782),o=n(260),s=n(8040);class a extends s.Recognizer{constructor(e){o.Contracts.throwIfNullOrUndefined(e,"speechConfig");const t=e;o.Contracts.throwIfNull(t,"speechConfig"),super(r.AudioConfig.fromStreamInput(s.AudioInputStream.createPushStream()),t.properties,new i.VoiceProfileConnectionFactory),this.privProperties=t.properties.clone(),this.privVoiceAdapter=this.privReco,this.privDisposedVoiceAdapter=!1}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}async createProfileAsync(e,t){const n=await this.privVoiceAdapter.createProfile(e,t);return new s.VoiceProfile(n[0],e)}async retrieveEnrollmentResultAsync(e){return this.privVoiceAdapter.retrieveEnrollmentResult(e)}async getAllProfilesAsync(e){return this.privVoiceAdapter.getAllProfiles(e)}async getActivationPhrasesAsync(e,t){return this.privVoiceAdapter.getActivationPhrases(e,t)}async enrollProfileAsync(e,t){const n=t;return o.Contracts.throwIfNullOrUndefined(n,"audioConfig"),this.audioConfig=t,this.privVoiceAdapter.SpeakerAudioSource=n,this.privVoiceAdapter.enrollProfile(e)}async deleteProfileAsync(e){return this.privVoiceAdapter.deleteProfile(e)}async resetProfileAsync(e){return this.privVoiceAdapter.resetProfile(e)}async close(){await this.dispose(!0)}createServiceRecognizer(e,t,n,r){const o=n;return new i.VoiceServiceRecognizer(e,t,o,r,this)}async dispose(e){this.privDisposedVoiceAdapter||(this.privDisposedVoiceAdapter=!0,e&&await super.dispose(e))}createRecognizerConfig(e){return new i.RecognizerConfig(e,this.properties)}getResult(e,t){return new s.VoiceProfileResult(e.ok?t:s.ResultReason.Canceled,e.statusText)}}t.VoiceProfileClient=a},6917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileEnrollmentCancellationDetails=t.VoiceProfileEnrollmentResult=void 0;const i=n(9859),r=n(8040);class o{constructor(e,t,n){this.privReason=e,this.privProperties=new r.PropertyCollection,this.privReason!==r.ResultReason.Canceled?t&&(this.privDetails=JSON.parse(t),"enrolling"===this.privDetails.enrollmentStatus.toLowerCase()&&(this.privReason=r.ResultReason.EnrollingVoiceProfile)):(this.privErrorDetails=n,this.privProperties.setProperty(i.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get enrollmentsCount(){return this.privDetails.enrollmentsCount}get enrollmentsLength(){return this.privDetails.enrollmentsLength}get properties(){return this.privProperties}get enrollmentResultDetails(){return this.privDetails}get errorDetails(){return this.privErrorDetails}static FromIdentificationProfileList(e){const t=[];for(const n of e.value){const e="enrolling"===n.enrollmentStatus.toLowerCase()?r.ResultReason.EnrollingVoiceProfile:"enrolled"===n.enrollmentStatus.toLowerCase()?r.ResultReason.EnrolledVoiceProfile:r.ResultReason.Canceled,i=new o(e,null,null);i.privDetails=this.getIdentificationDetails(n),t.push(i)}return t}static FromVerificationProfileList(e){const t=[];for(const n of e.value){const e="enrolling"===n.enrollmentStatus.toLowerCase()?r.ResultReason.EnrollingVoiceProfile:"enrolled"===n.enrollmentStatus.toLowerCase()?r.ResultReason.EnrolledVoiceProfile:r.ResultReason.Canceled,i=new o(e,null,null);i.privDetails=this.getVerificationDetails(n),t.push(i)}return t}static getIdentificationDetails(e){return{audioLength:e.audioLength?parseFloat(e.audioLength):0,audioSpeechLength:e.audioSpeechLength?parseFloat(e.audioSpeechLength):0,enrollmentStatus:e.enrollmentStatus,enrollmentsCount:e.enrollmentsCount||0,enrollmentsLength:e.enrollmentsLength?parseFloat(e.enrollmentsLength):0,enrollmentsSpeechLength:e.enrollmentsSpeechLength?parseFloat(e.enrollmentsSpeechLength):0,profileId:e.profileId||e.identificationProfileId,remainingEnrollmentsSpeechLength:e.remainingEnrollmentsSpeechLength?parseFloat(e.remainingEnrollmentsSpeechLength):0}}static getVerificationDetails(e){return{audioLength:e.audioLength?parseFloat(e.audioLength):0,audioSpeechLength:e.audioSpeechLength?parseFloat(e.audioSpeechLength):0,enrollmentStatus:e.enrollmentStatus,enrollmentsCount:e.enrollmentsCount,enrollmentsLength:e.enrollmentsLength?parseFloat(e.enrollmentsLength):0,enrollmentsSpeechLength:e.enrollmentsSpeechLength?parseFloat(e.enrollmentsSpeechLength):0,profileId:e.profileId||e.verificationProfileId,remainingEnrollmentsCount:e.remainingEnrollments||e.remainingEnrollmentsCount,remainingEnrollmentsSpeechLength:e.remainingEnrollmentsSpeechLength?parseFloat(e.remainingEnrollmentsSpeechLength):0}}}t.VoiceProfileEnrollmentResult=o;class s extends r.CancellationDetailsBase{constructor(e,t,n){super(e,t,n)}static fromResult(e){const t=r.CancellationReason.Error;let n=r.CancellationErrorCode.NoError;return e.properties&&(n=r.CancellationErrorCode[e.properties.getProperty(i.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new s(t,e.errorDetails,n)}}t.VoiceProfileEnrollmentCancellationDetails=s},7268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfilePhraseResult=void 0;const i=n(260),r=n(8040);class o extends r.VoiceProfileResult{constructor(e,t,n,r){super(e,t),this.privPhrases=[],i.Contracts.throwIfNullOrUndefined(r,"phrase array"),this.privType=n,r&&r[0]&&(this.privPhrases=r)}get phrases(){return this.privPhrases}get type(){return this.privType}}t.VoiceProfilePhraseResult=o},9941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileCancellationDetails=t.VoiceProfileResult=void 0;const i=n(9859),r=n(260),o=n(8040);t.VoiceProfileResult=class{constructor(e,t){this.privReason=e,this.privProperties=new o.PropertyCollection,e===o.ResultReason.Canceled&&(r.Contracts.throwIfNullOrUndefined(t,"statusText"),this.privErrorDetails=t,this.privProperties.setProperty(i.CancellationErrorCodePropertyName,o.CancellationErrorCode[o.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get properties(){return this.privProperties}get errorDetails(){return this.privErrorDetails}};class s extends o.CancellationDetailsBase{constructor(e,t,n){super(e,t,n)}static fromResult(e){const t=o.CancellationReason.Error;let n=o.CancellationErrorCode.NoError;return e.properties&&(n=o.CancellationErrorCode[e.properties.getProperty(i.CancellationErrorCodePropertyName,o.CancellationErrorCode[o.CancellationErrorCode.NoError])]),new s(t,e.errorDetails,n)}}t.VoiceProfileCancellationDetails=s},8472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileType=void 0,function(e){e[e.TextIndependentIdentification=0]="TextIndependentIdentification",e[e.TextDependentVerification=1]="TextDependentVerification",e[e.TextIndependentVerification=2]="TextIndependentVerification"}(t.VoiceProfileType||(t.VoiceProfileType={}))},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,i,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function S(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,z=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var q=!1;function B(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var i=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){i=l}e.call(t.prototype)}else{try{throw Error()}catch(l){i=l}e()}}catch(l){if(l&&i&&"string"===typeof l.stack){for(var r=l.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var c="\n"+r[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function j(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case I:return"Profiler";case P:return"StrictMode";case R:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=W(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&S(e,"checked",t,!1)}function X(e,t){$(e,t);var n=H(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),i=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Pe=null;function Ie(e){if(e=Sr(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=br(t),we(e.stateNode,e.type,t))}}function Ae(e){Ee?Pe?Pe.push(e):Pe=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Pe;if(Pe=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function ke(e,t){return e(t)}function Re(){}var _e=!1;function De(e,t,n){if(_e)return e(t,n);_e=!0;try{return ke(e,t,n)}finally{_e=!1,(null!==Ee||null!==Pe)&&(Re(),Te())}}function xe(e,t){var n=e.stateNode;if(null===n)return null;var i=br(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Me=!1}function Ne(e,t,n,i,r,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Le=!1,ze=null,Fe=!1,qe=null,Be={onError:function(e){Le=!0,ze=e}};function je(e,t,n,i,r,o,s,a,c){Le=!1,ze=null,Ne.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return He(r),e;if(s===i)return He(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=s;break}if(c===i){a=!0,i=r,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,i=r;break}if(c===i){a=!0,i=s,n=r;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Qe=r.unstable_cancelCallback,Je=r.unstable_shouldYield,Ye=r.unstable_requestPaint,$e=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=dt(a):0!==(o&=s)&&(i=dt(o))}else 0!==(s=n&~r)?i=dt(s):0!==o&&(i=dt(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-st(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var St=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,Pt,It,At=!1,Tt=[],kt=null,Rt=null,_t=null,Dt=new Map,xt=new Map,Mt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Lt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=Sr(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function zt(e){var t=yr(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Sr(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Ce=i,n.target.dispatchEvent(i),Ce=null,t.shift()}return!0}function qt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){At=!1,null!==kt&&Ft(kt)&&(kt=null),null!==Rt&&Ft(Rt)&&(Rt=null),null!==_t&&Ft(_t)&&(_t=null),Dt.forEach(qt),xt.forEach(qt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return jt(t,e)}if(0<Tt.length){jt(Tt[0],e);for(var n=1;n<Tt.length;n++){var i=Tt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==kt&&jt(kt,e),null!==Rt&&jt(Rt,e),null!==_t&&jt(_t,e),Dt.forEach(t),xt.forEach(t),n=0;n<Mt.length;n++)(i=Mt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)zt(n),null===n.blockedOn&&Mt.shift()}var Vt=C.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,i){var r=St,o=Vt.transition;Vt.transition=null;try{St=1,Kt(e,t,n,i)}finally{St=r,Vt.transition=o}}function Gt(e,t,n,i){var r=St,o=Vt.transition;Vt.transition=null;try{St=4,Kt(e,t,n,i)}finally{St=r,Vt.transition=o}}function Kt(e,t,n,i){if(Ht){var r=Jt(e,t,n,i);if(null===r)Hi(e,t,i,Qt,n),Nt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return kt=Lt(kt,e,t,n,i,r),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,i,r),!0;case"mouseover":return _t=Lt(_t,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Dt.set(o,Lt(Dt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,xt.set(o,Lt(xt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Nt(e,i),4&t&&-1<Ot.indexOf(e)){for(;null!==r;){var o=Sr(r);if(null!==o&&bt(o),null===(o=Jt(e,t,n,i))&&Hi(e,t,i,Qt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Hi(e,t,i,null,n)}}var Qt=null;function Jt(e,t,n,i){if(Qt=null,null!==(e=yr(e=be(i))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,i=n.length,r="value"in $t?$t.value:$t.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=z({},ln,{view:0,detail:0}),hn=on(dn),pn=z({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),gn=on(z({},pn,{dataTransfer:0})),mn=on(z({},dn,{relatedTarget:0})),vn=on(z({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=on(yn),Cn=on(z({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return Pn}var An=z({},dn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(An),kn=on(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(z({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),_n=on(z({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=on(Dn),Mn=[9,13,27,32],On=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Nn,zn=u&&(!On||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,i){Ae(i),0<(t=Gi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fi(e,0)}function Jn(e){if(K(Cr(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zn="function"===typeof ei.oninput}Xn=Zn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function ti(){Gn&&(Gn.detachEvent("onpropertychange",ni),Kn=Gn=null)}function ni(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Wn(t,Kn,e,be(e)),De(Qn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Kn=n,(Gn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function oi(e,t){if("click"===e)return Jn(t)}function si(e,t){if("input"===e||"change"===e)return Jn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ci(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!ai(e[r],t[r]))return!1}return!0}function li(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=li(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=li(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var s=ui(n,i);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,Si=!1;function Ci(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Si||null==mi||mi!==Q(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&ci(yi,i)||(yi=i,0<(i=Gi(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Ei={},Pi={};function Ii(e){if(Ei[e])return Ei[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pi)return Ei[e]=n[t];return e}u&&(Pi=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ai=Ii("animationend"),Ti=Ii("animationiteration"),ki=Ii("animationstart"),Ri=Ii("transitionend"),_i=new Map,Di="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(e,t){_i.set(e,t),c(t,[e])}for(var Mi=0;Mi<Di.length;Mi++){var Oi=Di[Mi];xi(Oi.toLowerCase(),"on"+(Oi[0].toUpperCase()+Oi.slice(1)))}xi(Ai,"onAnimationEnd"),xi(Ti,"onAnimationIteration"),xi(ki,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Ri,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function zi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,s,a,c,l){if(je.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=ze;Le=!1,ze=null,Fe||(Fe=!0,qe=u)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&r.isPropagationStopped())break e;zi(r,a,l),o=c}else for(s=0;s<i.length;s++){if(c=(a=i[s]).instance,l=a.currentTarget,a=a.listener,c!==o&&r.isPropagationStopped())break e;zi(r,a,l),o=c}}}if(Fe)throw e=qe,Fe=!1,qe=null,e}function qi(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(Vi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Vi(n,e,i,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[ji]){e[ji]=!0,s.forEach((function(t){"selectionchange"!==t&&(Li.has(t)||Bi(t,!1,e),Bi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ji]||(t[ji]=!0,Bi("selectionchange",!1,t))}}function Vi(e,t,n,i){switch(Yt(t)){case 1:var r=Wt;break;case 4:r=Gt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===r||8===c.nodeType&&c.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=yr(a)))return;if(5===(c=s.tag)||6===c){i=o=s;continue e}a=a.parentNode}}i=i.return}De((function(){var i=o,r=be(n),s=[];e:{var a=_i.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Tn;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Rn;break;case Ai:case Ti:case ki:c=vn;break;case Ri:c=_n;break;case"scroll":c=hn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=kn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=xe(f,h))&&u.push(Wi(f,g,p)))),d)break;f=f.return}0<u.length&&(a=new c(a,l,null,n,r),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ce||!(l=n.relatedTarget||n.fromElement)||!yr(l)&&!l[fr])&&(c||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=i,null!==(l=(l=n.relatedTarget||n.toElement)?yr(l):null)&&(l!==(d=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=i),c!==l)){if(u=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=kn,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?a:Cr(c),p=null==l?a:Cr(l),(a=new u(g,f+"leave",c,n,r)).target=d,a.relatedTarget=p,g=null,yr(r)===i&&((u=new u(h,f+"enter",l,n,r)).target=p,u.relatedTarget=d,g=u),d=g,c&&l)e:{for(h=l,f=0,p=u=c;p;p=Ki(p))f++;for(p=0,g=h;g;g=Ki(g))p++;for(;0<f-p;)u=Ki(u),f--;for(;0<p-f;)h=Ki(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Ki(u),h=Ki(h)}u=null}else u=null;null!==c&&Qi(s,a,c,u,!1),null!==l&&null!==d&&Qi(s,d,l,u,!0)}if("select"===(c=(a=i?Cr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var m=Yn;else if(Hn(a))if($n)m=si;else{m=ri;var v=ii}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=oi);switch(m&&(m=m(e,i))?Wn(s,m,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?Cr(i):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":Si=!0;break;case"contextmenu":case"mouseup":case"dragend":Si=!1,Ci(s,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":Ci(s,n,r)}var y;if(On)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Un?Bn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==S?"onCompositionEnd"===S&&Un&&(y=en()):(Xt="value"in($t=r)?$t.value:$t.textContent,Un=!0)),0<(v=Gi(i,S)).length&&(S=new Cn(S,e,null,n,r),s.push({event:S,listeners:v}),y?S.data=y:null!==(y=jn(n))&&(S.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(qn=!0,Fn);case"textInput":return(e=t.data)===Fn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Xt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(r=new Cn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=y))}Fi(s,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=xe(e,n))&&i.unshift(Wi(e,o,r)),null!=(o=xe(e,t))&&i.push(Wi(e,o,r))),e=e.return}return i}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qi(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===i)break;5===a.tag&&null!==l&&(a=l,r?null!=(c=xe(n,o))&&s.unshift(Wi(n,c,a)):r||null!=(c=xe(n,o))&&s.push(Wi(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ji=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function $i(e){return("string"===typeof e?e:""+e).replace(Ji,"\n").replace(Yi,"")}function Xi(e,t,n){if(t=$i(t),$i(e)!==t&&n)throw Error(o(425))}function Zi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(ar)}:ir;function ar(e){setTimeout((function(){throw e}))}function cr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Ut(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ut(t)}function lr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,fr="__reactContainer$"+dr,gr="__reactEvents$"+dr,mr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function yr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function Sr(e){return!(e=e[hr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Cr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function br(e){return e[pr]||null}var wr=[],Er=-1;function Pr(e){return{current:e}}function Ir(e){0>Er||(e.current=wr[Er],wr[Er]=null,Er--)}function Ar(e,t){Er++,wr[Er]=e.current,e.current=t}var Tr={},kr=Pr(Tr),Rr=Pr(!1),_r=Tr;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mr(){Ir(Rr),Ir(kr)}function Or(e,t,n){if(kr.current!==Tr)throw Error(o(168));Ar(kr,t),Ar(Rr,n)}function Nr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,V(e)||"Unknown",r));return z({},n,i)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,_r=kr.current,Ar(kr,e),Ar(Rr,Rr.current),!0}function zr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Nr(e,t,_r),i.__reactInternalMemoizedMergedChildContext=e,Ir(Rr),Ir(kr),Ar(kr,e)):Ir(Rr),Ar(Rr,n)}var Fr=null,qr=!1,Br=!1;function jr(e){null===Fr?Fr=[e]:Fr.push(e)}function Ur(){if(!Br&&null!==Fr){Br=!0;var e=0,t=St;try{var n=Fr;for(St=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Fr=null,qr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Ke(Ze,Ur),r}finally{St=t,Br=!1}}return null}var Vr=[],Hr=0,Wr=null,Gr=0,Kr=[],Qr=0,Jr=null,Yr=1,$r="";function Xr(e,t){Vr[Hr++]=Gr,Vr[Hr++]=Wr,Wr=e,Gr=t}function Zr(e,t,n){Kr[Qr++]=Yr,Kr[Qr++]=$r,Kr[Qr++]=Jr,Jr=e;var i=Yr;e=$r;var r=32-st(i)-1;i&=~(1<<r),n+=1;var o=32-st(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Yr=1<<32-st(t)+r|n<<r|i,$r=o+e}else Yr=1<<o|n<<r|i,$r=e}function eo(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function to(e){for(;e===Wr;)Wr=Vr[--Hr],Vr[Hr]=null,Gr=Vr[--Hr],Vr[Hr]=null;for(;e===Jr;)Jr=Kr[--Qr],Kr[Qr]=null,$r=Kr[--Qr],Kr[Qr]=null,Yr=Kr[--Qr],Kr[Qr]=null}var no=null,io=null,ro=!1,oo=null;function so(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=lr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jr?{id:Yr,overflow:$r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(ro){var t=io;if(t){var n=t;if(!ao(e,t)){if(co(e))throw Error(o(418));t=lr(n.nextSibling);var i=no;t&&ao(e,t)?so(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(co(e))throw po(),Error(o(418));for(;t;)so(e,t),t=lr(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=lr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?lr(e.stateNode.nextSibling):null;return!0}function po(){for(var e=io;e;)e=lr(e.nextSibling)}function fo(){io=no=null,ro=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=C.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function So(e){return(0,e._init)(e._payload)}function Co(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,i){return null===t||6!==t.tag?((t=zl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){var o=n.type;return o===E?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===x&&So(o)===t.type)?((i=r(t,n.props)).ref=vo(e,t,n),i.return=e,i):((i=Ol(n.type,n.key,n.props,null,e.mode,i)).ref=vo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Nl(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case w:return(t=Fl(t,e.mode,n)).return=e,t;case x:return h(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nl(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:c(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?l(e,t,n,i):null;case w:return n.key===r?u(e,t,n,i):null;case x:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||N(n))return null!==r?null:d(e,t,n,i,null);yo(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return c(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case b:return l(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||N(i))return d(t,e=e.get(n)||null,i,r,null);yo(t,i)}return null}function g(r,o,a,c){for(var l=null,u=null,d=o,g=o=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(r,d,a[g],c);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(r,d),o=s(v,o,g),null===u?l=v:u.sibling=v,u=v,d=m}if(g===a.length)return n(r,d),ro&&Xr(r,g),l;if(null===d){for(;g<a.length;g++)null!==(d=h(r,a[g],c))&&(o=s(d,o,g),null===u?l=d:u.sibling=d,u=d);return ro&&Xr(r,g),l}for(d=i(r,d);g<a.length;g++)null!==(m=f(d,r,g,a[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(r,e)})),ro&&Xr(r,g),l}function m(r,a,c,l){var u=N(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,g=a,m=a=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var S=p(r,g,y.value,l);if(null===S){null===g&&(g=v);break}e&&g&&null===S.alternate&&t(r,g),a=s(S,a,m),null===d?u=S:d.sibling=S,d=S,g=v}if(y.done)return n(r,g),ro&&Xr(r,m),u;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=h(r,y.value,l))&&(a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return ro&&Xr(r,m),u}for(g=i(r,g);!y.done;m++,y=c.next())null!==(y=f(g,r,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(r,e)})),ro&&Xr(r,m),u}return function e(i,o,s,c){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var l=s.key,u=o;null!==u;){if(u.key===l){if((l=s.type)===E){if(7===u.tag){n(i,u.sibling),(o=r(u,s.props.children)).return=i,i=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===x&&So(l)===u.type){n(i,u.sibling),(o=r(u,s.props)).ref=vo(i,u,s),o.return=i,i=o;break e}n(i,u);break}t(i,u),u=u.sibling}s.type===E?((o=Nl(s.props.children,i.mode,c,s.key)).return=i,i=o):((c=Ol(s.type,s.key,s.props,null,i.mode,c)).ref=vo(i,o,s),c.return=i,i=c)}return a(i);case w:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(i,o.sibling),(o=r(o,s.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Fl(s,i.mode,c)).return=i,i=o}return a(i);case x:return e(i,o,(u=s._init)(s._payload),c)}if(te(s))return g(i,o,s,c);if(N(s))return m(i,o,s,c);yo(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,s)).return=i,i=o):(n(i,o),(o=zl(s,i.mode,c)).return=i,i=o),a(i)):n(i,o)}}var bo=Co(!0),wo=Co(!1),Eo=Pr(null),Po=null,Io=null,Ao=null;function To(){Ao=Io=Po=null}function ko(e){var t=Eo.current;Ir(Eo),e._currentValue=t}function Ro(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){Po=e,Ao=Io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Sa=!0),e.firstContext=null)}function Do(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},null===Io){if(null===Po)throw Error(o(308));Io=e,Po.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var xo=null;function Mo(e){null===xo?xo=[e]:xo.push(e)}function Oo(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Mo(t)):(n.next=r.next,r.next=n),t.interleaved=n,No(e,i)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&kc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,No(e,n)}return null===(r=i.interleaved)?(t.next=t,Mo(i)):(t.next=r.next,r.next=t),i.interleaved=t,No(e,n)}function jo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Uo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,i){var r=e.updateQueue;Lo=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var c=a,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==o){var d=r.baseState;for(s=0,u=l=c=null,a=o;;){var h=a.lane,p=a.eventTime;if((i&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=z({},d,h);break e;case 2:Lo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=p,c=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(h=a).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(c=d),r.baseState=c,r.firstBaseUpdate=l,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Lc|=s,e.lanes=s,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Wo={},Go=Pr(Wo),Ko=Pr(Wo),Qo=Pr(Wo);function Jo(e){if(e===Wo)throw Error(o(174));return e}function Yo(e,t){switch(Ar(Qo,t),Ar(Ko,e),Ar(Go,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ir(Go),Ar(Go,t)}function $o(){Ir(Go),Ir(Ko),Ir(Qo)}function Xo(e){Jo(Qo.current);var t=Jo(Go.current),n=ce(t,e.type);t!==n&&(Ar(Ko,e),Ar(Go,n))}function Zo(e){Ko.current===e&&(Ir(Go),Ir(Ko))}var es=Pr(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function is(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var rs=C.ReactCurrentDispatcher,os=C.ReactCurrentBatchConfig,ss=0,as=null,cs=null,ls=null,us=!1,ds=!1,hs=0,ps=0;function fs(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function ms(e,t,n,i,r,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Zs:ea,e=n(i,r),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,ls=cs=null,t.updateQueue=null,rs.current=ta,e=n(i,r)}while(ds)}if(rs.current=Xs,t=null!==cs&&null!==cs.next,ss=0,ls=cs=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?as.memoizedState=ls=e:ls=ls.next=e,ls}function Ss(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ls?as.memoizedState:ls.next;if(null!==t)ls=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ls?as.memoizedState=ls=e:ls=ls.next=e}return ls}function Cs(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=Ss(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=cs,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var c=a=null,l=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,a=i):l=l.next=h,as.lanes|=d,Lc|=d}u=u.next}while(null!==u&&u!==s);null===l?a=i:l.next=c,ai(i,t.memoizedState)||(Sa=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=l,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,as.lanes|=s,Lc|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ws(e){var t=Ss(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=e(s,a.action),a=a.next}while(a!==r);ai(s,t.memoizedState)||(Sa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Es(){}function Ps(e,t){var n=as,i=Ss(),r=t(),s=!ai(i.memoizedState,r);if(s&&(i.memoizedState=r,Sa=!0),i=i.queue,Ls(Ts.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ds(9,As.bind(null,n,i,r,t),void 0,null),null===Rc)throw Error(o(349));0!==(30&ss)||Is(n,t,r)}return r}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,i){t.value=n,t.getSnapshot=i,ks(t)&&Rs(e)}function Ts(e,t,n){return n((function(){ks(t)&&Rs(e)}))}function ks(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Rs(e){var t=No(e,1);null!==t&&nl(t,e,1,-1)}function _s(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Ds(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function xs(){return Ss().memoizedState}function Ms(e,t,n,i){var r=ys();as.flags|=e,r.memoizedState=Ds(1|t,n,void 0,void 0===i?null:i)}function Os(e,t,n,i){var r=Ss();i=void 0===i?null:i;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==i&&gs(i,s.deps))return void(r.memoizedState=Ds(t,n,o,i))}as.flags|=e,r.memoizedState=Ds(1|t,n,o,i)}function Ns(e,t){return Ms(8390656,8,e,t)}function Ls(e,t){return Os(2048,8,e,t)}function zs(e,t){return Os(4,2,e,t)}function Fs(e,t){return Os(4,4,e,t)}function qs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,qs.bind(null,t,e),n)}function js(){}function Us(e,t){var n=Ss();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&gs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=Ss();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&gs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,Sa=!0),e.memoizedState=n):(ai(n,t)||(n=gt(),as.lanes|=n,Lc|=n,e.baseState=!0),t)}function Ws(e,t){var n=St;St=0!==n&&4>n?n:4,e(!0);var i=os.transition;os.transition={};try{e(!1),t()}finally{St=n,os.transition=i}}function Gs(){return Ss().memoizedState}function Ks(e,t,n){var i=tl(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e))Ys(t,n);else if(null!==(n=Oo(e,t,n,i))){nl(n,e,i,el()),$s(n,t,i)}}function Qs(e,t,n){var i=tl(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Ys(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,s)){var c=t.interleaved;return null===c?(r.next=r,Mo(t)):(r.next=c.next,c.next=r),void(t.interleaved=r)}}catch(l){}null!==(n=Oo(e,t,r,i))&&(nl(n,e,i,r=el()),$s(n,t,i))}}function Js(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xs={readContext:Do,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Do,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Do,useEffect:Ns,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4194308,4,qs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ys();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Ks.bind(null,as,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:_s,useDebugValue:js,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=_s(!1),t=e[0];return e=Ws.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=as,r=ys();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rc)throw Error(o(349));0!==(30&ss)||Is(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Ns(Ts.bind(null,i,s,e),[e]),i.flags|=2048,Ds(9,As.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Rc.identifierPrefix;if(ro){var n=$r;t=":"+t+"R"+(n=(Yr&~(1<<32-st(Yr)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Do,useCallback:Us,useContext:Do,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:zs,useLayoutEffect:Fs,useMemo:Vs,useReducer:bs,useRef:xs,useState:function(){return bs(Cs)},useDebugValue:js,useDeferredValue:function(e){return Hs(Ss(),cs.memoizedState,e)},useTransition:function(){return[bs(Cs)[0],Ss().memoizedState]},useMutableSource:Es,useSyncExternalStore:Ps,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:Do,useCallback:Us,useContext:Do,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:zs,useLayoutEffect:Fs,useMemo:Vs,useReducer:ws,useRef:xs,useState:function(){return ws(Cs)},useDebugValue:js,useDeferredValue:function(e){var t=Ss();return null===cs?t.memoizedState=e:Hs(t,cs.memoizedState,e)},useTransition:function(){return[ws(Cs)[0],Ss().memoizedState]},useMutableSource:Es,useSyncExternalStore:Ps,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ra={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=el(),r=tl(e),o=qo(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,r))&&(nl(t,e,r,i),jo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=el(),r=tl(e),o=qo(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,r))&&(nl(t,e,r,i),jo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),i=tl(e),r=qo(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Bo(e,r,i))&&(nl(t,e,i,n),jo(t,e,i))}};function oa(e,t,n,i,r,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ci(n,i)||!ci(r,o))}function sa(e,t,n){var i=!1,r=Tr,o=t.contextType;return"object"===typeof o&&null!==o?o=Do(o):(r=xr(t)?_r:kr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Dr(e,r):Tr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},zo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Do(o):(o=xr(t)?_r:kr.current,r.context=Dr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ia(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ra.enqueueReplaceState(r,r.state,null),Vo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function la(e,t){try{var n="",i=t;do{n+=j(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=qo(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Hc||(Hc=!0,Wc=i),da(0,t)},n}function fa(e,t,n){(n=qo(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof i&&(null===Gc?Gc=new Set([this]):Gc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ha;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Il.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=qo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ya=C.ReactCurrentOwner,Sa=!1;function Ca(e,t,n,i){t.child=null===e?wo(t,null,n,i):bo(t,e.child,n,i)}function ba(e,t,n,i,r){n=n.render;var o=t.ref;return _o(t,r),i=ms(e,t,n,i,o,r),n=vs(),null===e||Sa?(ro&&n&&eo(t),t.flags|=1,Ca(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ha(e,t,r))}function wa(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||xl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ci)(s,i)&&e.ref===t.ref)return Ha(e,t,r)}return t.flags|=1,(e=Ml(o,i)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(ci(o,i)&&e.ref===t.ref){if(Sa=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Ha(e,t,r);0!==(131072&e.flags)&&(Sa=!0)}}return Aa(e,t,n,i,r)}function Pa(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(Mc,xc),xc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ar(Mc,xc),xc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Ar(Mc,xc),xc|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Ar(Mc,xc),xc|=i;return Ca(e,t,r,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,i,r){var o=xr(n)?_r:kr.current;return o=Dr(t,o),_o(t,r),n=ms(e,t,n,i,o,r),i=vs(),null===e||Sa?(ro&&i&&eo(t),t.flags|=1,Ca(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ha(e,t,r))}function Ta(e,t,n,i,r){if(xr(n)){var o=!0;Lr(t)}else o=!1;if(_o(t,r),null===t.stateNode)Va(e,t),sa(t,n,i),ca(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Do(l):l=Dr(t,l=xr(n)?_r:kr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||c!==l)&&aa(t,s,i,l),Lo=!1;var h=t.memoizedState;s.state=h,Vo(t,i,s,r),c=t.memoizedState,a!==i||h!==c||Rr.current||Lo?("function"===typeof u&&(ia(t,n,u,i),c=t.memoizedState),(a=Lo||oa(t,n,a,i,h,c,l))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=l,i=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:na(t.type,a),s.props=l,d=t.pendingProps,h=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=Do(c):c=Dr(t,c=xr(n)?_r:kr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==c)&&aa(t,s,i,c),Lo=!1,h=t.memoizedState,s.state=h,Vo(t,i,s,r);var f=t.memoizedState;a!==d||h!==f||Rr.current||Lo?("function"===typeof p&&(ia(t,n,p,i),f=t.memoizedState),(l=Lo||oa(t,n,l,i,h,f,c)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=c,i=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return ka(e,t,n,i,o,r)}function ka(e,t,n,i,r,o){Ia(e,t);var s=0!==(128&t.flags);if(!i&&!s)return r&&zr(t,n,!1),Ha(e,t,o);i=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=bo(t,e.child,null,o),t.child=bo(t,null,a,o)):Ca(e,t,a,o),t.memoizedState=i.state,r&&zr(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Or(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Or(0,t.context,!1),Yo(e,t.containerInfo)}function _a(e,t,n,i,r){return fo(),go(r),t.flags|=256,Ca(e,t,n,i),t.child}var Da,xa,Ma,Oa,Na={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var i,r=t.pendingProps,s=es.current,a=!1,c=0!==(128&t.flags);if((i=c)||(i=(null===e||null!==e.memoizedState)&&0!==(2&s)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ar(es,1&s),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=r.children,e=r.fallback,a?(r=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Ll(c,r,0,null),e=Nl(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Na,e):Fa(t,c));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,r,s,a){if(n)return 256&t.flags?(t.flags&=-257,qa(e,t,a,i=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Ll({mode:"visible",children:i.children},r,0,null),(s=Nl(s,r,a,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&bo(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Na,s);if(0===(1&t.mode))return qa(e,t,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var c=i.dgst;return i=c,qa(e,t,a,i=ua(s=Error(o(419)),i,void 0))}if(c=0!==(a&e.childLanes),Sa||c){if(null!==(i=Rc)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==s.retryLane&&(s.retryLane=r,No(e,r),nl(i,e,r,-1))}return gl(),qa(e,t,a,i=ua(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,io=lr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Kr[Qr++]=Yr,Kr[Qr++]=$r,Kr[Qr++]=Jr,Yr=e.id,$r=e.overflow,Jr=t),t=Fa(t,i.children),t.flags|=4096,t)}(e,t,c,r,i,s,n);if(a){a=r.fallback,c=t.mode,i=(s=e.child).sibling;var l={mode:"hidden",children:r.children};return 0===(1&c)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ml(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==i?a=Ml(i,a):(a=Nl(a,c,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=null===(c=e.child.memoizedState)?La(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Na,r}return e=(a=e.child).sibling,r=Ml(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fa(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qa(e,t,n,i){return null!==i&&go(i),bo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ro(e.return,t,n)}function ja(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ua(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ca(e,t,i.children,n),0!==(2&(i=es.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ar(es,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ja(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ts(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ja(t,!0,n,null,o);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ka(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return xr(t.type)&&Mr(),Ga(t),null;case 3:return i=t.stateNode,$o(),Ir(Rr),Ir(kr),is(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),xa(e,t),Ga(t),null;case 5:Zo(t);var r=Jo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ma(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=Jo(Go.current),ho(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[hr]=t,i[pr]=s,e=0!==(1&t.mode),n){case"dialog":qi("cancel",i),qi("close",i);break;case"iframe":case"object":case"embed":qi("load",i);break;case"video":case"audio":for(r=0;r<Ni.length;r++)qi(Ni[r],i);break;case"source":qi("error",i);break;case"img":case"image":case"link":qi("error",i),qi("load",i);break;case"details":qi("toggle",i);break;case"input":Y(i,s),qi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},qi("invalid",i);break;case"textarea":re(i,s),qi("invalid",i)}for(var c in ye(n,s),r=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?i.textContent!==l&&(!0!==s.suppressHydrationWarning&&Xi(i.textContent,l,e),r=["children",l]):"number"===typeof l&&i.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Xi(i.textContent,l,e),r=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&qi("scroll",i)}switch(n){case"input":G(i),Z(i,s,!0);break;case"textarea":G(i),se(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Zi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{c=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=c.createElement(n,{is:i.is}):(e=c.createElement(n),"select"===n&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,n),e[hr]=t,e[pr]=i,Da(e,t,!1,!1),t.stateNode=e;e:{switch(c=Se(n,i),n){case"dialog":qi("cancel",e),qi("close",e),r=i;break;case"iframe":case"object":case"embed":qi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ni.length;r++)qi(Ni[r],e);r=i;break;case"source":qi("error",e),r=i;break;case"img":case"image":case"link":qi("error",e),qi("load",e),r=i;break;case"details":qi("toggle",e),r=i;break;case"input":Y(e,i),r=J(e,i),qi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=z({},i,{value:void 0}),qi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),qi("invalid",e)}for(s in ye(n,r),l=r)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&qi("scroll",e):null!=u&&S(e,s,u,c))}switch(n){case"input":G(e),Z(e,i,!1);break;case"textarea":G(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+H(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=Jo(Qo.current),Jo(Go.current),ho(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(s=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xi(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return Ga(t),null;case 13:if(Ir(es),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,s=!1;else if(s=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hr]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(sl(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Oc&&(Oc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return $o(),xa(e,t),null===e&&Ui(t.stateNode.containerInfo),Ga(t),null;case 10:return ko(t.type._context),Ga(t),null;case 19:if(Ir(es),null===(s=t.memoizedState))return Ga(t),null;if(i=0!==(128&t.flags),null===(c=s.rendering))if(i)Wa(s,!1);else{if(0!==Oc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ts(e))){for(t.flags|=128,Wa(s,!1),null!==(i=c.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ar(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Uc&&(t.flags|=128,i=!0,Wa(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ts(c))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!ro)return Ga(t),null}else 2*$e()-s.renderingStartTime>Uc&&1073741824!==n&&(t.flags|=128,i=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=es.current,Ar(es,i?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dl(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&xc)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return xr(t.type)&&Mr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),Ir(Rr),Ir(kr),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ir(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ir(es),null;case 4:return $o(),null;case 10:return ko(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xa=function(){},Ma=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Jo(Go.current);var o,s=null;switch(n){case"input":r=J(e,r),i=J(e,i),s=[];break;case"select":r=z({},r,{value:void 0}),i=z({},i,{value:void 0}),s=[];break;case"textarea":r=ie(e,r),i=ie(e,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var c=r[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(c=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&qi("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ja=!1,Ya=!1,$a="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Pl(e,t,i)}else n.current=null}function ec(e,t,n){try{n()}catch(i){Pl(e,t,i)}}var tc=!1;function nc(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&ec(t,n,o)}r=r.next}while(r!==i)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[gr],delete t[mr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var i=uc,r=dc;uc=null,hc(e,t,n),dc=r,null!==(uc=i)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?cr(e.parentNode,n):1===e.nodeType&&cr(e,n),Ut(e)):cr(uc,n.stateNode));break;case 4:i=uc,r=dc,uc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),uc=i,dc=r;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&ec(n,t,s),r=r.next}while(r!==i)}hc(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Pl(n,t,a)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Ya=(i=Ya)||null!==n.memoizedState,hc(e,t,n),Ya=i):hc(e,t,n);break;default:hc(e,t,n)}}function fc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var i=kl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));pc(s,a,r),uc=null,dc=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(u){Pl(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),vc(e),4&i){try{nc(3,e,e.return),ic(3,e)}catch(m){Pl(e,e.return,m)}try{nc(5,e,e.return)}catch(m){Pl(e,e.return,m)}}break;case 1:gc(t,e),vc(e),512&i&&null!==n&&Za(n,n.return);break;case 5:if(gc(t,e),vc(e),512&i&&null!==n&&Za(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(m){Pl(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&$(r,s),Se(c,a);var u=Se(c,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];"style"===d?me(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):S(r,d,h,u)}switch(c){case"input":X(r,s);break;case"textarea":oe(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(r,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[pr]=s}catch(m){Pl(e,e.return,m)}}break;case 6:if(gc(t,e),vc(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(m){Pl(e,e.return,m)}}break;case 3:if(gc(t,e),vc(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Pl(e,e.return,m)}break;case 4:default:gc(t,e),vc(e);break;case 13:gc(t,e),vc(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(jc=$e())),4&i&&fc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,gc(t,e),Ya=u):gc(t,e),vc(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(f=(p=Xa).child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:Za(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Pl(i,n,m)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){bc(h);continue}}null!==f?(f.return=p,Xa=f):bc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=h.stateNode,a=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",a))}catch(m){Pl(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Pl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),vc(e),4&i&&fc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),lc(e,ac(e),r);break;case 3:case 4:var s=i.stateNode.containerInfo;cc(e,ac(e),s);break;default:throw Error(o(161))}}catch(a){Pl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Xa=e,Sc(e,t,n)}function Sc(e,t,n){for(var i=0!==(1&e.mode);null!==Xa;){var r=Xa,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Ja;if(!s){var a=r.alternate,c=null!==a&&null!==a.memoizedState||Ya;a=Ja;var l=Ya;if(Ja=s,(Ya=c)&&!l)for(Xa=r;null!==Xa;)c=(s=Xa).child,22===s.tag&&null!==s.memoizedState?wc(r):null!==c?(c.return=s,Xa=c):wc(r);for(;null!==o;)Xa=o,Sc(o,t,n),o=o.sibling;Xa=r,Ja=a,Ya=l}Cc(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Xa=o):Cc(e)}}function Cc(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||ic(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ya)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&rc(t)}catch(p){Pl(t,t.return,p)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function bc(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function wc(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Pl(t,n,c)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(c){Pl(t,r,c)}}var o=t.return;try{rc(t)}catch(c){Pl(t,o,c)}break;case 5:var s=t.return;try{rc(t)}catch(c){Pl(t,s,c)}}}catch(c){Pl(t,t.return,c)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Ec,Pc=Math.ceil,Ic=C.ReactCurrentDispatcher,Ac=C.ReactCurrentOwner,Tc=C.ReactCurrentBatchConfig,kc=0,Rc=null,_c=null,Dc=0,xc=0,Mc=Pr(0),Oc=0,Nc=null,Lc=0,zc=0,Fc=0,qc=null,Bc=null,jc=0,Uc=1/0,Vc=null,Hc=!1,Wc=null,Gc=null,Kc=!1,Qc=null,Jc=0,Yc=0,$c=null,Xc=-1,Zc=0;function el(){return 0!==(6&kc)?$e():-1!==Xc?Xc:Xc=$e()}function tl(e){return 0===(1&e.mode)?1:0!==(2&kc)&&0!==Dc?Dc&-Dc:null!==mo.transition?(0===Zc&&(Zc=gt()),Zc):0!==(e=St)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,i){if(50<Yc)throw Yc=0,$c=null,Error(o(185));vt(e,n,i),0!==(2&kc)&&e===Rc||(e===Rc&&(0===(2&kc)&&(zc|=n),4===Oc&&al(e,Dc)),il(e,i),1===n&&0===kc&&0===(1&t.mode)&&(Uc=$e()+500,qr&&Ur()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,c=r[s];-1===c?0!==(a&n)&&0===(a&i)||(r[s]=pt(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var i=ht(e,e===Rc?Dc:0);if(0===i)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){qr=!0,jr(e)}(cl.bind(null,e)):jr(cl.bind(null,e)),sr((function(){0===(6&kc)&&Ur()})),n=null;else{switch(Ct(i)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Rl(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if(Xc=-1,Zc=0,0!==(6&kc))throw Error(o(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var i=ht(e,e===Rc?Dc:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=ml(e,i);else{t=i;var r=kc;kc|=2;var s=fl();for(Rc===e&&Dc===t||(Vc=null,Uc=$e()+500,hl(e,t));;)try{yl();break}catch(c){pl(e,c)}To(),Ic.current=s,kc=r,null!==_c?t=0:(Rc=null,Dc=0,t=Oc)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=ol(e,r))),1===t)throw n=Nc,hl(e,0),al(e,i),il(e,$e()),n;if(6===t)al(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!ai(o(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=ml(e,i))&&(0!==(s=ft(e))&&(i=s,t=ol(e,s))),1===t))throw n=Nc,hl(e,0),al(e,i),il(e,$e()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:bl(e,Bc,Vc);break;case 3:if(al(e,i),(130023424&i)===i&&10<(t=jc+500-$e())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){el(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(bl.bind(null,e,Bc,Vc),t);break}bl(e,Bc,Vc);break;case 4:if(al(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-st(i);s=1<<a,(a=t[a])>r&&(r=a),i&=~s}if(i=r,10<(i=(120>(i=$e()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Pc(i/1960))-i)){e.timeoutHandle=ir(bl.bind(null,e,Bc,Vc),i);break}bl(e,Bc,Vc);break;default:throw Error(o(329))}}}return il(e,$e()),e.callbackNode===n?rl.bind(null,e):null}function ol(e,t){var n=qc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bc,Bc=n,null!==t&&sl(t)),e}function sl(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function al(e,t){for(t&=~Fc,t&=~zc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function cl(e){if(0!==(6&kc))throw Error(o(327));wl();var t=ht(e,0);if(0===(1&t))return il(e,$e()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ol(e,i))}if(1===n)throw n=Nc,hl(e,0),al(e,t),il(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bl(e,Bc,Vc),il(e,$e()),null}function ll(e,t){var n=kc;kc|=1;try{return e(t)}finally{0===(kc=n)&&(Uc=$e()+500,qr&&Ur())}}function ul(e){null!==Qc&&0===Qc.tag&&0===(6&kc)&&wl();var t=kc;kc|=1;var n=Tc.transition,i=St;try{if(Tc.transition=null,St=1,e)return e()}finally{St=i,Tc.transition=n,0===(6&(kc=t))&&Ur()}}function dl(){xc=Mc.current,Ir(Mc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==_c)for(n=_c.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Mr();break;case 3:$o(),Ir(Rr),Ir(kr),is();break;case 5:Zo(i);break;case 4:$o();break;case 13:case 19:Ir(es);break;case 10:ko(i.type._context);break;case 22:case 23:dl()}n=n.return}if(Rc=e,_c=e=Ml(e.current,null),Dc=xc=t,Oc=0,Nc=null,Fc=zc=Lc=0,Bc=qc=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(i=(n=xo[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}xo=null}return e}function pl(e,t){for(;;){var n=_c;try{if(To(),rs.current=Xs,us){for(var i=as.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}us=!1}if(ss=0,ls=cs=as=null,ds=!1,hs=0,Ac.current=null,null===n||null===n.return){Oc=1,Nc=t,_c=null;break}e:{var s=e,a=n.return,c=n,l=t;if(t=Dc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ma(a);if(null!==f){f.flags&=-257,va(f,a,c,0,t),1&f.mode&&ga(s,u,t),l=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0===(1&t)){ga(s,u,t),gl();break e}l=Error(o(426))}else if(ro&&1&c.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,c,0,t),go(la(l,c));break e}}s=l=la(l,c),4!==Oc&&(Oc=2),null===qc?qc=[s]:qc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Uo(s,pa(0,l,t));break e;case 1:c=l;var y=s.type,S=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Gc||!Gc.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t,Uo(s,fa(s,c,t));break e}}s=s.return}while(null!==s)}Cl(n)}catch(C){t=C,_c===n&&null!==n&&(_c=n=n.return);continue}break}}function fl(){var e=Ic.current;return Ic.current=Xs,null===e?Xs:e}function gl(){0!==Oc&&3!==Oc&&2!==Oc||(Oc=4),null===Rc||0===(268435455&Lc)&&0===(268435455&zc)||al(Rc,Dc)}function ml(e,t){var n=kc;kc|=2;var i=fl();for(Rc===e&&Dc===t||(Vc=null,hl(e,t));;)try{vl();break}catch(r){pl(e,r)}if(To(),kc=n,Ic.current=i,null!==_c)throw Error(o(261));return Rc=null,Dc=0,Oc}function vl(){for(;null!==_c;)Sl(_c)}function yl(){for(;null!==_c&&!Je();)Sl(_c)}function Sl(e){var t=Ec(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?Cl(e):_c=t,Ac.current=null}function Cl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,xc)))return void(_c=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(_c=n);if(null===e)return Oc=6,void(_c=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_c=t);_c=t=e}while(null!==t);0===Oc&&(Oc=5)}function bl(e,t,n){var i=St,r=Tc.transition;try{Tc.transition=null,St=1,function(e,t,n,i){do{wl()}while(null!==Qc);if(0!==(6&kc))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,s),e===Rc&&(_c=Rc=null,Dc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kc||(Kc=!0,Rl(tt,(function(){return wl(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tc.transition,Tc.transition=null;var a=St;St=1;var c=kc;kc|=4,Ac.current=null,function(e,t){if(er=Ht,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(b){n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(c=a+r),h!==s||0!==i&&3!==h.nodeType||(l=a+i),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(c=a),p===s&&++d===i&&(l=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,S=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;1===C.nodeType?C.textContent="":9===C.nodeType&&C.documentElement&&C.removeChild(C.documentElement);break;default:throw Error(o(163))}}catch(b){Pl(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}g=tc,tc=!1}(e,n),mc(n,e),fi(tr),Ht=!!er,tr=er=null,e.current=n,yc(n,e,r),Ye(),kc=c,St=a,Tc.transition=s}else e.current=n;if(Kc&&(Kc=!1,Qc=e,Jc=r),s=e.pendingLanes,0===s&&(Gc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,$e()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Hc)throw Hc=!1,e=Wc,Wc=null,e;0!==(1&Jc)&&0!==e.tag&&wl(),s=e.pendingLanes,0!==(1&s)?e===$c?Yc++:(Yc=0,$c=e):Yc=0,Ur()}(e,t,n,i)}finally{Tc.transition=r,St=i}return null}function wl(){if(null!==Qc){var e=Ct(Jc),t=Tc.transition,n=St;try{if(Tc.transition=null,St=16>e?16:e,null===Qc)var i=!1;else{if(e=Qc,Qc=null,Jc=0,0!==(6&kc))throw Error(o(331));var r=kc;for(kc|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xa=u;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nc(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var p=(d=Xa).sibling,f=d.return;if(oc(d),d===u){Xa=null;break}if(null!==p){p.return=f,Xa=p;break}Xa=f}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nc(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xa=y;break e}Xa=s.return}}var S=e.current;for(Xa=S;null!==Xa;){var C=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==C)C.return=a,Xa=C;else e:for(a=S;null!==Xa;){if(0!==(2048&(c=Xa).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(w){Pl(c,c.return,w)}if(c===a){Xa=null;break e}var b=c.sibling;if(null!==b){b.return=c.return,Xa=b;break e}Xa=c.return}}if(kc=r,Ur(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{St=n,Tc.transition=t}}return!1}function El(e,t,n){e=Bo(e,t=pa(0,t=la(n,t),1),1),t=el(),null!==e&&(vt(e,1,t),il(e,t))}function Pl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Gc||!Gc.has(i))){t=Bo(t,e=fa(t,e=la(n,e),1),1),e=el(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function Il(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Rc===e&&(Dc&n)===n&&(4===Oc||3===Oc&&(130023424&Dc)===Dc&&500>$e()-jc?hl(e,0):Fc|=n),il(e,t)}function Al(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=No(e,t))&&(vt(e,t,n),il(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Al(e,n)}function kl(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Al(e,n)}function Rl(e,t){return Ke(e,t)}function _l(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,i){return new _l(e,t,n,i)}function xl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,i,r,s){var a=2;if(i=e,"function"===typeof e)xl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Nl(n.children,r,s,t);case P:a=8,r|=8;break;case I:return(e=Dl(12,n,t,2|r)).elementType=I,e.lanes=s,e;case R:return(e=Dl(13,n,t,r)).elementType=R,e.lanes=s,e;case _:return(e=Dl(19,n,t,r)).elementType=_,e.lanes=s,e;case M:return Ll(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case T:a=9;break e;case k:a=11;break e;case D:a=14;break e;case x:a=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dl(a,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Nl(e,t,n,i){return(e=Dl(7,e,i,t)).lanes=n,e}function Ll(e,t,n,i){return(e=Dl(22,e,i,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ql(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,i,r,o,s,a,c){return e=new ql(e,t,n,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zo(o),e}function jl(e){if(!e)return Tr;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(xr(n))return Nr(e,n,t)}return t}function Ul(e,t,n,i,r,o,s,a,c){return(e=Bl(n,i,!0,e,0,o,0,a,c)).context=jl(null),n=e.current,(o=qo(i=el(),r=tl(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,r),e.current.lanes=r,vt(e,r,i),il(e,i),e}function Vl(e,t,n,i){var r=t.current,o=el(),s=tl(r);return n=jl(n),null===t.context?t.context=n:t.pendingContext=n,(t=qo(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Bo(r,t,s))&&(nl(e,r,s,o),jo(e,r,s)),s}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Ec=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Rr.current)Sa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Sa=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),fo();break;case 5:Xo(t);break;case 1:xr(t.type)&&Lr(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Ar(Eo,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Ar(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(Ar(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ar(es,1&es.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ua(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ar(es,es.current),i)break;return null;case 22:case 23:return t.lanes=0,Pa(e,t,n)}return Ha(e,t,n)}(e,t,n);Sa=0!==(131072&e.flags)}else Sa=!1,ro&&0!==(1048576&t.flags)&&Zr(t,Gr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Va(e,t),e=t.pendingProps;var r=Dr(t,kr.current);_o(t,n),r=ms(null,t,i,e,r,n);var s=vs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(i)?(s=!0,Lr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,zo(t),r.updater=ra,t.stateNode=r,r._reactInternals=t,ca(t,i,e,n),t=ka(null,t,i,!0,s,n)):(t.tag=0,ro&&s&&eo(t),Ca(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return xl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===D)return 14}return 2}(i),e=na(i,e),r){case 0:t=Aa(null,t,i,e,n);break e;case 1:t=Ta(null,t,i,e,n);break e;case 11:t=ba(null,t,i,e,n);break e;case 14:t=wa(null,t,i,na(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Aa(e,t,i,r=t.elementType===i?r:na(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ta(e,t,i,r=t.elementType===i?r:na(i,r),n);case 3:e:{if(Ra(t),null===e)throw Error(o(387));i=t.pendingProps,r=(s=t.memoizedState).element,Fo(e,t),Vo(t,i,null,n);var a=t.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=_a(e,t,i,n,r=la(Error(o(423)),t));break e}if(i!==r){t=_a(e,t,i,n,r=la(Error(o(424)),t));break e}for(io=lr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=wo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),i===r){t=Ha(e,t,n);break e}Ca(e,t,i,n)}t=t.child}return t;case 5:return Xo(t),null===e&&lo(t),i=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==s&&nr(i,s)&&(t.flags|=32),Ia(e,t),Ca(e,t,a,n),t.child;case 6:return null===e&&lo(t),null;case 13:return za(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=bo(t,null,i,n):Ca(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,ba(e,t,i,r=t.elementType===i?r:na(i,r),n);case 7:return Ca(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ca(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value,Ar(Eo,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===r.children&&!Rr.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===i){if(1===s.tag){(l=qo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ro(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ro(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ca(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,_o(t,n),i=i(r=Do(r)),t.flags|=1,Ca(e,t,i,n),t.child;case 14:return r=na(i=t.type,t.pendingProps),wa(e,t,i,r=na(i.type,r),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:na(i,r),Va(e,t),t.tag=1,xr(i)?(e=!0,Lr(t)):e=!1,_o(t,n),sa(t,i,r),ca(t,i,r,n),ka(null,t,i,!0,e,n);case 19:return Ua(e,t,n);case 22:return Pa(e,t,n)}throw Error(o(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function Zl(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof r){var a=r;r=function(){var e=Hl(s);a.call(e)}}Vl(t,s,e,r)}else s=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Hl(s);o.call(e)}}var s=Ul(t,i,e,0,null,!1,0,"",Xl);return e._reactRootContainer=s,e[fr]=s.current,Ui(8===e.nodeType?e.parentNode:e),ul(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=Hl(c);a.call(e)}}var c=Bl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[fr]=c.current,Ui(8===e.nodeType?e.parentNode:e),ul((function(){Vl(t,c,n,i)})),c}(n,t,e,r,i);return Hl(s)}Jl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vl(e,t,null,null)},Jl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Vl(null,e,null,null)})),t[fr]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&zt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,$e()),0===(6&kc)&&(Uc=$e()+500,Ur()))}break;case 13:ul((function(){var t=No(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},wt=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=No(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},Pt=function(){return St},It=function(e,t){var n=St;try{return St=e,t()}finally{St=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=br(i);if(!r)throw Error(o(90));K(i),X(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=ll,Re=ul;var eu={usingClientEntryPoint:!1,Events:[Sr,Cr,br,Ae,Te,ll]},tu={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{rt=iu.inject(nu),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(o(299));var n=!1,i="",r=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Ui(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(o(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=Kl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Ul(t,null,e,1,null!=n?n:null,r,0,s,a),e[fr]=t.current,Ui(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Jl(t)},t.render=function(e,t,n){if(!$l(t))throw Error(o(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!$l(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zl(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var i=n(7950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},1153:(e,t,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var i,o={},l=null,u=null;for(i in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,i)&&!c.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:l,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function S(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var C=S.prototype=new y;C.constructor=S,g(C,v.prototype),C.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,i){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,r)&&!P.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=i;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,r,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case i:c=!0}}if(c)return s=s(c=e),e=""===o?"."+k(c,0):o,b(s)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),R(s,t,r,"",(function(e){return e}))):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",b(e))for(var l=0;l<e.length;l++){var u=o+k(a=e[l],l);c+=R(a,t,r,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=R(a=a.value,t,r,u=o+k(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function _(e,t,n){if(null==e)return e;var i=[],r=0;return R(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var x={current:null},M={transition:null},O={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:M,ReactCurrentOwner:E};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=s,t.PureComponent=S,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=N,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!P.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:n,type:e.type,key:o,ref:s,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return x.current.useCallback(e,t)},t.useContext=function(e){return x.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return x.current.useDeferredValue(e)},t.useEffect=function(e,t){return x.current.useEffect(e,t)},t.useId=function(){return x.current.useId()},t.useImperativeHandle=function(e,t,n){return x.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.current.useMemo(e,t)},t.useReducer=function(e,t,n){return x.current.useReducer(e,t,n)},t.useRef=function(e){return x.current.useRef(e)},t.useState=function(e){return x.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,c=e[a],l=a+1,u=e[l];if(0>o(c,n))l<r&&0>o(u,c)?(e[i]=u,e[l]=n,i=l):(e[i]=c,e[a]=n,i=a);else{if(!(l<r&&0>o(u,n)))break e;e[i]=u,e[l]=n,i=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,S="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(l,t)}t=i(u)}}function b(e){if(m=!1,C(e),!g)if(null!==i(l))g=!0,M(w);else{var t=i(u);null!==t&&O(b,t.startTime-e)}}function w(e,n){g=!1,m&&(m=!1,y(A),A=-1),f=!0;var o=p;try{for(C(n),h=i(l);null!==h&&(!(h.expirationTime>n)||e&&!R());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===i(l)&&r(l),C(n)}else r(l);h=i(l)}if(null!==h)var c=!0;else{var d=i(u);null!==d&&O(b,d.startTime-n),c=!1}return c}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,P=!1,I=null,A=-1,T=5,k=-1;function R(){return!(t.unstable_now()-k<T)}function _(){if(null!==I){var e=t.unstable_now();k=e;var n=!0;try{n=I(!0,e)}finally{n?E():(P=!1,I=null)}}else P=!1}if("function"===typeof S)E=function(){S(_)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,x=D.port2;D.port1.onmessage=_,E=function(){x.postMessage(null)}}else E=function(){v(_,0)};function M(e){I=e,P||(P=!0,E())}function O(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===i(l)&&e===i(u)&&(m?(y(A),A=-1):m=!0,O(b,o-s))):(e.sortIndex=a,n(l,e),g||f||(g=!0,M(w))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},4222:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4403));t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var i=(0,r.default)(e),o="function"===typeof t;return i.forEach((function(e){if("declaration"===e.type){var i=e.property,r=e.value;o?t(i,r,e):r&&((n=n||{})[i]=r)}})),n}},7726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var i=h(n(6857)),r=h(n(9175)),o=h(n(646)),s=h(n(9605)),a=h(n(6129)),c=h(n(4762)),l=h(n(2378)),u=h(n(8771)),d=h(n(1949));function h(e){return e&&e.__esModule?e:{default:e}}},1434:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,r,o,s){return i((a=i(i(t,e),i(r,s)))<<(c=o)|a>>>32-c,n);var a,c}function o(e,t,n,i,o,s,a){return r(t&n|~t&i,e,t,o,s,a)}function s(e,t,n,i,o,s,a){return r(t&i|n&~i,e,t,o,s,a)}function a(e,t,n,i,o,s,a){return r(t^n^i,e,t,o,s,a)}function c(e,t,n,i,o,s,a){return r(n^(t|~i),e,t,o,s,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,i="0123456789abcdef";for(let r=0;r<n;r+=8){const n=e[r>>5]>>>r%32&255,o=parseInt(i.charAt(n>>>4&15)+i.charAt(15&n),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,l=-271733879,u=-1732584194,d=271733878;for(let n=0;n<e.length;n+=16){const t=r,h=l,p=u,f=d;r=o(r,l,u,d,e[n],7,-680876936),d=o(d,r,l,u,e[n+1],12,-389564586),u=o(u,d,r,l,e[n+2],17,606105819),l=o(l,u,d,r,e[n+3],22,-1044525330),r=o(r,l,u,d,e[n+4],7,-176418897),d=o(d,r,l,u,e[n+5],12,1200080426),u=o(u,d,r,l,e[n+6],17,-1473231341),l=o(l,u,d,r,e[n+7],22,-45705983),r=o(r,l,u,d,e[n+8],7,1770035416),d=o(d,r,l,u,e[n+9],12,-1958414417),u=o(u,d,r,l,e[n+10],17,-42063),l=o(l,u,d,r,e[n+11],22,-1990404162),r=o(r,l,u,d,e[n+12],7,1804603682),d=o(d,r,l,u,e[n+13],12,-40341101),u=o(u,d,r,l,e[n+14],17,-1502002290),l=o(l,u,d,r,e[n+15],22,1236535329),r=s(r,l,u,d,e[n+1],5,-165796510),d=s(d,r,l,u,e[n+6],9,-1069501632),u=s(u,d,r,l,e[n+11],14,643717713),l=s(l,u,d,r,e[n],20,-373897302),r=s(r,l,u,d,e[n+5],5,-701558691),d=s(d,r,l,u,e[n+10],9,38016083),u=s(u,d,r,l,e[n+15],14,-660478335),l=s(l,u,d,r,e[n+4],20,-405537848),r=s(r,l,u,d,e[n+9],5,568446438),d=s(d,r,l,u,e[n+14],9,-1019803690),u=s(u,d,r,l,e[n+3],14,-187363961),l=s(l,u,d,r,e[n+8],20,1163531501),r=s(r,l,u,d,e[n+13],5,-1444681467),d=s(d,r,l,u,e[n+2],9,-51403784),u=s(u,d,r,l,e[n+7],14,1735328473),l=s(l,u,d,r,e[n+12],20,-1926607734),r=a(r,l,u,d,e[n+5],4,-378558),d=a(d,r,l,u,e[n+8],11,-2022574463),u=a(u,d,r,l,e[n+11],16,1839030562),l=a(l,u,d,r,e[n+14],23,-35309556),r=a(r,l,u,d,e[n+1],4,-1530992060),d=a(d,r,l,u,e[n+4],11,1272893353),u=a(u,d,r,l,e[n+7],16,-155497632),l=a(l,u,d,r,e[n+10],23,-1094730640),r=a(r,l,u,d,e[n+13],4,681279174),d=a(d,r,l,u,e[n],11,-358537222),u=a(u,d,r,l,e[n+3],16,-722521979),l=a(l,u,d,r,e[n+6],23,76029189),r=a(r,l,u,d,e[n+9],4,-640364487),d=a(d,r,l,u,e[n+12],11,-421815835),u=a(u,d,r,l,e[n+15],16,530742520),l=a(l,u,d,r,e[n+2],23,-995338651),r=c(r,l,u,d,e[n],6,-198630844),d=c(d,r,l,u,e[n+7],10,1126891415),u=c(u,d,r,l,e[n+14],15,-1416354905),l=c(l,u,d,r,e[n+5],21,-57434055),r=c(r,l,u,d,e[n+12],6,1700485571),d=c(d,r,l,u,e[n+3],10,-1894986606),u=c(u,d,r,l,e[n+10],15,-1051523),l=c(l,u,d,r,e[n+1],21,-2054922799),r=c(r,l,u,d,e[n+8],6,1873313359),d=c(d,r,l,u,e[n+15],10,-30611744),u=c(u,d,r,l,e[n+6],15,-1560198380),l=c(l,u,d,r,e[n+13],21,1309151649),r=c(r,l,u,d,e[n+4],6,-145523070),d=c(d,r,l,u,e[n+11],10,-1120210379),u=c(u,d,r,l,e[n+2],15,718787259),l=c(l,u,d,r,e[n+9],21,-343485551),r=i(r,t),l=i(l,h),u=i(u,p),d=i(d,f)}return[r,l,u,d]}(function(e){if(0===e.length)return[];const t=8*e.length,i=new Uint32Array(n(t));for(let n=0;n<t;n+=8)i[n>>5]|=(255&e[n/8])<<n%32;return i}(e),8*e.length))};t.default=l},2715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},6129:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},1949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(2378))&&i.__esModule?i:{default:i};var o=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};t.default=o},4417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},8811:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)},8805:(e,t)=>{"use strict";function n(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:case 3:return t^n^i;case 2:return t&n^t&i^n&i}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(let n=0;n<s;++n){const t=new Uint32Array(16);for(let i=0;i<16;++i)t[i]=e[64*n+4*i]<<24|e[64*n+4*i+1]<<16|e[64*n+4*i+2]<<8|e[64*n+4*i+3];a[n]=t}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(let c=0;c<s;++c){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=a[c][t];for(let t=16;t<80;++t)e[t]=i(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let o=r[0],s=r[1],l=r[2],u=r[3],d=r[4];for(let r=0;r<80;++r){const a=Math.floor(r/20),c=i(o,5)+n(a,s,l,u)+d+t[a]+e[r]>>>0;d=u,u=l,l=i(s,30)>>>0,s=o,o=c}r[0]=r[0]+o>>>0,r[1]=r[1]+s>>>0,r[2]=r[2]+l>>>0,r[3]=r[3]+u>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};t.default=r},8771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var i,r=(i=n(2378))&&i.__esModule?i:{default:i};const o=[];for(let c=0;c<256;++c)o.push((c+256).toString(16).slice(1));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var a=function(e){const t=s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,r.default)(t))throw TypeError("Stringified UUID is invalid");return t};t.default=a},6857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(8811))&&i.__esModule?i:{default:i},o=n(8771);let s,a,c=0,l=0;var u=function(e,t,n){let i=t&&n||0;const u=t||new Array(16);let d=(e=e||{}).node||s,h=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==h){const t=e.random||(e.rng||r.default)();null==d&&(d=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=a=16383&(t[6]<<8|t[7]))}let p=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:l+1;const g=p-c+(f-l)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||p>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,l=f,a=h,p+=122192928e5;const m=(1e4*(268435455&p)+f)%4294967296;u[i++]=m>>>24&255,u[i++]=m>>>16&255,u[i++]=m>>>8&255,u[i++]=255&m;const v=p/4294967296*1e4&268435455;u[i++]=v>>>8&255,u[i++]=255&v,u[i++]=v>>>24&15|16,u[i++]=v>>>16&255,u[i++]=h>>>8|128,u[i++]=255&h;for(let r=0;r<6;++r)u[i+r]=d[r];return t||(0,o.unsafeStringify)(u)};t.default=u},9175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(9124)),r=o(n(1434));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.default)("v3",48,r.default);t.default=s},9124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function i(e,i,s,a){var c;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof i&&(i=(0,o.default)(i)),16!==(null===(c=i)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(i),l.set(e,i.length),l=n(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,s){a=a||0;for(let e=0;e<16;++e)s[a+e]=l[e];return s}return(0,r.unsafeStringify)(l)}try{i.name=e}catch(c){}return i.DNS=s,i.URL=a,i};var i,r=n(8771),o=(i=n(1949))&&i.__esModule?i:{default:i};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(2715)),r=s(n(8811)),o=n(8771);function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,n){if(i.default.randomUUID&&!t&&!e)return i.default.randomUUID();const s=(e=e||{}).random||(e.rng||r.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return(0,o.unsafeStringify)(s)};t.default=a},9605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(9124)),r=o(n(8805));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.default)("v5",80,r.default);t.default=s},2378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(4417))&&i.__esModule?i:{default:i};var o=function(e){return"string"===typeof e&&r.default.test(e)};t.default=o},4762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(2378))&&i.__esModule?i:{default:i};var o=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},6308:()=>{},2250:()=>{},9645:()=>{},8632:()=>{},3678:()=>{},4573:()=>{},952:()=>{},8139:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{decode:()=>of,encode:()=>cf,format:()=>lf,parse:()=>wf});var t={};n.r(t),n.d(t,{Any:()=>If,Cc:()=>Af,Cf:()=>Tf,P:()=>Ef,S:()=>Pf,Z:()=>kf});var i={};n.r(i),n.d(i,{arrayReplaceAt:()=>ng,assign:()=>tg,escapeHtml:()=>fg,escapeRE:()=>mg,fromCodePoint:()=>rg,has:()=>eg,isMdAsciiPunct:()=>Cg,isPunctChar:()=>Sg,isSpace:()=>vg,isString:()=>Xf,isValidEntityCode:()=>ig,isWhiteSpace:()=>yg,lib:()=>wg,normalizeReference:()=>bg,unescapeAll:()=>lg,unescapeMd:()=>cg});var r={};n.r(r),n.d(r,{parseLinkDestination:()=>Pg,parseLinkLabel:()=>Eg,parseLinkTitle:()=>Ig});var o={};n.r(o),n.d(o,{boolean:()=>iS,booleanish:()=>rS,commaOrSpaceSeparated:()=>lS,commaSeparated:()=>cS,number:()=>sS,overloadedBoolean:()=>oS,spaceSeparated:()=>aS});var s={};n.r(s),n.d(s,{attentionMarkers:()=>Vb,contentInitial:()=>zb,disable:()=>Hb,document:()=>Lb,flow:()=>qb,flowInitial:()=>Fb,insideSpan:()=>Ub,string:()=>Bb,text:()=>jb});var a=n(5043),c=n(4391);const l=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],o=r+1<e.length,s=o?e[r+1]:0,a=r+2<e.length,c=a?e[r+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|c>>6,h=63&c;a||(h=64,o||(d=64)),i.push(n[l],n[u],n[d],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const s=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==o||null==s||null==a)throw new d;const c=t<<2|o>>4;if(i.push(c),64!==s){const e=o<<4&240|s>>2;if(i.push(e),64!==a){const e=s<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h=function(e){return function(e){const t=l(e);return u.encodeByteArray(t,!0)}(e).replace(/\./g,"")},p=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const f=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,g=()=>{try{return f()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AZURE_SPEECH_API_KEY:"55c4f5f13d764a77a683b5c225c52705",REACT_APP_FIREBASE_API_KEY:"AIzaSyBNeonGTfBV2QhXxkufPueC-gQLCrcsB08",REACT_APP_FIREBASE_AUTH_DOMAIN:"reviewtext-ad5c6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://reviewtext-ad5c6.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"reviewtext-ad5c6",REACT_APP_FIREBASE_STORAGE_BUCKET:"reviewtext-ad5c6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"892085575649",REACT_APP_FIREBASE_APP_ID:"1:892085575649:web:b57abe0e1438f10dc6fca0",REACT_APP_TTS_API_URL:"https://fastapi-tts-v21-892085575649.us-central1.run.app",REACT_APP_TTS_SSML_API_URL:"https://fastapi-tts-v21-892085575649.us-central1.run.app/ssml",REACT_APP_GENAI_API_URL:"https://genaiapp-892085575649.us-central1.run.app/",REACT_APP_GENAI_API_BIGQUERY_URL:"https://genaiapp-892085575649.us-central1.run.app/bigquery-search",REACT_APP_GENAI_API_VECTOR_URL:"https://genaiapp-892085575649.us-central1.run.app/search",REACT_APP_MAIN_APP:"GenAI"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&p(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},m=e=>{var t,n;return null===(n=null===(t=g())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},v=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config},y=e=>{var t;return null===(t=g())||void 0===t?void 0:t["_".concat(e)]};class S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function C(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return!function(){var e;const t=null===(e=g())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(i){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w(){try{return"object"===typeof indexedDB}catch(e){return!1}}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(I,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",o="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new E(n,o,t)}}const I=/\{\$([^}]+)}/g;function A(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],o=t[r];if(T(n)&&T(o)){if(!A(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function T(e){return null!==e&&"object"===typeof e}function k(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function _(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class D{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=x),void 0===i.error&&(i.error=x),void 0===i.complete&&(i.complete=x);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function x(){}function M(e){return e&&e._delegate?e._delegate:e}class O{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const N="[DEFAULT]";class L{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new S;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:N})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&o.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(Df){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===N?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(Df){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.component?this.component.multipleInstances?e:N:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new L(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const F=[];var q;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(q||(q={}));const B={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},j=q.INFO,U={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},V=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=U[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];console[i]("[".concat(n,"]  ").concat(e.name,":"),...o)};class H{constructor(e){this.name=e,this._logLevel=j,this._logHandler=V,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?B[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...t),this._logHandler(this,q.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...t),this._logHandler(this,q.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.INFO,...t),this._logHandler(this,q.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.WARN,...t),this._logHandler(this,q.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.ERROR,...t),this._logHandler(this,q.ERROR,...t)}}const W=(e,t)=>t.some((t=>e instanceof t));let G,K;const Q=new WeakMap,J=new WeakMap,Y=new WeakMap,$=new WeakMap,X=new WeakMap;let Z={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return J.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Y.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ne(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ee(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(ie(this),n),ne(Q.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ne(e.apply(ie(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const o=e.call(ie(this),t,...i);return Y.set(o,t.sort?t.sort():[t]),ne(o)}}function te(e){return"function"===typeof e?ee(e):(e instanceof IDBTransaction&&function(e){if(J.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)}));J.set(e,t)}(e),W(e,G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Z):e)}function ne(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(ne(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Q.set(t,e)})).catch((()=>{})),X.set(t,e),t}(e);if($.has(e))return $.get(e);const t=te(e);return t!==e&&($.set(e,t),X.set(t,e)),t}const ie=e=>X.get(e);const re=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],se=new Map;function ae(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(se.get(t))return se.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=oe.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!re.includes(n))return;const o=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return i&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),r&&t.done]))[0]};return se.set(t,o),o}Z=(e=>({...e,get:(t,n,i)=>ae(t,n)||e.get(t,n,i),has:(t,n)=>!!ae(t,n)||e.has(t,n)}))(Z);class ce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const le="@firebase/app",ue="0.10.10",de=new H("@firebase/app"),he="@firebase/app-compat",pe="@firebase/analytics-compat",fe="@firebase/analytics",ge="@firebase/app-check-compat",me="@firebase/app-check",ve="@firebase/auth",ye="@firebase/auth-compat",Se="@firebase/database",Ce="@firebase/database-compat",be="@firebase/functions",we="@firebase/functions-compat",Ee="@firebase/installations",Pe="@firebase/installations-compat",Ie="@firebase/messaging",Ae="@firebase/messaging-compat",Te="@firebase/performance",ke="@firebase/performance-compat",Re="@firebase/remote-config",_e="@firebase/remote-config-compat",De="@firebase/storage",xe="@firebase/storage-compat",Me="@firebase/firestore",Oe="@firebase/vertexai-preview",Ne="@firebase/firestore-compat",Le="firebase",ze="[DEFAULT]",Fe={[le]:"fire-core",[he]:"fire-core-compat",[fe]:"fire-analytics",[pe]:"fire-analytics-compat",[me]:"fire-app-check",[ge]:"fire-app-check-compat",[ve]:"fire-auth",[ye]:"fire-auth-compat",[Se]:"fire-rtdb",[Ce]:"fire-rtdb-compat",[be]:"fire-fn",[we]:"fire-fn-compat",[Ee]:"fire-iid",[Pe]:"fire-iid-compat",[Ie]:"fire-fcm",[Ae]:"fire-fcm-compat",[Te]:"fire-perf",[ke]:"fire-perf-compat",[Re]:"fire-rc",[_e]:"fire-rc-compat",[De]:"fire-gcs",[xe]:"fire-gcs-compat",[Me]:"fire-fst",[Ne]:"fire-fst-compat",[Oe]:"fire-vertex","fire-js":"fire-js",[Le]:"fire-js-all"},qe=new Map,Be=new Map,je=new Map;function Ue(e,t){try{e.container.addComponent(t)}catch(n){de.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ve(e){const t=e.name;if(je.has(t))return de.debug("There were multiple attempts to register component ".concat(t,".")),!1;je.set(t,e);for(const n of qe.values())Ue(n,e);for(const n of Be.values())Ue(n,e);return!0}function He(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function We(e){return void 0!==e.settings}const Ge=new P("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ke{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new O("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ge.create("app-deleted",{appName:this._name})}}const Qe="10.13.1";function Je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:ze,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw Ge.create("bad-app-name",{appName:String(r)});if(n||(n=v()),!n)throw Ge.create("no-options");const o=qe.get(r);if(o){if(A(n,o.options)&&A(i,o.config))return o;throw Ge.create("duplicate-app",{appName:r})}const s=new z(r);for(const c of je.values())s.addComponent(c);const a=new Ke(n,i,s);return qe.set(r,a),a}function Ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;const t=qe.get(e);if(!t&&e===ze&&v())return Je();if(!t)throw Ge.create("no-app",{appName:e});return t}function $e(e,t,n){var i;let r=null!==(i=Fe[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void de.warn(e.join(" "))}Ve(new O("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}const Xe="firebase-heartbeat-database",Ze=1,et="firebase-heartbeat-store";let tt=null;function nt(){return tt||(tt=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ne(s);return i&&s.addEventListener("upgradeneeded",(e=>{i(ne(s.result),e.oldVersion,e.newVersion,ne(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Xe,Ze,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(et)}catch(n){console.warn(n)}}}).catch((e=>{throw Ge.create("idb-open",{originalErrorMessage:e.message})}))),tt}async function it(e,t){try{const n=(await nt()).transaction(et,"readwrite"),i=n.objectStore(et);await i.put(t,rt(e)),await n.done}catch(n){if(n instanceof E)de.warn(n.message);else{const e=Ge.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});de.warn(e.message)}}}function rt(e){return"".concat(e.name,"!").concat(e.options.appId)}class ot{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new at(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=st();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return;return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){de.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=st(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),ct(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ct(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return de.warn(t),""}}}function st(){return(new Date).toISOString().substring(0,10)}class at{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!w()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(Xm){t(Xm)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await nt()).transaction(et),n=await t.objectStore(et).get(rt(e));return await t.done,n}catch(t){if(t instanceof E)de.warn(t.message);else{const e=Ge.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});de.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return it(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return it(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ct(e){return h(JSON.stringify({version:2,heartbeats:e})).length}var lt;lt="",Ve(new O("platform-logger",(e=>new ce(e)),"PRIVATE")),Ve(new O("heartbeat",(e=>new ot(e)),"PRIVATE")),$e(le,ue,lt),$e(le,ue,"esm2017"),$e("fire-js","");$e("firebase","10.13.1","app");function ut(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ht=dt,pt=new P("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ft=new H("@firebase/auth");function gt(e){if(ft.logLevel<=q.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];ft.error("Auth (".concat(Qe,"): ").concat(e),...n)}}function mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw bt(e,...n)}function vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return bt(e,...n)}function yt(e,t,n){const i=Object.assign(Object.assign({},ht()),{[t]:n});return new P("auth","Firebase",i).create(t,{appName:e.name})}function St(e){return yt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ct(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&mt(e,"argument-error"),yt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return pt.create(e,...n)}function wt(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw bt(t,...i)}}function Et(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gt(t),new Error(t)}function Pt(e,t){e||Et(t)}function It(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function At(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function kt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(At()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(C())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return kt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _t(e,t){Pt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Dt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mt=new Rt(3e4,6e4);function Ot(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Nt(e,t,n,i){return Lt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});const s=k(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Dt.fetch()(Ft(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))}))}async function Lt(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},xt),t);try{const t=new Bt(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw jt(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw jt(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw jt(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw jt(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw yt(e,a,s);mt(e,a)}}catch(r){if(r instanceof E)throw r;mt(e,"network-request-failed",{message:String(r)})}}async function zt(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Nt(e,t,n,i,r);return"mfaPendingCredential"in o&&mt(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Ft(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i);return e.config.emulator?_t(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}function qt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(vt(this.auth,"network-request-failed"))),Mt.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function jt(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=vt(e,t,i);return r.customData._tokenResponse=n,r}function Ut(e){return void 0!==e&&void 0!==e.enterprise}class Vt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ht(e,t){return Nt(e,"GET","/v2/recaptchaConfig",Ot(e,t))}async function Wt(e,t){return Nt(e,"POST","/v1/accounts:lookup",t)}function Gt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Kt(e){return 1e3*Number(e)}function Qt(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const e=p(n);return e?JSON.parse(e):(gt("Failed to decode base64 JWT payload"),null)}catch(r){return gt("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}function Jt(e){const t=Qt(e);return wt(t,"internal-error"),wt("undefined"!==typeof t.exp,"internal-error"),wt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Yt(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof E&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class $t{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Xt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gt(this.lastLoginAt),this.creationTime=Gt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zt(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Yt(e,Wt(n,{idToken:i}));wt(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?en(o.providerUserInfo):[],a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xt(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function en(e){return e.map((e=>{var{providerId:t}=e,n=ut(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class tn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wt(e.idToken,"internal-error"),wt("undefined"!==typeof e.idToken,"internal-error"),wt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Jt(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){wt(0!==e.length,"internal-error");const t=Jt(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await Lt(e,{},(async()=>{const n=k({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=Ft(e,i,"/v1/token","key=".concat(r)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Dt.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,o=new tn;return n&&(wt("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),i&&(wt("string"===typeof i,"internal-error",{appName:e}),o.accessToken=i),r&&(wt("number"===typeof r,"internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tn,this.toJSON())}_performRefresh(){return Et("not implemented")}}function nn(e,t){wt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class rn{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=ut(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $t(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Xt(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Yt(this,this.stsTokenManager.getToken(this.auth,e));return wt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=M(e),i=await n.getIdToken(t),r=Qt(i);wt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o="object"===typeof r.firebase?r.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Gt(Kt(r.auth_time)),issuedAtTime:Gt(Kt(r.iat)),expirationTime:Gt(Kt(r.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=M(e);await Zt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Zt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(We(this.auth.app))return Promise.reject(St(this.auth));const e=await this.getIdToken();return await Yt(this,async function(e,t){return Nt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:S,isAnonymous:C,providerData:b,stsTokenManager:w}=t;wt(y&&w,e,"internal-error");const E=tn.fromJSON(this.name,w);wt("string"===typeof y,e,"internal-error"),nn(u,e.name),nn(d,e.name),wt("boolean"===typeof S,e,"internal-error"),wt("boolean"===typeof C,e,"internal-error"),nn(h,e.name),nn(p,e.name),nn(f,e.name),nn(g,e.name),nn(m,e.name),nn(v,e.name);const P=new rn({uid:y,auth:e,email:d,emailVerified:S,displayName:u,isAnonymous:C,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:E,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(P.providerData=b.map((e=>Object.assign({},e)))),g&&(P._redirectEventId=g),P}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new tn;i.updateFromServerResponse(t);const r=new rn({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Zt(r),r}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];wt(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?en(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length),s=new tn;s.updateFromIdToken(n);const a=new rn({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Xt(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(a,c),a}}const on=new Map;function sn(e){Pt(e instanceof Function,"Expected a class definition");let t=on.get(e);return t?(Pt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,on.set(e,t),t)}class an{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}an.type="NONE";const cn=an;function ln(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class un{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=ln(this.userKey,i.apiKey,r),this.fullPersistenceKey=ln("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new un(sn(cn),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||sn(cn);const o=ln(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=rn._fromJSON(e,t);c!==r&&(s=n),r=c;break}}catch(Df){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(o)}catch(Df){}}))),new un(r,e,n)):new un(r,e,n)}}function dn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vn(t))return"Blackberry";if(yn(t))return"Webos";if(pn(t))return"Safari";if((t.includes("chrome/")||fn(t))&&!t.includes("edge/"))return"Chrome";if(mn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/firefox\//i.test(e)}function pn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:C()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/crios\//i.test(e)}function gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/iemobile/i.test(e)}function mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/android/i.test(e)}function vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/blackberry/i.test(e)}function yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/webos/i.test(e)}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Cn(){return function(){const e=C();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return Sn(e)||mn(e)||yn(e)||vn(e)||/windows phone/i.test(e)||gn(e)}function wn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=dn(C());break;case"Worker":t="".concat(dn(C()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qe,"/").concat(i)}class En{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Pn{constructor(e){var t,n,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,r,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class In{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tn(this),this.idTokenSubscription=new Tn(this),this.beforeStateQueue=new En(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sn(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await un.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Wt(this,{idToken:e}),n=await rn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(We(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(i=s.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zt(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(We(this.app))return Promise.reject(St(this));const t=e?M(e):null;return t&&wt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return We(this.app)?Promise.reject(St(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return We(this.app)?Promise.reject(St(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(sn(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Nt(e,"GET","/v2/passwordPolicy",Ot(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Pn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new P("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Nt(e,"POST","/v2/accounts:revokeToken",Ot(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sn(e)||this._popupRedirectResolver;wt(t,this,"argument-error"),this.redirectPersistenceManager=await un.create(this,[sn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(s,this,"internal-error"),s.then((()=>{o||r(this.currentUser)})),"function"===typeof t){const r=e.addObserver(t,n,i);return()=>{o=!0,r()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ft.logLevel<=q.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];ft.warn("Auth (".concat(Qe,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function An(e){return M(e)}class Tn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new D(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rn(e){return kn.loadJS(e)}function _n(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Dn{constructor(e){this.type="recaptcha-enterprise",this.auth=An(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;Ut(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ht(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new Vt(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&Ut(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=kn.recaptchaEnterpriseScript;0!==t.length&&(t+=r),Rn(t).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function xn(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new Dn(e);let o;try{o=await r.verify(n)}catch(Xm){o=await r.verify(n,!0)}const s=Object.assign({},t);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Mn(e,t,n,i){var r;if(null===(r=e._getRecaptchaConfig())||void 0===r?void 0:r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await xn(e,t,n,"getOobCode"===n);return i(e,r)}return i(e,t).catch((async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await xn(e,t,n,"getOobCode"===n);return i(e,r)}return Promise.reject(r)}))}function On(e,t,n){const i=An(e);wt(i._canInitEmulator,i,"emulator-config-failed"),wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Nn(t),{host:s,port:a}=function(e){const t=Nn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Ln(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Ln(t)}}}(t),c=null===a?"":":".concat(a);i.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Nn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ln(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class zn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Et("not implemented")}_getIdTokenResponse(e){return Et("not implemented")}_linkToIdToken(e,t){return Et("not implemented")}_getReauthenticationResolver(e){return Et("not implemented")}}async function Fn(e,t){return Nt(e,"POST","/v1/accounts:signUp",t)}async function qn(e,t){return zt(e,"POST","/v1/accounts:signInWithPassword",Ot(e,t))}async function Bn(e,t){return Nt(e,"POST","/v1/accounts:sendOobCode",Ot(e,t))}async function jn(e,t){return Bn(e,t)}class Un extends zn{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Un(e,t,"password")}static _fromEmailAndCode(e,t){return new Un(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Mn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qn);case"emailLink":return async function(e,t){return zt(e,"POST","/v1/accounts:signInWithEmailLink",Ot(e,t))}(e,{email:this._email,oobCode:this._password});default:mt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Mn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fn);case"emailLink":return async function(e,t){return zt(e,"POST","/v1/accounts:signInWithEmailLink",Ot(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:mt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Vn(e,t){return zt(e,"POST","/v1/accounts:signInWithIdp",Ot(e,t))}class Hn extends zn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=ut(t,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Hn(n,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){return Vn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Vn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=k(t)}return e}}const Wn={USER_NOT_FOUND:"user-not-found"};class Gn extends zn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Gn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Gn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return zt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ot(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await zt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ot(e,t));if(n.temporaryProof)throw jt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return zt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ot(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Wn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Gn({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Kn{constructor(e){var t,n,i,r,o,s;const a=R(_(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);wt(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=R(_(e)).link,n=t?R(_(t)).deep_link_id:null,i=R(_(e)).deep_link_id;return(i?R(_(i)).link:null)||i||n||t||e}(e);try{return new Kn(t)}catch(Df){return null}}}class Qn{constructor(){this.providerId=Qn.PROVIDER_ID}static credential(e,t){return Un._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kn.parseLink(t);return wt(n,"argument-error"),Un._fromEmailAndCode(e,n.code,n.tenantId)}}Qn.PROVIDER_ID="password",Qn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Jn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yn extends Jn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $n extends Yn{constructor(){super("facebook.com")}static credential(e){return Hn._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $n.credential(t.oauthAccessToken)}catch(Df){return null}}}$n.FACEBOOK_SIGN_IN_METHOD="facebook.com",$n.PROVIDER_ID="facebook.com";class Xn extends Yn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hn._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Xn.credential(n,i)}catch(Df){return null}}}Xn.GOOGLE_SIGN_IN_METHOD="google.com",Xn.PROVIDER_ID="google.com";class Zn extends Yn{constructor(){super("github.com")}static credential(e){return Hn._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zn.credential(t.oauthAccessToken)}catch(Df){return null}}}Zn.GITHUB_SIGN_IN_METHOD="github.com",Zn.PROVIDER_ID="github.com";class ei extends Yn{constructor(){super("twitter.com")}static credential(e,t){return Hn._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ei.credential(n,i)}catch(Df){return null}}}async function ti(e,t){return zt(e,"POST","/v1/accounts:signUp",Ot(e,t))}ei.TWITTER_SIGN_IN_METHOD="twitter.com",ei.PROVIDER_ID="twitter.com";class ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await rn._fromIdTokenResponse(e,n,i),o=ii(n);return new ni({user:r,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=ii(n);return new ni({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function ii(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ri extends E{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ri.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new ri(e,t,n,i)}}function oi(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ri._fromErrorAndOperation(e,n,t,i);throw n}))}async function si(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await Yt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ni._forOperation(e,"link",i)}async function ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if(We(i.app))return Promise.reject(St(i));const r="reauthenticate";try{const o=await Yt(e,oi(i,r,t,e),n);wt(o.idToken,i,"internal-error");const s=Qt(o.idToken);wt(s,i,"internal-error");const{sub:a}=s;return wt(e.uid===a,i,"user-mismatch"),ni._forOperation(e,r,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&mt(i,"user-mismatch"),o}}async function ci(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(We(e.app))return Promise.reject(St(e));const i="signIn",r=await oi(e,i,t),o=await ni._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}async function li(e,t){return ci(An(e),t)}function ui(e,t,n){var i;wt((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),wt("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(wt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(wt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function di(e){const t=An(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function hi(e,t){const n=M(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ui(n.auth,i,t);const{email:r}=await async function(e,t){return Bn(e,t)}(n.auth,i);r!==e.email&&await e.reload()}function pi(e,t,n,i){return M(e).onAuthStateChanged(t,n,i)}new WeakMap;const fi="__sak";class gi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fi,"1"),this.storage.removeItem(fi),Promise.resolve(!0)):Promise.resolve(!1)}catch(Df){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class mi extends gi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Cn()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mi.type="LOCAL";const vi=mi;class yi extends gi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yi.type="SESSION";const Si=yi;class Ci{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ci(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,o=this.handlersMap[i];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Ci.receivers=[];class wi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise(((s,a)=>{const c=bi("",20);i.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),s(t.data.response);break;default:clearTimeout(l),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Ei(){return window}function Pi(){return"undefined"!==typeof Ei().WorkerGlobalScope&&"function"===typeof Ei().importScripts}const Ii="firebaseLocalStorageDb",Ai="firebaseLocalStorage",Ti="fbase_key";class ki{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ri(e,t){return e.transaction([Ai],t?"readwrite":"readonly").objectStore(Ai)}function _i(){const e=indexedDB.open(Ii,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ai,{keyPath:Ti})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ai)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ii);return new ki(e).toPromise()}(),t(await _i()))}))}))}async function Di(e,t,n){const i=Ri(e,!0).put({[Ti]:t,value:n});return new ki(i).toPromise()}function xi(e,t){const n=Ri(e,!0).delete(t);return new ki(n).toPromise()}class Mi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _i()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ci._getInstance(Pi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new wi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Df){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _i();return await Di(e,fi,"1"),await xi(e,fi),!0}catch(Df){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Di(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ri(e,!1).get(t),i=await new ki(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>xi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ri(e,!1).getAll();return new ki(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Mi.type="LOCAL";const Oi=Mi;_n("rcb"),new Rt(3e4,6e4);const Ni="recaptcha";async function Li(e,t,n){var i;const r=await n.verify();try{let o;if(wt("string"===typeof r,e,"argument-error"),wt(n.type===Ni,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){wt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Nt(e,"POST","/v2/accounts/mfaEnrollment:start",Ot(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{wt("signin"===t.type,e,"internal-error");const n=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid;wt(n,e,"missing-multi-factor-info");const s=await function(e,t){return Nt(e,"POST","/v2/accounts/mfaSignIn:start",Ot(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Nt(e,"POST","/v1/accounts:sendVerificationCode",Ot(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class zi{constructor(e){this.providerId=zi.PROVIDER_ID,this.auth=An(e)}verifyPhoneNumber(e,t){return Li(this.auth,e,M(t))}static credential(e,t){return Gn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return zi.credentialFromTaggedObject(t)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?Gn._fromTokenResponse(n,i):null}}function Fi(e,t){return t?sn(t):(wt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zi.PROVIDER_ID="phone",zi.PHONE_SIGN_IN_METHOD="phone";class qi extends zn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bi(e){return ci(e.auth,new qi(e),e.bypassAuthState)}function ji(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),ai(n,new qi(e),e.bypassAuthState)}async function Ui(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),si(n,new qi(e),e.bypassAuthState)}class Vi{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bi;case"linkViaPopup":case"linkViaRedirect":return Ui;case"reauthViaPopup":case"reauthViaRedirect":return ji;default:mt(this.auth,"internal-error")}}resolve(e){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hi=new Rt(2e3,1e4);class Wi extends Vi{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Wi.currentPopupAction&&Wi.currentPopupAction.cancel(),Wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wt(e,this.auth,"internal-error"),e}async onExecution(){Pt(1===this.filter.length,"Popup operations only handle one event");const e=bi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(vt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(vt(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Hi.get())};e()}}Wi.currentPopupAction=null;const Gi="pendingRedirect",Ki=new Map;class Qi extends Vi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ki.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=$i(t),i=Yi(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ki.set(this.auth._key(),e)}return this.bypassAuthState||Ki.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ji(e,t){Ki.set(e._key(),t)}function Yi(e){return sn(e._redirectPersistence)}function $i(e){return ln(Gi,e.config.apiKey,e.name)}async function Xi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(We(e.app))return Promise.reject(St(e));const i=An(e),r=Fi(i,t),o=new Qi(i,r,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}class Zi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tr(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vt(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(er(e))}saveEventToCache(e){this.cachedEventUids.add(er(e)),this.lastProcessedEventTime=Date.now()}}function er(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function tr(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const nr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^https?/;async function rr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Nt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(or(n))return}catch(Df){}mt(e,"unauthorized-domain")}function or(e){const t=It(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!ir.test(n))return!1;if(nr.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const sr=new Rt(3e4,6e4);function ar(){const e=Ei().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function cr(e){return new Promise(((t,n)=>{var i,r,o;function s(){ar(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ar(),n(vt(e,"network-request-failed"))},timeout:sr.get()})}if(null===(r=null===(i=Ei().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ei().gapi)||void 0===o?void 0:o.load)){const t=_n("iframefcb");return Ei()[t]=()=>{gapi.load?s():n(vt(e,"network-request-failed"))},Rn("".concat(kn.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw lr=null,e}))}let lr=null;const ur=new Rt(5e3,15e3),dr="__/auth/iframe",hr="emulator/auth/iframe",pr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gr(e){const t=e.config;wt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_t(t,hr):"https://".concat(e.config.authDomain,"/").concat(dr),i={apiKey:t.apiKey,appName:e.name,v:Qe},r=fr.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),"".concat(n,"?").concat(k(i).slice(1))}async function mr(e){const t=await function(e){return lr=lr||cr(e),lr}(e),n=Ei().gapi;return wt(n,e,"internal-error"),t.open({where:document.body,url:gr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pr,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=vt(e,"network-request-failed"),o=Ei().setTimeout((()=>{i(r)}),ur.get());function s(){Ei().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{i(r)}))}))))}const vr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Sr(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},vr),{width:i.toString(),height:r.toString(),top:o,left:s}),l=C().toLowerCase();n&&(a=fn(l)?"_blank":n),hn(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return Sn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:C())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new yr(null);const d=window.open(t||"",a,u);wt(d,e,"popup-blocked");try{d.focus()}catch(h){}return new yr(d)}const Cr="__/auth/handler",br="emulator/auth/handler",wr=encodeURIComponent("fac");async function Er(e,t,n,i,r,o){wt(e.config.authDomain,e,"auth-domain-config-required"),wt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Qe,eventId:r};if(t instanceof Jn){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Yn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(wr,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Cr);return _t(t,br)}(e),"?").concat(k(a).slice(1)).concat(l)}const Pr="webStorageSupport";const Ir=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Si,this._completeRedirectFn=Xi,this._overrideRedirectResult=Ji}async _openPopup(e,t,n,i){var r;Pt(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Sr(e,await Er(e,t,n,It(),i),bi())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){Ei().location.href=e}(await Er(e,t,n,It(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Pt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await mr(e),n=new Zi(e);return t.register("authEvent",(t=>{wt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pr,{type:Pr},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[Pr];void 0!==r&&t(!!r),mt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bn()||pn()||Sn()}};var Ar="@firebase/auth",Tr="1.7.8";class kr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rr=y("authIdTokenMaxAge")||300;let _r=null;var Dr,xr;Dr={loadJS:e=>new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=vt("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},kn=Dr,xr="Browser",Ve(new O("auth",((e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;wt(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:xr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wn(xr)},l=new In(i,r,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(sn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ve(new O("auth-internal",(e=>(e=>new kr(e))(An(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),$e(Ar,Tr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(xr)),$e(Ar,Tr,"esm2017");var Mr,Or,Nr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Lr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var i=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var o=e.g[3],s=t+(o^n&(r^o))+i[0]+3614090360&4294967295;s=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(n|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~n))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(n|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~n))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(n|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~n))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(r^(n|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~n))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+o&4294967295}function i(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var o=0|e[r];i&&o==t||(n[r]=o,i=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var i=t-this.blockSize,r=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=i;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,r),o=0;break}}else for(;s<t;)if(r[o++]=e[s++],o==this.blockSize){n(this,r),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var r={};function o(e){return-128<=e&&128>e?function(e,t){var n=r;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new i([0|e],0>e?-1:0)})):new i([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var a=o(0),c=o(1),l=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(c)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,i=t;0>=i.l(e);)n=v(n),i=v(i);var r=y(n,1),o=y(i,1);for(i=y(i,2),n=y(n,2);!u(i);){var l=o.add(i);0>=l.l(e)&&(r=r.add(n),o=l),i=y(i,1),n=y(n,1)}return t=p(e,r.j(t)),new g(r,t)}for(r=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),l=(o=s(n)).j(t);d(l)||0<l.l(e);)l=(o=s(n-=i)).j(t);u(o)&&(o=c),r=r.add(o),e=p(e,l)}return new g(r,e)}function v(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,o=[],s=0;s<r;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new i(o,e.h)}(e=i.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.i(n);e+=(0<=i?i:4294967296+i)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,i="";;){var r=m(n,t).g,o=((0<(n=p(n,r.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,o=0;o<=t;o++){var s=r+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);r=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(l)&&0>e.l(l))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<e.g.length;o++){var c=this.i(r)>>>16,p=65535&this.i(r),g=e.i(o)>>>16,m=65535&e.i(o);n[2*r+2*o]+=p*m,f(n,2*r+2*o),n[2*r+2*o+1]+=c*m,f(n,2*r+2*o+1),n[2*r+2*o+1]+=p*g,f(n,2*r+2*o+1),n[2*r+2*o+2]+=c*g,f(n,2*r+2*o+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Or=Lr.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=s,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=s(Math.pow(n,8)),r=a,o=0;o<t.length;o+=8){var c=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+c),n);8>c?(c=s(Math.pow(n,c)),r=r.j(c).add(s(l))):r=(r=r.j(i)).add(s(l))}return r},Mr=Lr.Integer=i}).apply("undefined"!==typeof Nr?Nr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var zr,Fr,qr,Br,jr,Ur,Vr,Hr,Wr,Gr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Kr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Gr&&Gr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,i){if(i)e:{var r=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in r))break e;r=r[s]}(i=i(o=r[e=e[e.length-1]]))!=o&&null!=i&&t(r,e,{configurable:!0,writable:!0,value:i})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return t}))}}));var i=i||{},r=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function l(e,t,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function S(e){const t={};for(const n in e)t[n]=e[n];return t}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<C.length;t++)n=C[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function w(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){r.setTimeout((()=>{throw e}),0)}function P(){var e=R;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var I=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new A),(e=>e.reset()));class A{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,k=!1,R=new class{constructor(){this.h=this.g=null}add(e,t){const n=I.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},_=()=>{const e=r.Promise.resolve(void 0);T=()=>{e.then(D)}};var D=()=>{for(var e;e=P();){try{e.h.call(e.g)}catch(n){E(n)}var t=I;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}k=!1};function x(){this.s=this.s,this.C=this.C}function M(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.s=!1,x.prototype.ma=function(){this.s||(this.s=!0,this.N())},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(n){}return e}();function N(e,t){if(M.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&N.aa.h.call(this)}}d(N,M);var L={2:"touch",3:"pen",4:"mouse"};N.prototype.h=function(){N.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),F=0;function q(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++F,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],o=Array.prototype.indexOf.call(r,t,void 0);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==i)return r}return-1}j.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=V(e,t,i,r);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new q(t,this.src,o,!!i,r)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function G(e,t,n,i,r){if(i&&i.once)return Q(e,t,n,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,i,r);return null}return n=te(n),e&&e[z]?e.K(t,n,s(i)?!!i.capture:!!i,r):K(e,t,n,!1,i,r)}function K(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=s(r)?!!r.capture:!!r,c=Z(e);if(c||(e[H]=c=new j(e)),(n=c.add(t,n,i,a,o)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)O||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent($(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function Q(e,t,n,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,i,r);return null}return n=te(n),e&&e[z]?e.L(t,n,s(i)?!!i.capture:!!i,r):K(e,t,n,!0,i,r)}function J(e,t,n,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)J(e,t[o],n,i,r);else i=s(i)?!!i.capture:!!i,n=te(n),e&&e[z]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(o=e.g[t],n,i,r))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,i,r)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[z])U(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent($(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Z(t))?(U(n,e),0==n.h&&(n.src=null,t[H]=null)):B(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new N(t,this);var n=e.listener,i=e.ha||e.src;e.fa&&Y(e),e=n.call(i,t)}return e}function Z(e){return(e=e[H])instanceof j?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){x.call(this),this.i=new j(this),this.M=this,this.F=null}function ie(e,t){var n,i=e.F;if(i)for(n=[];i;i=i.F)n.push(i);if(e=e.M,i=t.type||t,"string"===typeof t)t=new M(t,e);else if(t instanceof M)t.target=t.target||e;else{var r=t;b(t=new M(i,e),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];r=re(s,i,!0,t)&&r}if(r=re(s=t.g=e,i,!0,t)&&r,r=re(s,i,!1,t)&&r,n)for(o=0;o<n.length;o++)r=re(s=t.g=n[o],i,!1,t)&&r}function re(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,c=s.ha||s.src;s.fa&&U(e.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,x),ne.prototype[z]=!0,ne.prototype.removeEventListener=function(e,t,n,i){J(this,e,t,n,i)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)B(n[i]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},ne.prototype.L=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};class ae extends x{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(e){x.call(this),this.h=e,this.g={}}d(ce,x);var le=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}ce.prototype.N=function(){ce.aa.N.call(this),ue(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=r.JSON.stringify,he=r.JSON.parse,pe=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function fe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){M.call(this,"d")}function Se(){M.call(this,"c")}d(ye,M),d(Se,M);var Ce={},be=null;function we(){return be=be||new ne}function Ee(e){M.call(this,Ce.La,e)}function Pe(e){const t=we();ie(t,new Ee(t))}function Ie(e,t){M.call(this,Ce.STAT_EVENT,e),this.stat=t}function Ae(e){const t=we();ie(t,new Ie(t,e))}function Te(e,t){M.call(this,Ce.Ma,e),this.size=t}function ke(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout((function(){e()}),t)}function Re(){this.g=!0}function _e(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(i?" "+i:"")}))}Ce.La="serverreachability",d(Ee,M),Ce.STAT_EVENT="statevent",d(Ie,M),Ce.Ma="timingevent",d(Te,M),Re.prototype.xa=function(){this.g=!1},Re.prototype.info=function(){};var De,xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Ne(e,t,n,i){this.j=e,this.i=t,this.l=n,this.R=i||1,this.U=new ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Oe,fe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},De=new Oe;var ze={},Fe={};function qe(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),Ve(e),e.A=st(e.v);var n=e.A,i=e.R;Array.isArray(i)||(i=[String(i)]),It(n.i,"t",i),e.C=0,n=e.j.J,e.h=new Le,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(l(e.Y,e,e.g),e.O)),t=e.U,n=e.g,i=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(le[0]=r.toString()),r=le);for(var o=0;o<r.length;o++){var s=G(n,r[o],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?S(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Pe(),function(e,t,n,i,r,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Fe:(n=Number(t.substring(n,i)),isNaN(n)?ze:(i+=1)+n>t.length?Fe:(t=t.slice(i,i+n),e.C=i+n,t))}function Ve(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ke(l(e.ba,e),t)}function We(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||cn(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var i=n.Da.g.parse(t)}catch(u){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}rn(n),Ae(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=ke(l(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!f(t))for(r=n.Da.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.K=l[1],n.ia=l[2];const t=l[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const r=l[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=i.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(i.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.ya=e,ut(i.I,i.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((i=n).qa=hn(i,i.J?i.ia:null,i.W),s.K){tt(i.h,s);var a=s,c=i.L;c&&(a.I=c),a.B&&(We(a),Ve(a)),i.g=s}else nn(i);0<n.i.length&&Xt(n)}else"stop"!=l[0]&&"close"!=l[0]||un(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?un(n,7):Jt(n):"noop"!=l[0]&&n.l&&n.l.ta(l),n.v=0)}Pe()}catch(u){}}Ne.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Ne.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||Pe(),We(this);var n=this.g.Z();this.X=n;t:if(je(this)){var i=Gt(this.g);e="";var o=i.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var a="";break t}this.h.i=new r.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:!(s&&t==o-1)});i.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,i,r,o,s){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(c)){var u=c;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ae(12),Ke(this),Ge(this);break e}_e(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ue(this,a),e==Fe){4==h&&(this.s=4,Ae(14),n=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}if(e==ze){this.s=4,Ae(15),_e(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}_e(this.i,this.l,e,null),Qe(this,e)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ae(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(d),d.M=!0,Ae(11))}}else _e(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else _e(this.i,this.l,a,null),Qe(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?cn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(f(e[i]))continue;var n=w(e[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[r]||[];t[r]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),Ke(this),Ge(this)}}}catch(h){}},Ne.prototype.cancel=function(){this.J=!0,Ke(this)},Ne.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Pe(),Ae(17)),Ke(this),this.s=2,Ge(this)):He(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function it(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,ct(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),lt(this,n),this.m=e.m}else e&&(t=String(e).match(rt))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),ct(this,t[4]),this.l=ht(t[5]||"",!0),lt(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ct(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function lt(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),It(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,St)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,Ct)),e.join("")};var gt,mt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,St=/[#\?@]/g,Ct=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){wt(e),t=At(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Pt(e,t){return wt(e),t=At(e,t),e.g.has(t)}function It(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(At(e,t),h(n)),e.h+=n.length)}function At(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(o){}}function kt(){this.g=new pe}function Rt(e,t,n){const i=n||"";try{it(e,(function(e,n){let r=e;s(e)&&(r=de(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function _t(e){this.l=e.Ub||null,this.j=e.eb||!1}function Dt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function xt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Mt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Nt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function zt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){wt(this),this.i=null,e=At(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)Pt(this,e)&&(t=t.concat(this.g.get(At(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,Pt(this,e=At(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const o=encodeURIComponent(String(i)),s=this.V(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),e.push(r)}}return this.i=e.join("&")},d(_t,fe),_t.prototype.g=function(){return new Dt(this.l,this.j)},_t.prototype.i=(gt={},function(){return gt}),d(Dt,ne),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mt(this):Ot(this),3==this.readyState&&xt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Mt(this))},e.Qa=function(e){this.g&&(this.response=e,Mt(this))},e.ga=function(){this.g&&Mt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(zt,ne);var Ft=/^https?$/i,qt=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,jt(e),Vt(e)}function jt(e){e.A||(e.A=!0,ie(e,"complete"),ie(e,"error"))}function Ut(e){if(e.h&&"undefined"!=typeof i&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))oe(e.Ea,0,e);else if(ie(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const i=e.Z();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===i){var s=String(e.D).match(rt)[1]||null;!s&&r.self&&r.self.location&&(s=r.self.location.protocol.slice(0,-1)),o=!Ft.test(s?s.toLowerCase():"")}n=o}if(n)ie(e,"complete"),ie(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(c){a=""}e.l=a+" ["+e.Z()+"]",jt(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){Ht(e);const i=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ie(e,"ready");try{i.onreadystatechange=r}catch(n){}}}function Ht(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Yr){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new kt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jt(e){if($t(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Ne(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(t.v.toString(),"")}catch(i){}!n&&r.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}dn(e)}function Yt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function $t(e){Yt(e),e.u&&(r.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&r.clearTimeout(e.s),e.s=null)}function Xt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||_(),k||(T(),k=!0),R.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const i=st(e.I);ut(i,"SID",e.K),ut(i,"RID",n),ut(i,"AID",e.T),en(e,i),e.m&&e.o&&Lt(i,e.m,e.o),n=new Ne(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),qe(n,i,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&it({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var i=e.l?l(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=r[a].g;const c=r[a].map;if(n-=t,0>n)t=Math.max(0,r[a].g-100),s=!1;else try{Rt(c,e,"req"+n+"_")}catch(o){i&&i(c)}}if(s){i=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,i}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||_(),k||(T(),k=!0),R.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=ke(l(e.Fa,e),ln(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Ne(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Be(n,e)}function an(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function cn(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var i=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),i=1}if(0!=e.G)if(t.o)if(1==i){n=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;ie(i=we(),new Te(i,n)),Xt(e)}else nn(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==i&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=ke(l(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==i&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.fb,e),i=e.Xa;const t=!i;i=new ot(i||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||at(i,"https"),dt(i),t?function(e,t){const n=new Re;if(r.Image){const i=new Image;i.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,i),i.onerror=u(Tt,n,"TestLoadImage: error",!1,t,i),i.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,i),i.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,i),r.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(i.toString(),n):function(e,t){new Re;const n=new AbortController,i=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(i),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(i),Tt(0,0,!1,t)}))}(i.toString(),n)}else Ae(2);e.G=0,e.l&&e.l.sa(t),dn(e),$t(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var i=n instanceof ot?st(n):new ot(n);if(""!=i.g)t&&(i.g=t+"."+i.g),ct(i,i.s);else{var o=r.location;i=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);i&&at(s,i),t&&(s.g=t),o&&ct(s,o),n&&(s.l=n),i=s}return n=e.D,t=e.ya,n&&t&&ut(i,n,t),ut(i,"VER",e.la),en(e,i),i}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new zt(new _t({eb:n})):new zt(e.pa)).Ha(e.J),t}function fn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){Se.call(this),this.status=1}function Sn(e){this.g=e}(e=zt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?ge(this.o):ge(De),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Bt(this,s)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)n.set(o,i[o]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(qt,t,void 0))||i||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,a]of n)this.g.setRequestHeader(r,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Bt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ie(this,"complete"),ie(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),zt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,i){Ae(0),this.W=e,this.H=t||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new Ne(this,this.j,e);let o=this.o;if(this.S&&(o?(o=S(o),b(o,this.S)):o=this.S),null!==this.m||this.O||(r.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,r,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Nt(o)))+"&"+t:this.m&&Lt(n,this.m,o)),et(this.h,r),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),r.T=!0,qe(r,n,null)):qe(r,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=ke(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Ae(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Jt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,mn.aa.N.call(this)},d(vn,ye),d(yn,Se),d(Sn,fn),Sn.prototype.ua=function(){ie(this.g,"a")},Sn.prototype.ta=function(e){ie(this.g,new vn(e))},Sn.prototype.sa=function(e){ie(this.g,new yn)},Sn.prototype.ra=function(){ie(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Wr=Kr.createWebChannelTransport=function(){return new gn},Hr=Kr.getStatEventTarget=function(){return we()},Vr=Kr.Event=Ce,Ur=Kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,jr=Kr.ErrorCode=xe,Me.COMPLETE="complete",Br=Kr.EventType=Me,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,qr=Kr.WebChannel=me,Fr=Kr.FetchXmlHttpFactory=_t,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,zr=Kr.XhrIo=zt}).apply("undefined"!==typeof Gr?Gr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Qr="@firebase/firestore";class Jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let Yr="10.13.1";const $r=new H("@firebase/firestore");function Xr(){return $r.logLevel}function Zr(e){if($r.logLevel<=q.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(no);$r.debug("Firestore (".concat(Yr,"): ").concat(e),...r)}}function eo(e){if($r.logLevel<=q.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(no);$r.error("Firestore (".concat(Yr,"): ").concat(e),...r)}}function to(e){if($r.logLevel<=q.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(no);$r.warn("Firestore (".concat(Yr,"): ").concat(e),...r)}}function no(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Yr,") INTERNAL ASSERTION FAILED: ")+e;throw eo(t),new Error(t)}function ro(e,t){e||io()}function oo(e,t){return e}const so={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ao extends E{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class co{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class lo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class uo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jr.UNAUTHENTICATED)))}shutdown(){}}class ho{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class po{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new co;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new co,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},s=e=>{Zr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Zr("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new co)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Zr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ro("string"==typeof t.accessToken),new lo(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ro(null===e||"string"==typeof e),new Jr(e)}}class fo{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class go{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new fo(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Jr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vo{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Zr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Zr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{Zr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?i(e):Zr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ro("string"==typeof e.token),this.R=e.token,new mo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class So{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=yo(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%62))}return n}}function Co(e,t){return e<t?-1:e>t?1:0}function bo(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}class wo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ao(so.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ao(so.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ao(so.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ao(so.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wo.fromMillis(Date.now())}static fromDate(e){return wo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new wo(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Co(this.nanoseconds,e.nanoseconds):Co(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Eo{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Eo(e)}static min(){return new Eo(new wo(0,0))}static max(){return new Eo(new wo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Po{constructor(e,t,n){void 0===t?t=0:t>e.length&&io(),void 0===n?n=e.length-t:n>e.length-t&&io(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Po.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Po?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Io extends Po{construct(e,t,n){return new Io(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new ao(so.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new Io(e)}static emptyPath(){return new Io([])}}const Ao=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class To extends Po{construct(e,t,n){return new To(e,t,n)}static isValidIdentifier(e){return Ao.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),To.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new To(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new ao(so.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new ao(so.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ao(so.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(o=!o,i++):"."!==t||o?(n+=t,i++):(r(),i++)}if(r(),o)throw new ao(so.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new To(t)}static emptyPath(){return new To([])}}class ko{constructor(e){this.path=e}static fromPath(e){return new ko(Io.fromString(e))}static fromName(e){return new ko(Io.fromString(e).popFirst(5))}static empty(){return new ko(Io.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Io.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Io.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ko(new Io(e.slice()))}}class Ro{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}Ro.UNKNOWN_ID=-1;function _o(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Eo.fromTimestamp(1e9===i?new wo(n+1,0):new wo(n,i));return new xo(r,ko.empty(),t)}function Do(e){return new xo(e.readTime,e.key,-1)}class xo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new xo(Eo.min(),ko.empty(),-1)}static max(){return new xo(Eo.max(),ko.empty(),-1)}}function Mo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ko.comparator(e.documentKey,t.documentKey),0!==n?n:Co(e.largestBatchId,t.largestBatchId))}const Oo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class No{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(e){if(e.code!==so.FAILED_PRECONDITION||e.message!==Oo)throw e;Zr("LocalStore","Unexpectedly lost primary lease")}class zo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&io(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new zo(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof zo?t:zo.resolve(t)}catch(e){return zo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):zo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):zo.reject(t)}static resolve(e){return new zo(((t,n)=>{t(e)}))}static reject(e){return new zo(((t,n)=>{n(e)}))}static waitFor(e){return new zo(((t,n)=>{let i=0,r=0,o=!1;e.forEach((e=>{++i,e.next((()=>{++r,o&&r===i&&t()}),(e=>n(e)))})),o=!0,r===i&&t()}))}static or(e){let t=zo.resolve(!1);for(const n of e)t=t.next((e=>e?zo.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new zo(((n,i)=>{const r=e.length,o=new Array(r);let s=0;for(let a=0;a<r;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===r&&n(o)}),(e=>i(e)))}}))}static doWhile(e,t){return new zo(((n,i)=>{const r=()=>{!0===e()?t().next((()=>{r()}),i):n()};r()}))}}function Fo(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(e){return"IndexedDbTransactionError"===e.name}class Bo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function jo(e){return null==e}function Uo(e){return 0===e&&1/e==-1/0}function Vo(e){return"number"==typeof e&&Number.isInteger(e)&&!Uo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Bo.oe=-1;const Ho=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Go=Wo,Ko=[...Go,"indexConfiguration","indexState","indexEntries"];function Qo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Jo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Yo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class $o{constructor(e,t){this.comparator=e,this.root=t||Zo.EMPTY}insert(e,t){return new $o(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zo.BLACK,null,null))}remove(e){return new $o(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xo(this.root,e,this.comparator,!0)}}class Xo{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zo{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Zo.RED,this.left=null!=i?i:Zo.EMPTY,this.right=null!=r?r:Zo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new Zo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Zo.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw io();if(this.right.isRed())throw io();const e=this.left.check();if(e!==this.right.check())throw io();return e+(this.isRed()?0:1)}}Zo.EMPTY=null,Zo.RED=!0,Zo.BLACK=!1,Zo.EMPTY=new class{constructor(){this.size=0}get key(){throw io()}get value(){throw io()}get color(){throw io()}get left(){throw io()}get right(){throw io()}copy(e,t,n,i,r){return this}insert(e,t,n){return new Zo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class es{constructor(e){this.comparator=e,this.data=new $o(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ts(this.data.getIterator())}getIteratorFrom(e){return new ts(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof es))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new es(this.comparator);return t.data=e,t}}class ts{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ns{constructor(e){this.fields=e,e.sort(To.comparator)}static empty(){return new ns([])}unionWith(e){let t=new es(To.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ns(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class is extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new is("Invalid base64 string: "+e):e}}(e);return new rs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new rs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Co(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(e){if(ro(!!e),"string"==typeof e){let t=0;const n=os.exec(e);if(ro(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:as(e.seconds),nanos:as(e.nanos)}}function as(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function cs(e){return"string"==typeof e?rs.fromBase64String(e):rs.fromUint8Array(e)}function ls(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function us(e){const t=e.mapValue.fields.__previous_value__;return ls(t)?us(t):t}function ds(e){const t=ss(e.mapValue.fields.__local_write_time__.timestampValue);return new wo(t.seconds,t.nanos)}class hs{constructor(e,t,n,i,r,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class ps{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ps("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ps&&e.projectId===this.projectId&&e.database===this.database}}const fs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ls(e)?4:Ds(e)?9007199254740991:Rs(e)?10:11:io()}function ms(e,t){if(e===t)return!0;const n=gs(e);if(n!==gs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ds(e).isEqual(ds(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ss(e.timestampValue),i=ss(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return cs(e.bytesValue).isEqual(cs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return as(e.geoPointValue.latitude)===as(t.geoPointValue.latitude)&&as(e.geoPointValue.longitude)===as(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return as(e.integerValue)===as(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=as(e.doubleValue),i=as(t.doubleValue);return n===i?Uo(n)===Uo(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return bo(e.arrayValue.values||[],t.arrayValue.values||[],ms);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(Qo(n)!==Qo(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!ms(n[r],i[r])))return!1;return!0}(e,t);default:return io()}}function vs(e,t){return void 0!==(e.values||[]).find((e=>ms(e,t)))}function ys(e,t){if(e===t)return 0;const n=gs(e),i=gs(t);if(n!==i)return Co(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Co(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=as(e.integerValue||e.doubleValue),i=as(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return Ss(e.timestampValue,t.timestampValue);case 4:return Ss(ds(e),ds(t));case 5:return Co(e.stringValue,t.stringValue);case 6:return function(e,t){const n=cs(e),i=cs(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=Co(n[r],i[r]);if(0!==e)return e}return Co(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Co(as(e.latitude),as(t.latitude));return 0!==n?n:Co(as(e.longitude),as(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Cs(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,i,r,o;const s=e.fields||{},a=t.fields||{},c=null===(n=s.value)||void 0===n?void 0:n.arrayValue,l=null===(i=a.value)||void 0===i?void 0:i.arrayValue,u=Co((null===(r=null==c?void 0:c.values)||void 0===r?void 0:r.length)||0,(null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Cs(c,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===fs.mapValue&&t===fs.mapValue)return 0;if(e===fs.mapValue)return 1;if(t===fs.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},o=Object.keys(r);i.sort(),o.sort();for(let s=0;s<i.length&&s<o.length;++s){const e=Co(i[s],o[s]);if(0!==e)return e;const t=ys(n[i[s]],r[o[s]]);if(0!==t)return t}return Co(i.length,o.length)}(e.mapValue,t.mapValue);default:throw io()}}function Ss(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Co(e,t);const n=ss(e),i=ss(t),r=Co(n.seconds,i.seconds);return 0!==r?r:Co(n.nanos,i.nanos)}function Cs(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=ys(n[r],i[r]);if(e)return e}return Co(n.length,i.length)}function bs(e){return ws(e)}function ws(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ss(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return cs(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ko.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=ws(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+="".concat(r,":").concat(ws(e.fields[r]));return n+"}"}(e.mapValue):io()}function Es(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ps(e){return!!e&&"integerValue"in e}function Is(e){return!!e&&"arrayValue"in e}function As(e){return!!e&&"nullValue"in e}function Ts(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ks(e){return!!e&&"mapValue"in e}function Rs(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _s(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Jo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=_s(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_s(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ds(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class xs{constructor(e){this.value=e}static empty(){return new xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ks(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_s(t)}setAll(e){let t=To.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=_s(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());ks(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];ks(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Jo(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new xs(_s(this.value))}}function Ms(e){const t=[];return Jo(e.fields,((e,n)=>{const i=new To([e]);if(ks(n)){const e=Ms(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new ns(t)}class Os{constructor(e,t,n,i,r,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Os(e,0,Eo.min(),Eo.min(),Eo.min(),xs.empty(),0)}static newFoundDocument(e,t,n,i){return new Os(e,1,t,Eo.min(),n,i,0)}static newNoDocument(e,t){return new Os(e,2,t,Eo.min(),Eo.min(),xs.empty(),0)}static newUnknownDocument(e,t){return new Os(e,3,t,Eo.min(),Eo.min(),xs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Eo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Eo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ns{constructor(e,t){this.position=e,this.inclusive=t}}function Ls(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const o=t[r],s=e.position[r];if(i=o.field.isKeyField()?ko.comparator(ko.fromName(s.referenceValue),n.key):ys(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function zs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ms(e.position[n],t.position[n]))return!1;return!0}class Fs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function qs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Bs{}class js extends Bs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Js(e,t,n):"array-contains"===t?new Zs(e,n):"in"===t?new ea(e,n):"not-in"===t?new ta(e,n):"array-contains-any"===t?new na(e,n):new js(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ys(e,n):new $s(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ys(t,this.value)):null!==t&&gs(this.value)===gs(t)&&this.matchesComparison(ys(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return io()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Us extends Bs{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Us(e,t)}matches(e){return Vs(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Vs(e){return"and"===e.op}function Hs(e){return Ws(e)&&Vs(e)}function Ws(e){for(const t of e.filters)if(t instanceof Us)return!1;return!0}function Gs(e){if(e instanceof js)return e.field.canonicalString()+e.op.toString()+bs(e.value);if(Hs(e))return e.filters.map((e=>Gs(e))).join(",");{const t=e.filters.map((e=>Gs(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ks(e,t){return e instanceof js?function(e,t){return t instanceof js&&e.op===t.op&&e.field.isEqual(t.field)&&ms(e.value,t.value)}(e,t):e instanceof Us?function(e,t){return t instanceof Us&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&Ks(n,t.filters[i])),!0)}(e,t):void io()}function Qs(e){return e instanceof js?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(bs(e.value))}(e):e instanceof Us?function(e){return e.op.toString()+" {"+e.getFilters().map(Qs).join(" ,")+"}"}(e):"Filter"}class Js extends js{constructor(e,t,n){super(e,t,n),this.key=ko.fromName(n.referenceValue)}matches(e){const t=ko.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ys extends js{constructor(e,t){super(e,"in",t),this.keys=Xs("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $s extends js{constructor(e,t){super(e,"not-in",t),this.keys=Xs("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Xs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ko.fromName(e.referenceValue)))}class Zs extends js{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Is(t)&&vs(t.arrayValue,this.value)}}class ea extends js{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vs(this.value.arrayValue,t)}}class ta extends js{constructor(e,t){super(e,"not-in",t)}matches(e){if(vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vs(this.value.arrayValue,t)}}class na extends js{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Is(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>vs(this.value.arrayValue,e)))}}class ia{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.ue=null}}function ra(e){return new ia(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function oa(e){const t=oo(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Gs(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),jo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>bs(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>bs(e))).join(",")),t.ue=e}return t.ue}function sa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ks(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zs(e.startAt,t.startAt)&&zs(e.endAt,t.endAt)}function aa(e){return ko.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ca{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function la(e,t,n,i,r,o,s,a){return new ca(e,t,n,i,r,o,s,a)}function ua(e){return new ca(e)}function da(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ha(e){return null!==e.collectionGroup}function pa(e){const t=oo(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",i=function(e){let t=new es(To.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);i.forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.ce.push(new Fs(i,n))})),e.has(To.keyField().canonicalString())||t.ce.push(new Fs(To.keyField(),n))}return t.ce}function fa(e){const t=oo(e);return t.le||(t.le=ga(t,pa(e))),t.le}function ga(e,t){if("F"===e.limitType)return ra(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Fs(e.field,t)}));const n=e.endAt?new Ns(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ns(e.startAt.position,e.startAt.inclusive):null;return ra(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function ma(e,t){const n=e.filters.concat([t]);return new ca(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function va(e,t,n){return new ca(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ya(e,t){return sa(fa(e),fa(t))&&e.limitType===t.limitType}function Sa(e){return"".concat(oa(fa(e)),"|lt:").concat(e.limitType)}function Ca(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Qs(e))).join(", "),"]")),jo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>bs(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>bs(e))).join(",")),"Target(".concat(t,")")}(fa(e)),"; limitType=").concat(e.limitType,")")}function ba(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ko.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of pa(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=Ls(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,pa(e),t))&&!(e.endAt&&!function(e,t,n){const i=Ls(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,pa(e),t))}(e,t)}function wa(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ea(e){return(t,n)=>{let i=!1;for(const r of pa(e)){const e=Pa(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function Pa(e,t,n){const i=e.field.isKeyField()?ko.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?ys(i,r):io()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return io()}}class Ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return Yo(this.inner)}size(){return this.innerSize}}const Aa=new $o(ko.comparator);function Ta(){return Aa}const ka=new $o(ko.comparator);function Ra(){let e=ka;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.insert(r.key,r);return e}function _a(e){let t=ka;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Da(){return Ma()}function xa(){return Ma()}function Ma(){return new Ia((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Oa=new $o(ko.comparator),Na=new es(ko.comparator);function La(){let e=Na;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.add(r);return e}const za=new es(Co);function Fa(){return za}function qa(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uo(t)?"-0":t}}function Ba(e){return{integerValue:""+e}}function ja(e,t){return Vo(t)?Ba(t):qa(e,t)}class Ua{constructor(){this._=void 0}}function Va(e,t,n){return e instanceof Ga?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ls(t)&&(t=us(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ka?Qa(e,t):e instanceof Ja?Ya(e,t):function(e,t){const n=Wa(e,t),i=Xa(n)+Xa(e.Pe);return Ps(n)&&Ps(e.Pe)?Ba(i):qa(e.serializer,i)}(e,t)}function Ha(e,t,n){return e instanceof Ka?Qa(e,t):e instanceof Ja?Ya(e,t):n}function Wa(e,t){return e instanceof $a?function(e){return Ps(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ga extends Ua{}class Ka extends Ua{constructor(e){super(),this.elements=e}}function Qa(e,t){const n=Za(t);for(const i of e.elements)n.some((e=>ms(e,i)))||n.push(i);return{arrayValue:{values:n}}}class Ja extends Ua{constructor(e){super(),this.elements=e}}function Ya(e,t){let n=Za(t);for(const i of e.elements)n=n.filter((e=>!ms(e,i)));return{arrayValue:{values:n}}}class $a extends Ua{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Xa(e){return as(e.integerValue||e.doubleValue)}function Za(e){return Is(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ec{constructor(e,t){this.version=e,this.transformResults=t}}class tc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tc}static exists(e){return new tc(void 0,e)}static updateTime(e){return new tc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ic{}function rc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new fc(e.key,tc.none()):new lc(e.key,e.data,tc.none());{const n=e.data,i=xs.empty();let r=new es(To.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new uc(e.key,i,new ns(r.toArray()),tc.none())}}function oc(e,t,n){e instanceof lc?function(e,t,n){const i=e.value.clone(),r=hc(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof uc?function(e,t,n){if(!nc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=hc(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(dc(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sc(e,t,n,i){return e instanceof lc?function(e,t,n,i){if(!nc(e.precondition,t))return n;const r=e.value.clone(),o=pc(e.fieldTransforms,i,t);return r.setAll(o),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof uc?function(e,t,n,i){if(!nc(e.precondition,t))return n;const r=pc(e.fieldTransforms,i,t),o=t.data;return o.setAll(dc(e)),o.setAll(r),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return nc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ac(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=Wa(i.transform,e||null);null!=r&&(null===n&&(n=xs.empty()),n.set(i.field,r))}return n||null}function cc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ka&&t instanceof Ka||e instanceof Ja&&t instanceof Ja?bo(e.elements,t.elements,ms):e instanceof $a&&t instanceof $a?ms(e.Pe,t.Pe):e instanceof Ga&&t instanceof Ga}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lc extends ic{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uc extends ic{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function dc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function hc(e,t,n){const i=new Map;ro(e.length===n.length);for(let r=0;r<n.length;r++){const o=e[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,Ha(s,a,n[r]))}return i}function pc(e,t,n){const i=new Map;for(const r of e){const e=r.transform,o=n.data.field(r.field);i.set(r.field,Va(e,o,t))}return i}class fc extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gc extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mc{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&oc(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=sc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=sc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=xa();return this.mutations.forEach((i=>{const r=e.get(i.key),o=r.overlayedDocument;let s=this.applyToLocalView(o,r.mutatedFields);s=t.has(i.key)?null:s;const a=rc(o,s);null!==a&&n.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Eo.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),La())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,((e,t)=>cc(e,t)))&&bo(this.baseMutations,e.baseMutations,((e,t)=>cc(e,t)))}}class vc{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){ro(e.mutations.length===n.length);let i=Oa;const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,n[o].version);return new vc(e,t,n,i)}}class yc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Sc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Cc,bc;function wc(e){switch(e){default:return io();case so.CANCELLED:case so.UNKNOWN:case so.DEADLINE_EXCEEDED:case so.RESOURCE_EXHAUSTED:case so.INTERNAL:case so.UNAVAILABLE:case so.UNAUTHENTICATED:return!1;case so.INVALID_ARGUMENT:case so.NOT_FOUND:case so.ALREADY_EXISTS:case so.PERMISSION_DENIED:case so.FAILED_PRECONDITION:case so.ABORTED:case so.OUT_OF_RANGE:case so.UNIMPLEMENTED:case so.DATA_LOSS:return!0}}function Ec(e){if(void 0===e)return eo("GRPC error has no .code"),so.UNKNOWN;switch(e){case Cc.OK:return so.OK;case Cc.CANCELLED:return so.CANCELLED;case Cc.UNKNOWN:return so.UNKNOWN;case Cc.DEADLINE_EXCEEDED:return so.DEADLINE_EXCEEDED;case Cc.RESOURCE_EXHAUSTED:return so.RESOURCE_EXHAUSTED;case Cc.INTERNAL:return so.INTERNAL;case Cc.UNAVAILABLE:return so.UNAVAILABLE;case Cc.UNAUTHENTICATED:return so.UNAUTHENTICATED;case Cc.INVALID_ARGUMENT:return so.INVALID_ARGUMENT;case Cc.NOT_FOUND:return so.NOT_FOUND;case Cc.ALREADY_EXISTS:return so.ALREADY_EXISTS;case Cc.PERMISSION_DENIED:return so.PERMISSION_DENIED;case Cc.FAILED_PRECONDITION:return so.FAILED_PRECONDITION;case Cc.ABORTED:return so.ABORTED;case Cc.OUT_OF_RANGE:return so.OUT_OF_RANGE;case Cc.UNIMPLEMENTED:return so.UNIMPLEMENTED;case Cc.DATA_LOSS:return so.DATA_LOSS;default:return io()}}(bc=Cc||(Cc={}))[bc.OK=0]="OK",bc[bc.CANCELLED=1]="CANCELLED",bc[bc.UNKNOWN=2]="UNKNOWN",bc[bc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bc[bc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bc[bc.NOT_FOUND=5]="NOT_FOUND",bc[bc.ALREADY_EXISTS=6]="ALREADY_EXISTS",bc[bc.PERMISSION_DENIED=7]="PERMISSION_DENIED",bc[bc.UNAUTHENTICATED=16]="UNAUTHENTICATED",bc[bc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bc[bc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bc[bc.ABORTED=10]="ABORTED",bc[bc.OUT_OF_RANGE=11]="OUT_OF_RANGE",bc[bc.UNIMPLEMENTED=12]="UNIMPLEMENTED",bc[bc.INTERNAL=13]="INTERNAL",bc[bc.UNAVAILABLE=14]="UNAVAILABLE",bc[bc.DATA_LOSS=15]="DATA_LOSS";let Pc=null;function Ic(){return new TextEncoder}const Ac=new Mr([4294967295,4294967295],0);function Tc(e){const t=Ic().encode(e),n=new Or;return n.update(t),new Uint8Array(n.digest())}function kc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Mr([n,i],0),new Mr([r,o],0)]}class Rc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new _c("Invalid padding: ".concat(t));if(n<0)throw new _c("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new _c("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new _c("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Mr.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(Mr.fromNumber(n)));return 1===i.compare(Ac)&&(i=new Mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Tc(e),[n,i]=kc(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(n,i,r);if(!this.de(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Rc(r,i,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=Tc(e),[n,i]=kc(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(n,i,r);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dc{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Dc(Eo.min(),i,new $o(Co),Ta(),La())}}class xc{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new xc(n,t,La(),La(),La())}}class Mc{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class Oc{constructor(e,t){this.targetId=e,this.me=t}}class Nc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rs.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Lc{constructor(){this.fe=0,this.ge=qc(),this.pe=rs.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=La(),t=La(),n=La();return this.ge.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:io()}})),new xc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=qc()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ro(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zc{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ta(),this.qe=Fc(),this.Qe=new $o(Co)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:io()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const r=i.target;if(aa(r))if(0===n){const e=new ko(r.path);this.Ue(t,e,Os.newNoDocument(e,Eo.min()))}else ro(1===n);else{const i=this.Ye(t);if(i!==n){const n=this.Ze(e),r=n?this.Xe(n,e,i):1;if(0!==r){this.je(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Pc||Pc.et(function(e,t,n,i,r){var o,s,a,c,l,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===r,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==i?void 0:i.mightContain(e))&&void 0!==t&&t}}),d}(i,e.me,this.Le.tt(),n,r))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=t;let o,s;try{o=cs(n).toUint8Array()}catch(e){if(e instanceof is)return to("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Rc(o,i,r)}catch(e){return to(e instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach((n=>{const r=this.Le.tt(),o="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),i++)})),i}rt(e){const t=new Map;this.Be.forEach(((n,i)=>{const r=this.Je(i);if(r){if(n.current&&aa(r.target)){const t=new ko(r.target.path);null!==this.ke.get(t)||this.it(i,t)||this.Ue(i,t,Os.newNoDocument(t,e))}n.be&&(t.set(i,n.ve()),n.Ce())}}));let n=La();this.qe.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const i=new Dc(e,t,this.Qe,this.ke,n);return this.ke=Ta(),this.qe=Fc(),this.Qe=new $o(Co),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Lc,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new es(Co),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Zr("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Lc),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Fc(){return new $o(ko.comparator)}function qc(){return new $o(ko.comparator)}const Bc={asc:"ASCENDING",desc:"DESCENDING"},jc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uc={and:"AND",or:"OR"};class Vc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hc(e,t){return e.useProto3Json||jo(t)?t:{value:t}}function Wc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Kc(e,t){return Wc(e,t.toTimestamp())}function Qc(e){return ro(!!e),Eo.fromTimestamp(function(e){const t=ss(e);return new wo(t.seconds,t.nanos)}(e))}function Jc(e,t){return Yc(e,t).canonicalString()}function Yc(e,t){const n=function(e){return new Io(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function $c(e){const t=Io.fromString(e);return ro(vl(t)),t}function Xc(e,t){return Jc(e.databaseId,t.path)}function Zc(e,t){const n=$c(t);if(n.get(1)!==e.databaseId.projectId)throw new ao(so.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ao(so.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ko(il(n))}function el(e,t){return Jc(e.databaseId,t)}function tl(e){const t=$c(e);return 4===t.length?Io.emptyPath():il(t)}function nl(e){return new Io(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function il(e){return ro(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function rl(e,t,n){return{name:Xc(e,t),fields:n.value.mapValue.fields}}function ol(e,t){let n;if(t instanceof lc)n={update:rl(e,t.key,t.value)};else if(t instanceof fc)n={delete:Xc(e,t.key)};else if(t instanceof uc)n={update:rl(e,t.key,t.data),updateMask:ml(t.fieldMask)};else{if(!(t instanceof gc))return io();n={verify:Xc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ga)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ka)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ja)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $a)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw io()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Kc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:io()}(e,t.precondition)),n}function sl(e,t){return{documents:[el(e,t.path)]}}function al(e,t){const n={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=el(e,r);const o=function(e){if(0!==e.length)return gl(Us.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:pl(e.field),direction:ul(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Hc(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:r}}function cl(e){let t=tl(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ro(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=ll(e);return t instanceof Us&&Hs(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Fs(fl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,jo(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Ns(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Ns(n,t)}(n.endAt)),la(t,r,s,o,a,"F",c,l)}function ll(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fl(e.unaryFilter.field);return js.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=fl(e.unaryFilter.field);return js.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fl(e.unaryFilter.field);return js.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=fl(e.unaryFilter.field);return js.create(r,"!=",{nullValue:"NULL_VALUE"});default:return io()}}(e):void 0!==e.fieldFilter?function(e){return js.create(fl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return io()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Us.create(e.compositeFilter.filters.map((e=>ll(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return io()}}(e.compositeFilter.op))}(e):io()}function ul(e){return Bc[e]}function dl(e){return jc[e]}function hl(e){return Uc[e]}function pl(e){return{fieldPath:e.canonicalString()}}function fl(e){return To.fromServerFormat(e.fieldPath)}function gl(e){return e instanceof js?function(e){if("=="===e.op){if(Ts(e.value))return{unaryFilter:{field:pl(e.field),op:"IS_NAN"}};if(As(e.value))return{unaryFilter:{field:pl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ts(e.value))return{unaryFilter:{field:pl(e.field),op:"IS_NOT_NAN"}};if(As(e.value))return{unaryFilter:{field:pl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(e.field),op:dl(e.op),value:e.value}}}(e):e instanceof Us?function(e){const t=e.getFilters().map((e=>gl(e)));return 1===t.length?t[0]:{compositeFilter:{op:hl(e.op),filters:t}}}(e):io()}function ml(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function vl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class yl{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Eo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Eo.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:rs.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sl{constructor(e){this.ct=e}}function Cl(e){const t=cl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?va(t,t.limit,"L"):t}class bl{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(as(e.integerValue));else if("doubleValue"in e){const n=as(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Uo(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=ss(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(cs(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Ds(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Rs(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):io()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const i of Object.keys(n))this.Vt(i,t),this.Tt(n[i],t)}wt(e,t){var n,i;const r=e.fields||{};this.dt(t,53);const o="value",s=(null===(i=null===(n=r[o].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(as(s)),this.Vt(o,t),this.Tt(r[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const i of n)this.Tt(i,t)}yt(e,t){this.dt(t,37),ko.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}bl.vt=new bl;class wl{constructor(){this.un=new El}addToCollectionParentIndex(e,t){return this.un.add(t),zo.resolve()}getCollectionParents(e,t){return zo.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return zo.resolve()}deleteFieldIndex(e,t){return zo.resolve()}deleteAllFieldIndexes(e){return zo.resolve()}createTargetIndexes(e,t){return zo.resolve()}getDocumentsMatchingTarget(e,t){return zo.resolve(null)}getIndexType(e,t){return zo.resolve(0)}getFieldIndexes(e,t){return zo.resolve([])}getNextCollectionGroupToUpdate(e){return zo.resolve(null)}getMinOffset(e,t){return zo.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,t){return zo.resolve(xo.min())}updateCollectionGroup(e,t,n){return zo.resolve()}updateIndexEntries(e,t){return zo.resolve()}}class El{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new es(Io.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new es(Io.comparator)).toArray()}}new Uint8Array(0);class Pl{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Pl(e,Pl.DEFAULT_COLLECTION_PERCENTILE,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Pl.DEFAULT_COLLECTION_PERCENTILE=10,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pl.DEFAULT=new Pl(41943040,Pl.DEFAULT_COLLECTION_PERCENTILE,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pl.DISABLED=new Pl(-1,0,0);class Il{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Il(0)}static kn(){return new Il(-1)}}class Al{constructor(){this.changes=new Ia((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Os.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?zo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kl{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&sc(n.mutation,e,ns.empty(),wo.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,La()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:La();const i=Da();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=Ra();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Da();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,La())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let r=Ta();const o=Ma(),s=Ma();return t.forEach(((e,t)=>{const s=n.get(t.key);i.has(t.key)&&(void 0===s||s.mutation instanceof uc)?r=r.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),sc(s.mutation,t,s.mutation.getFieldMask(),wo.now())):o.set(t.key,ns.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Tl(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ma();let i=new $o(((e,t)=>e-t)),r=La();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||ns.empty();s=r.applyToLocalView(o,s),n.set(e,s);const a=(i.get(r.batchId)||La()).add(e);i=i.insert(r.batchId,a)}))})).next((()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const i=s.getNext(),a=i.key,c=i.value,l=xa();c.forEach((e=>{if(!r.has(e)){const i=rc(t.get(e),n.get(e));null!==i&&l.set(e,i),r=r.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return zo.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,i){return function(e){return ko.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ha(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):zo.resolve(Da());let s=-1,a=r;return o.next((t=>zo.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),r.get(t)?zo.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,a,t,La()))).next((e=>({batchId:s,changes:_a(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ko(t)).next((e=>{let t=Ra();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const r=t.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,r).next((s=>zo.forEach(s,(s=>{const a=function(e,t){return new ca(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n,i).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,i)))).next((e=>{r.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,Os.newInvalidDocument(i)))}));let n=Ra();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&sc(o.mutation,i,ns.empty(),wo.now()),ba(t,i)&&(n=n.insert(e,i))})),n}))}}class Rl{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return zo.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Qc(e.createTime)}}(t)),zo.resolve()}getNamedQuery(e,t){return zo.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Cl(e.bundledQuery),readTime:Qc(e.readTime)}}(t)),zo.resolve()}}class _l{constructor(){this.overlays=new $o(ko.comparator),this.Ir=new Map}getOverlay(e,t){return zo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Da();return zo.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.ht(e,t,i)})),zo.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ir.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),zo.resolve()}getOverlaysForCollection(e,t,n){const i=Da(),r=t.length+1,o=new ko(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return zo.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new $o(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=Da(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Da(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=i)););return zo.resolve(s)}ht(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new yc(t,n));let r=this.Ir.get(t);void 0===r&&(r=La(),this.Ir.set(t,r)),this.Ir.set(t,r.add(n.key))}}class Dl{constructor(){this.sessionToken=rs.EMPTY_BYTE_STRING}getSessionToken(e){return zo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,zo.resolve()}}class xl{constructor(){this.Tr=new es(Ml.Er),this.dr=new es(Ml.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Ml(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Ml(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new ko(new Io([])),n=new Ml(t,e),i=new Ml(t,e+1),r=[];return this.dr.forEachInRange([n,i],(e=>{this.Vr(e),r.push(e.key)})),r}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ko(new Io([])),n=new Ml(t,e),i=new Ml(t,e+1);let r=La();return this.dr.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new Ml(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ml{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ko.comparator(e.key,t.key)||Co(e.wr,t.wr)}static Ar(e,t){return Co(e.wr,t.wr)||ko.comparator(e.key,t.key)}}class Ol{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new es(Ml.Er)}checkEmpty(e){return zo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mc(r,t,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Ml(s.key,r)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return zo.resolve(o)}lookupMutationBatch(e,t){return zo.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.vr(n),r=i<0?0:i;return zo.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return zo.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return zo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ml(t,0),i=new Ml(t,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([n,i],(e=>{const t=this.Dr(e.wr);r.push(t)})),zo.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new es(Co);return t.forEach((e=>{const t=new Ml(e,0),i=new Ml(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,i],(e=>{n=n.add(e.wr)}))})),zo.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;ko.isDocumentKey(r)||(r=r.child(""));const o=new Ml(new ko(r),0);let s=new es(Co);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(s=s.add(e.wr)),!0)}),o),zo.resolve(this.Cr(s))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ro(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return zo.forEach(t.mutations,(i=>{const r=new Ml(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Ml(t,0),i=this.br.firstAfterOrEqual(n);return zo.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,zo.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Nl{constructor(e){this.Mr=e,this.docs=new $o(ko.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return zo.resolve(n?n.document.mutableCopy():Os.newInvalidDocument(t))}getEntries(e,t){let n=Ta();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Os.newInvalidDocument(e))})),zo.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=Ta();const o=t.path,s=new ko(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Mo(Do(s),n)<=0||(i.has(s.key)||ba(t,s))&&(r=r.insert(s.key,s.mutableCopy()))}return zo.resolve(r)}getAllFromCollectionGroup(e,t,n,i){io()}Or(e,t){return zo.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ll(this)}getSize(e){return zo.resolve(this.size)}}class Ll extends Al{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),zo.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class zl{constructor(e){this.persistence=e,this.Nr=new Ia((e=>oa(e)),sa),this.lastRemoteSnapshotVersion=Eo.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xl,this.targetCount=0,this.kr=Il.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),zo.resolve()}getLastRemoteSnapshotVersion(e){return zo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return zo.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),zo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),zo.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Il(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,zo.resolve()}updateTargetData(e,t){return this.Kn(t),zo.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,zo.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Nr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Nr.delete(o),r.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),zo.waitFor(r).next((()=>i))}getTargetCount(e){return zo.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return zo.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),zo.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),zo.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),zo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return zo.resolve(n)}containsKey(e,t){return zo.resolve(this.Br.containsKey(t))}}class Fl{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Bo(0),this.Kr=!1,this.Kr=!0,this.$r=new Dl,this.referenceDelegate=e(this),this.Ur=new zl(this),this.indexManager=new wl,this.remoteDocumentCache=function(e){return new Nl(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Sl(t),this.Gr=new Rl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _l,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Ol(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Zr("MemoryPersistence","Starting transaction:",e);const i=new ql(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((e=>this.referenceDelegate.jr(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Hr(e,t){return zo.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class ql extends No{constructor(e){super(),this.currentSequenceNumber=e}}class Bl{constructor(e){this.persistence=e,this.Jr=new xl,this.Yr=null}static Zr(e){return new Bl(e)}get Xr(){if(this.Yr)return this.Yr;throw io()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),zo.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),zo.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),zo.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zo.forEach(this.Xr,(n=>{const i=ko.fromPath(n);return this.ei(e,i).next((e=>{e||t.removeEntry(i,Eo.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return zo.or([()=>zo.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class jl{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=i}static Wi(e,t){let n=La(),i=La();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new jl(e,t.fromCache,n,i)}}class Ul{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vl{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=b()?8:Fo(C())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,i){const r={result:null};return this.Yi(e,t).next((e=>{r.result=e})).next((()=>{if(!r.result)return this.Zi(e,t,i,n).next((e=>{r.result=e}))})).next((()=>{if(r.result)return;const n=new Ul;return this.Xi(e,t,n).next((i=>{if(r.result=i,this.zi)return this.es(e,t,n,i.size)}))})).next((()=>r.result))}es(e,t,n,i){return n.documentReadCount<this.ji?(Xr()<=q.DEBUG&&Zr("QueryEngine","SDK will not create cache indexes for query:",Ca(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),zo.resolve()):(Xr()<=q.DEBUG&&Zr("QueryEngine","Query:",Ca(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Xr()<=q.DEBUG&&Zr("QueryEngine","The SDK decides to create cache indexes for query:",Ca(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fa(t))):zo.resolve())}Yi(e,t){if(da(t))return zo.resolve(null);let n=fa(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=va(t,null,"F"),n=fa(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const r=La(...i);return this.Ji.getDocuments(e,r).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ts(t,i);return this.ns(t,o,r,n.readTime)?this.Yi(e,va(t,null,"F")):this.rs(e,o,t,n)}))))})))))}Zi(e,t,n,i){return da(t)||i.isEqual(Eo.min())?zo.resolve(null):this.Ji.getDocuments(e,n).next((r=>{const o=this.ts(t,r);return this.ns(t,o,n,i)?zo.resolve(null):(Xr()<=q.DEBUG&&Zr("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ca(t)),this.rs(e,o,t,_o(i,-1)).next((e=>e)))}))}ts(e,t){let n=new es(Ea(e));return t.forEach(((t,i)=>{ba(e,i)&&(n=n.add(i))})),n}ns(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Xi(e,t,n){return Xr()<=q.DEBUG&&Zr("QueryEngine","Using full collection scan to execute query:",Ca(t)),this.Ji.getDocumentsMatchingQuery(e,t,xo.min(),n)}rs(e,t,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Hl{constructor(e,t,n,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new $o(Co),this._s=new Ia((e=>oa(e)),sa),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kl(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function Wl(e,t,n,i){return new Hl(e,t,n,i)}async function Gl(e,t){const n=oo(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((r=>(i=r,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],o=[];let s=La();for(const e of i){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({hs:e,removedBatchIds:r,addedBatchIds:o})))}))}))}function Kl(e){const t=oo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function Ql(e,t,n){let i=La(),r=La();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=Ta();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(Eo.min())?(t.removeEntry(n,o.readTime),i=i.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),i=i.insert(n,o)):Zr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Ps:i,Is:r}}))}function Jl(e,t){const n=oo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Yl(e,t){const n=oo(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.Ur.getTargetData(e,t).next((r=>r?(i=r,zo.resolve(i)):n.Ur.allocateTargetId(e).next((r=>(i=new yl(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.os.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function $l(e,t,n){const i=oo(e),r=i.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!qo(e))throw e;Zr("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}i.os=i.os.remove(t),i._s.delete(r.target)}function Xl(e,t,n){const i=oo(e);let r=Eo.min(),o=La();return i.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const i=oo(e),r=i._s.get(n);return void 0!==r?zo.resolve(i.os.get(r)):i.Ur.getTargetData(t,n)}(i,e,fa(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>i.ss.getDocumentsMatchingQuery(e,t,n?r:Eo.min(),n?o:La()))).next((e=>(Zl(i,wa(t),e),{documents:e,Ts:o})))))}function Zl(e,t,n){let i=e.us.get(t)||Eo.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.us.set(t,i)}class eu{constructor(){this.activeTargetIds=Fa()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tu{constructor(){this.so=new eu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new eu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nu{_o(e){}shutdown(){}}class iu{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Zr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Zr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ru=null;function ou(){return null===ru?ru=268435456+Math.round(2147483648*Math.random()):ru++,"0x"+ru.toString(16)}const su={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class au{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const cu="WebChannelConnection";class lu extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(i),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}get Fo(){return!1}Mo(e,t,n,i,r){const o=ou(),s=this.xo(e,t.toUriEncodedString());Zr("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,i,r),this.No(e,s,a,n).then((t=>(Zr("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw to("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Lo(e,t,n,i,r,o){return this.Mo(e,t,n,i,r)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=su[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,i){const r=ou();return new Promise(((o,s)=>{const a=new zr;a.setWithCredentials(!0),a.listenOnce(Br.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case jr.NO_ERROR:const t=a.getResponseJson();Zr(cu,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),o(t);break;case jr.TIMEOUT:Zr(cu,"RPC '".concat(e,"' ").concat(r," timed out")),s(new ao(so.DEADLINE_EXCEEDED,"Request time out"));break;case jr.HTTP_ERROR:const n=a.getStatus();if(Zr(cu,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(so).indexOf(t)>=0?t:so.UNKNOWN}(t.status);s(new ao(e,t.message))}else s(new ao(so.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ao(so.UNAVAILABLE,"Connection failed."));break;default:io()}}finally{Zr(cu,"RPC '".concat(e,"' ").concat(r," completed."))}}));const c=JSON.stringify(i);Zr(cu,"RPC '".concat(e,"' ").concat(r," sending request:"),i),a.send(t,"POST",c,n,15)}))}Bo(e,t,n){const i=ou(),r=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Wr(),s=Hr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new Fr({})),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=r.join("");Zr(cu,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(l),a);const u=o.createWebChannel(l,a);let d=!1,h=!1;const p=new au({Io:t=>{h?Zr(cu,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),t):(d||(Zr(cu,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),u.open(),d=!0),Zr(cu,"RPC '".concat(e,"' stream ").concat(i," sending:"),t),u.send(t))},To:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,qr.EventType.OPEN,(()=>{h||(Zr(cu,"RPC '".concat(e,"' stream ").concat(i," transport opened.")),p.yo())})),f(u,qr.EventType.CLOSE,(()=>{h||(h=!0,Zr(cu,"RPC '".concat(e,"' stream ").concat(i," transport closed")),p.So())})),f(u,qr.EventType.ERROR,(t=>{h||(h=!0,to(cu,"RPC '".concat(e,"' stream ").concat(i," transport errored:"),t),p.So(new ao(so.UNAVAILABLE,"The operation could not be completed")))})),f(u,qr.EventType.MESSAGE,(t=>{var n;if(!h){const r=t.data[0];ro(!!r);const o=r,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Zr(cu,"RPC '".concat(e,"' stream ").concat(i," received error:"),s);const t=s.status;let n=function(e){const t=Cc[e];if(void 0!==t)return Ec(t)}(t),r=s.message;void 0===n&&(n=so.INTERNAL,r="Unknown error status: "+t+" with message "+s.message),h=!0,p.So(new ao(n,r)),u.close()}else Zr(cu,"RPC '".concat(e,"' stream ").concat(i," received:"),r),p.bo(r)}})),f(s,Vr.STAT_EVENT,(t=>{t.stat===Ur.PROXY?Zr(cu,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):t.stat===Ur.NOPROXY&&Zr(cu,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{p.wo()}),0),p}}function uu(){return"undefined"!=typeof document?document:null}function du(e){return new Vc(e,!0)}class hu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=i,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-n);i>0&&Zr("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class pu{constructor(e,t,n,i,r,o,s,a){this.ui=e,this.Ho=n,this.Jo=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hu(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===so.RESOURCE_EXHAUSTED?(eo(t.toString()),eo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===so.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,i]=e;this.Yo===t&&this.P_(n,i)}),(t=>{e((()=>{const e=new ao(so.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Zr("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(Zr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fu extends pu{constructor(e,t,n,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,o),this.serializer=r}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:io()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ro(void 0===t||"string"==typeof t),rs.fromBase64String(t||"")):(ro(void 0===t||t instanceof Buffer||t instanceof Uint8Array),rs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?so.UNKNOWN:Ec(e.code);return new ao(t,e.message||"")}(s);n=new Nc(i,r,o,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Zc(e,i.document.name),o=Qc(i.document.updateTime),s=i.document.createTime?Qc(i.document.createTime):Eo.min(),a=new xs({mapValue:{fields:i.document.fields}}),c=Os.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new Mc(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Zc(e,i.document),o=i.readTime?Qc(i.readTime):Eo.min(),s=Os.newNoDocument(r,o),a=i.removedTargetIds||[];n=new Mc([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Zc(e,i.document),o=i.removedTargetIds||[];n=new Mc([],o,r,null)}else{if(!("filter"in t))return io();{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,o=new Sc(i,r),s=e.targetId;n=new Oc(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Eo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Eo.min():t.readTime?Qc(t.readTime):Eo.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=nl(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=aa(i)?{documents:sl(e,i)}:{query:al(e,i)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Gc(e,t.resumeToken);const i=Hc(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Eo.min())>0){n.readTime=Wc(e,t.snapshotVersion.toTimestamp());const i=Hc(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return io()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=nl(this.serializer),t.removeTarget=e,this.a_(t)}}class gu extends pu{constructor(e,t,n,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,o),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ro(!!e.streamToken),this.lastStreamToken=e.streamToken,ro(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ro(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(ro(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Qc(e.updateTime):Qc(t);return n.isEqual(Eo.min())&&(n=Qc(t)),new ec(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Qc(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=nl(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ol(this.serializer,e)))};this.a_(t)}}class mu extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ao(so.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[o,s]=r;return this.connection.Mo(e,Yc(t,n),i,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===so.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ao(so.UNKNOWN,e.toString())}))}Lo(e,t,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Lo(e,Yc(t,n),i,s,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===so.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ao(so.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class vu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(eo(t),this.D_=!1):Zr("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class yu{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o((e=>{n.enqueueAndForget((async()=>{Tu(this)&&(Zr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=oo(e);t.L_.add(4),await Cu(t),t.q_.set("Unknown"),t.L_.delete(4),await Su(t)}(this))}))})),this.q_=new vu(n,i)}}async function Su(e){if(Tu(e))for(const t of e.B_)await t(!0)}async function Cu(e){for(const t of e.B_)await t(!1)}function bu(e,t){const n=oo(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Au(n)?Iu(n):Gu(n).r_()&&Eu(n,t))}function wu(e,t){const n=oo(e),i=Gu(n);n.N_.delete(t),i.r_()&&Pu(n,t),0===n.N_.size&&(i.r_()?i.o_():Tu(n)&&n.q_.set("Unknown"))}function Eu(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Eo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gu(e).A_(t)}function Pu(e,t){e.Q_.xe(t),Gu(e).R_(t)}function Iu(e){e.Q_=new zc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Gu(e).start(),e.q_.v_()}function Au(e){return Tu(e)&&!Gu(e).n_()&&e.N_.size>0}function Tu(e){return 0===oo(e).L_.size}function ku(e){e.Q_=void 0}async function Ru(e){e.q_.set("Online")}async function _u(e){e.N_.forEach(((t,n)=>{Eu(e,t)}))}async function Du(e,t){ku(e),Au(e)?(e.q_.M_(t),Iu(e)):e.q_.set("Unknown")}async function xu(e,t,n){if(e.q_.set("Online"),t instanceof Nc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.N_.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.N_.delete(i),e.Q_.removeTarget(i))}(e,t)}catch(n){Zr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Mu(e,n)}else if(t instanceof Mc?e.Q_.Ke(t):t instanceof Oc?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Eo.min()))try{const t=await Kl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.N_.get(i);r&&e.N_.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const i=e.N_.get(t);if(!i)return;e.N_.set(t,i.withResumeToken(rs.EMPTY_BYTE_STRING,i.snapshotVersion)),Pu(e,t);const r=new yl(i.target,t,n,i.sequenceNumber);Eu(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Zr("RemoteStore","Failed to raise snapshot:",t),await Mu(e,t)}}async function Mu(e,t,n){if(!qo(t))throw t;e.L_.add(1),await Cu(e),e.q_.set("Offline"),n||(n=()=>Kl(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Zr("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Su(e)}))}function Ou(e,t){return t().catch((n=>Mu(e,n,t)))}async function Nu(e){const t=oo(e),n=Ku(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Lu(t);)try{const e=await Jl(t.localStore,i);if(null===e){0===t.O_.length&&n.o_();break}i=e.batchId,zu(t,e)}catch(e){await Mu(t,e)}Fu(t)&&qu(t)}function Lu(e){return Tu(e)&&e.O_.length<10}function zu(e,t){e.O_.push(t);const n=Ku(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Fu(e){return Tu(e)&&!Ku(e).n_()&&e.O_.length>0}function qu(e){Ku(e).start()}async function Bu(e){Ku(e).p_()}async function ju(e){const t=Ku(e);for(const n of e.O_)t.m_(n.mutations)}async function Uu(e,t,n){const i=e.O_.shift(),r=vc.from(i,t,n);await Ou(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await Nu(e)}async function Vu(e,t){t&&Ku(e).V_&&await async function(e,t){if(function(e){return wc(e)&&e!==so.ABORTED}(t.code)){const n=e.O_.shift();Ku(e).s_(),await Ou(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Nu(e)}}(e,t),Fu(e)&&qu(e)}async function Hu(e,t){const n=oo(e);n.asyncQueue.verifyOperationInProgress(),Zr("RemoteStore","RemoteStore received new credentials");const i=Tu(n);n.L_.add(3),await Cu(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Su(n)}async function Wu(e,t){const n=oo(e);t?(n.L_.delete(2),await Su(n)):t||(n.L_.add(2),await Cu(n),n.q_.set("Unknown"))}function Gu(e){return e.K_||(e.K_=function(e,t,n){const i=oo(e);return i.w_(),new fu(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Ru.bind(null,e),Ro:_u.bind(null,e),mo:Du.bind(null,e),d_:xu.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Au(e)?Iu(e):e.q_.set("Unknown")):(await e.K_.stop(),ku(e))}))),e.K_}function Ku(e){return e.U_||(e.U_=function(e,t,n){const i=oo(e);return i.w_(),new gu(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Bu.bind(null,e),mo:Vu.bind(null,e),f_:ju.bind(null,e),g_:Uu.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Nu(e)):(await e.U_.stop(),e.O_.length>0&&(Zr("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))}))),e.U_}class Qu{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,r){const o=Date.now()+n,s=new Qu(e,t,o,i,r);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ao(so.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ju(e,t){if(eo("AsyncQueue","".concat(t,": ").concat(e)),qo(e))return new ao(so.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Yu{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ko.comparator(t.key,n.key):(e,t)=>ko.comparator(e.key,t.key),this.keyedMap=Ra(),this.sortedSet=new $o(this.comparator)}static emptySet(e){return new Yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Yu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class $u{constructor(){this.W_=new $o(ko.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):io():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Xu{constructor(e,t,n,i,r,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,i,r){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Xu(e,t,Yu.emptySet(t),o,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class Zu{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class ed{constructor(){this.queries=td(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=oo(e),i=n.queries;n.queries=td(),i.forEach(((e,n)=>{for(const i of n.j_)i.onError(t)}))}(this,new ao(so.ABORTED,"Firestore shutting down"))}}function td(){return new Ia((e=>Sa(e)),ya)}async function nd(e,t){const n=oo(e);let i=3;const r=t.query;let o=n.queries.get(r);o?!o.H_()&&t.J_()&&(i=2):(o=new Zu,i=t.J_()?0:1);try{switch(i){case 0:o.z_=await n.onListen(r,!0);break;case 1:o.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(e){const n=Ju(e,"Initialization of query '".concat(Ca(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&sd(n)}async function id(e,t){const n=oo(e),i=t.query;let r=3;const o=n.queries.get(i);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?r=t.J_()?0:1:!o.H_()&&t.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function rd(e,t){const n=oo(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(r)&&(i=!0);t.z_=r}}i&&sd(n)}function od(e,t,n){const i=oo(e),r=i.queries.get(t);if(r)for(const o of r.j_)o.onError(n);i.queries.delete(t)}function sd(e){e.Y_.forEach((e=>{e.next()}))}var ad,cd;(cd=ad||(ad={})).ea="default",cd.Cache="cache";class ld{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Xu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ad.Cache}}class ud{constructor(e){this.key=e}}class dd{constructor(e){this.key=e}}class hd{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=La(),this.mutatedKeys=La(),this.Aa=Ea(e),this.Ra=new Yu(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new $u,i=t?t.Ra:this.Ra;let r=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const l=i.get(e),u=ba(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;l&&u?l.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.ga(l,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Aa(u,a)>0||c&&this.Aa(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(a||c)&&(s=!0)),p&&(u?(o=o.add(u),r=h?r.add(e):r.delete(e)):(o=o.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:s,mutatedKeys:r}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const r=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return io()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),i=null!=i&&i;const s=t&&!i?this.ya():[],a=0===this.da.size&&this.current&&!i?1:0,c=a!==this.Ea;return this.Ea=a,0!==o.length||c?{snapshot:new Xu(this.query,e.Ra,r,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $u,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=La(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new dd(e))})),this.da.forEach((n=>{e.has(n)||t.push(new ud(n))})),t}ba(e){this.Ta=e.Ts,this.da=La();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Xu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class pd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fd{constructor(e){this.key=e,this.va=!1}}class gd{constructor(e,t,n,i,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ia((e=>Sa(e)),ya),this.Ma=new Map,this.xa=new Set,this.Oa=new $o(ko.comparator),this.Na=new Map,this.La=new xl,this.Ba={},this.ka=new Map,this.qa=Il.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function md(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=zd(e);let r;const o=i.Fa.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=await yd(i,t,n,!0),r}async function vd(e,t){const n=zd(e);await yd(n,t,!0,!1)}async function yd(e,t,n,i){const r=await Yl(e.localStore,fa(t)),o=r.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return i&&(a=await Sd(e,t,o,"current"===s,r.resumeToken)),e.isPrimaryClient&&n&&bu(e.remoteStore,r),a}async function Sd(e,t,n,i,r){e.Ka=(t,n,i)=>async function(e,t,n,i){let r=t.view.ma(n);r.ns&&(r=await Xl(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,r)})));const o=i&&i.targetChanges.get(t.targetId),s=i&&null!=i.targetMismatches.get(t.targetId),a=t.view.applyChanges(r,e.isPrimaryClient,o,s);return Dd(e,t.targetId,a.wa),a.snapshot}(e,t,n,i);const o=await Xl(e.localStore,t,!0),s=new hd(t,o.Ts),a=s.ma(o.documents),c=xc.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),l=s.applyChanges(a,e.isPrimaryClient,c);Dd(e,n,l.wa);const u=new pd(t,n,s);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),l.snapshot}async function Cd(e,t,n){const i=oo(e),r=i.Fa.get(t),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter((e=>!ya(e,t)))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await $l(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&wu(i.remoteStore,r.targetId),Rd(i,r.targetId)})).catch(Lo)):(Rd(i,r.targetId),await $l(i.localStore,r.targetId,!0))}async function bd(e,t){const n=oo(e),i=n.Fa.get(t),r=n.Ma.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),wu(n.remoteStore,i.targetId))}async function wd(e,t){const n=oo(e);try{const e=await function(e,t){const n=oo(e),i=t.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const s=[];t.targetChanges.forEach(((o,a)=>{const c=r.get(a);if(!c)return;s.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(rs.EMPTY_BYTE_STRING,Eo.min()).withLastLimboFreeSnapshotVersion(Eo.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,i)),r=r.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.Ur.updateTargetData(e,l))}));let a=Ta(),c=La();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),s.push(Ql(e,o,t.documentUpdates).next((e=>{a=e.Ps,c=e.Is}))),!i.isEqual(Eo.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,i)));s.push(t)}return zo.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.os=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.Na.get(t);i&&(ro(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.va=!0:e.modifiedDocuments.size>0?ro(i.va):e.removedDocuments.size>0&&(ro(i.va),i.va=!1))})),await Od(n,e,t)}catch(e){await Lo(e)}}function Ed(e,t,n){const i=oo(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.Fa.forEach(((n,i)=>{const r=i.view.Z_(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=oo(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.j_)r.Z_(t)&&(i=!0)})),i&&sd(n)}(i.eventManager,t),e.length&&i.Ca.d_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Pd(e,t,n){const i=oo(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Na.get(t),o=r&&r.key;if(o){let e=new $o(ko.comparator);e=e.insert(o,Os.newNoDocument(o,Eo.min()));const n=La().add(o),r=new Dc(Eo.min(),new Map,new $o(Co),e,n);await wd(i,r),i.Oa=i.Oa.remove(o),i.Na.delete(t),Md(i)}else await $l(i.localStore,t,!1).then((()=>Rd(i,t,n))).catch(Lo)}async function Id(e,t){const n=oo(e),i=t.batch.batchId;try{const e=await function(e,t){const n=oo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,o=r.keys();let s=zo.resolve();return o.forEach((e=>{s=s.next((()=>i.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);ro(null!==o),t.version.compareTo(o)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=La();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);kd(n,i,null),Td(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Od(n,e)}catch(e){await Lo(e)}}async function Ad(e,t,n){const i=oo(e);try{const e=await function(e,t){const n=oo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ro(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);kd(i,t,n),Td(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Od(i,e)}catch(n){await Lo(n)}}function Td(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function kd(e,t,n){const i=oo(e);let r=i.Ba[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function Rd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||_d(e,t)}))}function _d(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(wu(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Md(e))}function Dd(e,t,n){for(const i of n)i instanceof ud?(e.La.addReference(i.key,t),xd(e,i)):i instanceof dd?(Zr("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||_d(e,i.key)):io()}function xd(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(Zr("SyncEngine","New document in limbo: "+n),e.xa.add(i),Md(e))}function Md(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ko(Io.fromString(t)),i=e.qa.next();e.Na.set(i,new fd(n)),e.Oa=e.Oa.insert(n,i),bu(e.remoteStore,new yl(fa(ua(n.path)),i,"TargetPurposeLimboResolution",Bo.oe))}}async function Od(e,t,n){const i=oo(e),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach(((e,a)=>{s.push(i.Ka(a,t,n).then((e=>{var t;if((e||n)&&i.isPrimaryClient){const r=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;i.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(e){r.push(e);const t=jl.Wi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),i.Ca.d_(r),await async function(e,t){const n=oo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>zo.forEach(t,(t=>zo.forEach(t.$i,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>zo.forEach(t.Ui,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!qo(e))throw e;Zr("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.os.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.os=n.os.insert(e,r)}}}(i.localStore,o))}async function Nd(e,t){const n=oo(e);if(!n.currentUser.isEqual(t)){Zr("SyncEngine","User change. New user:",t.toKey());const e=await Gl(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new ao(so.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Od(n,e.hs)}}function Ld(e,t){const n=oo(e),i=n.Na.get(t);if(i&&i.va)return La().add(i.key);{let e=La();const i=n.Ma.get(t);if(!i)return e;for(const t of i){const i=n.Fa.get(t);e=e.unionWith(i.view.Va)}return e}}function zd(e){const t=oo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ld.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pd.bind(null,t),t.Ca.d_=rd.bind(null,t.eventManager),t.Ca.$a=od.bind(null,t.eventManager),t}function Fd(e){const t=oo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Id.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ad.bind(null,t),t}class qd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=du(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Wl(this.persistence,new Vl,e.initialUser,this.serializer)}createPersistence(e){return new Fl(Bl.Zr,this.serializer)}createSharedClientState(e){return new tu}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Bd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ed(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nd.bind(null,this.syncEngine),await Wu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ed}createDatastore(e){const t=du(e.databaseInfo.databaseId),n=function(e){return new lu(e)}(e.databaseInfo);return function(e,t,n,i){return new mu(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,i,r){return new yu(e,t,n,i,r)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ed(this.syncEngine,e,0)),iu.D()?new iu:new nu)}createSyncEngine(e,t){return function(e,t,n,i,r,o,s){const a=new gd(e,t,n,i,r,o);return s&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=oo(e);Zr("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Cu(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}class jd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):eo("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Ud{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Jr.UNAUTHENTICATED,this.clientId=So.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Zr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Zr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ao(so.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ju(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Vd(e,t){e.asyncQueue.verifyOperationInProgress(),Zr("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await Gl(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Hd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Gd(e);Zr("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Hu(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Hu(t.remoteStore,n))),e._onlineComponents=t}function Wd(e){return"FirebaseError"===e.name?e.code===so.FAILED_PRECONDITION||e.code===so.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Gd(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zr("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Wd(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await Vd(e,new qd)}}else Zr("FirestoreClient","Using default OfflineComponentProvider"),await Vd(e,new qd);return e._offlineComponents}async function Kd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zr("FirestoreClient","Using user provided OnlineComponentProvider"),await Hd(e,e._uninitializedComponentsProvider._online)):(Zr("FirestoreClient","Using default OnlineComponentProvider"),await Hd(e,new Bd))),e._onlineComponents}function Qd(e){return Kd(e).then((e=>e.syncEngine))}async function Jd(e){const t=await Kd(e),n=t.eventManager;return n.onListen=md.bind(null,t.syncEngine),n.onUnlisten=Cd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=vd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bd.bind(null,t.syncEngine),n}function Yd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new co;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const o=new jd({next:o=>{t.enqueueAndForget((()=>id(e,s)));const a=o.docs.has(n);!a&&o.fromCache?r.reject(new ao(so.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&i&&"server"===i.source?r.reject(new ao(so.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),s=new ld(ua(n.path),o,{includeMetadataChanges:!0,_a:!0});return nd(e,s)}(await Jd(e),e.asyncQueue,t,n,i))),i.promise}function $d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new co;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const o=new jd({next:n=>{t.enqueueAndForget((()=>id(e,s))),n.fromCache&&"server"===i.source?r.reject(new ao(so.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),s=new ld(n,o,{includeMetadataChanges:!0,_a:!0});return nd(e,s)}(await Jd(e),e.asyncQueue,t,n,i))),i.promise}function Xd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Zd=new Map;function eh(e,t,n){if(!n)throw new ao(so.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function th(e){if(!ko.isDocumentKey(e))throw new ao(so.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function nh(e){if(ko.isDocumentKey(e))throw new ao(so.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ih(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":io()}function rh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ao(so.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(e);throw new ao(so.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function oh(e,t){if(t<=0)throw new ao(so.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class sh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ao(so.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ao(so.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,i){if(!0===t&&!0===i)throw new ao(so.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ao(so.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ao(so.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ao(so.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ao(so.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ao(so.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sh(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new uo;switch(e.type){case"firstParty":return new go(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ao(so.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zd.get(e);t&&(Zr("ComponentProvider","Removing Datastore"),Zd.delete(e),t.terminate())}(this),Promise.resolve()}}function ch(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const o=(e=rh(e,ah))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=Jr.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const o=i.mockUserToken.sub||i.mockUserToken.user_id;if(!o)throw new ao(so.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Jr(o)}e._authCredentials=new ho(new lo(t,n))}}class lh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new lh(this.firestore,e,this._query)}}class uh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uh(this.firestore,e,this._key)}}class dh extends lh{constructor(e,t,n){super(e,t,ua(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uh(this.firestore,null,new ko(e))}withConverter(e){return new dh(this.firestore,e,this._path)}}function hh(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=M(e),eh("collection","path",t),e instanceof ah){const n=Io.fromString(t,...i);return nh(n),new dh(e,null,n)}{if(!(e instanceof uh||e instanceof dh))throw new ao(so.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Io.fromString(t,...i));return nh(n),new dh(e.firestore,null,n)}}function ph(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=M(e),1===arguments.length&&(t=So.newId()),eh("doc","path",t),e instanceof ah){const n=Io.fromString(t,...i);return th(n),new uh(e,null,new ko(n))}{if(!(e instanceof uh||e instanceof dh))throw new ao(so.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Io.fromString(t,...i));return th(n),new uh(e.firestore,e instanceof dh?e.converter:null,new ko(n))}}class fh{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new hu(this,"async_queue_retry"),this.Eu=()=>{const e=uu();e&&Zr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()};const e=uu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=uu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise((()=>{}));const t=new co;return this.Au((()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.uu.push(e),this.Ru())))}async Ru(){if(0!==this.uu.length){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!qo(e))throw e;Zr("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go((()=>this.Ru()))}}Au(e){const t=this.au.then((()=>(this.Pu=!0,e().catch((e=>{this.hu=e,this.Pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw eo("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Pu=!1,e))))));return this.au=t,t}enqueueAfterDelay(e,t,n){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const i=Qu.createAndSchedule(this,e,t,n,(e=>this.Vu(e)));return this.lu.push(i),i}du(){this.hu&&io()}verifyOperationInProgress(){}async mu(){let e;do{e=this.au,await e}while(e!==this.au)}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then((()=>{this.lu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()}))}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}class gh extends ah{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new fh,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vh(this),this._firestoreClient.terminate()}}function mh(e){return e._firestoreClient||vh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function vh(e){var t,n,i;const r=e._freezeSettings(),o=function(e,t,n,i){return new hs(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Xd(i.experimentalLongPollingOptions),i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new Ud(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class yh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yh(rs.fromBase64String(e))}catch(e){throw new ao(so.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new yh(rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i=0;i<t.length;++i)if(0===t[i].length)throw new ao(so.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new To(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ch{constructor(e){this._methodName=e}}class bh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ao(so.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ao(so.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Co(this._lat,e._lat)||Co(this._long,e._long)}}class wh{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Eh=/^__.*__$/;class Ph{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new lc(e,this.data,t,this.fieldTransforms)}}class Ih{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new uc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ah(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw io()}}class Th{constructor(e,t,n,i,r,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.yu(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Th(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:n,Du:!1});return i.vu(e),i}Cu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:n,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Uh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(Ah(this.wu)&&Eh.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class kh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||du(e)}Nu(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Th({wu:e,methodName:t,Ou:n,path:To.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(e){const t=e._freezeSettings(),n=du(e._databaseId);return new kh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _h(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Nu(o.merge||o.mergeFields?2:0,t,n,r);Fh("Data must be an object, but it was:",s,i);const a=Lh(i,s);let c,l;if(o.merge)c=new ns(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const i of o.mergeFields){const r=qh(t,i,n);if(!s.contains(r))throw new ao(so.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));Vh(e,r)||e.push(r)}c=new ns(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new Ph(new xs(a),c,l)}class Dh extends Ch{_toFieldTransform(e){if(2!==e.wu)throw 1===e.wu?e.Mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function xh(e,t,n,i){const r=e.Nu(1,t,n);Fh("Data must be an object, but it was:",r,i);const o=[],s=xs.empty();Jo(i,((e,i)=>{const a=jh(t,e,n);i=M(i);const c=r.Cu(a);if(i instanceof Dh)o.push(a);else{const e=Nh(i,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new ns(o);return new Ih(s,a,r.fieldTransforms)}function Mh(e,t,n,i,r,o){const s=e.Nu(1,t,n),a=[qh(t,i,n)],c=[r];if(o.length%2!=0)throw new ao(so.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(qh(t,o[h])),c.push(o[h+1]);const l=[],u=xs.empty();for(let h=a.length-1;h>=0;--h)if(!Vh(l,a[h])){const e=a[h];let t=c[h];t=M(t);const n=s.Cu(e);if(t instanceof Dh)l.push(e);else{const i=Nh(t,n);null!=i&&(l.push(e),u.set(e,i))}}const d=new ns(l);return new Ih(u,d,s.fieldTransforms)}function Oh(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Nh(n,e.Nu(i?4:3,t))}function Nh(e,t){if(zh(e=M(e)))return Fh("Unsupported field value:",t,e),Lh(e,t);if(e instanceof Ch)return function(e,t){if(!Ah(t.wu))throw t.Mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&4!==t.wu)throw t.Mu("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=Nh(r,t.Fu(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=M(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ja(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=wo.fromDate(e);return{timestampValue:Wc(t.serializer,n)}}if(e instanceof wo){const n=new wo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wc(t.serializer,n)}}if(e instanceof bh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yh)return{bytesValue:Gc(t.serializer,e._byteString)};if(e instanceof uh){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.Mu("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Jc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof wh)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Mu("VectorValues must only contain numeric values.");return qa(t.serializer,e)}))}}}}}}(e,t);throw t.Mu("Unsupported field value: ".concat(ih(e)))}(e,t)}function Lh(e,t){const n={};return Yo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jo(e,((e,i)=>{const r=Nh(i,t.bu(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function zh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wo||e instanceof bh||e instanceof yh||e instanceof uh||e instanceof Ch||e instanceof wh)}function Fh(e,t,n){if(!zh(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=ih(n);throw"an object"===i?t.Mu(e+" a custom object"):t.Mu(e+" "+i)}}function qh(e,t,n){if((t=M(t))instanceof Sh)return t._internalPath;if("string"==typeof t)return jh(e,t);throw Uh("Field path arguments must be of type string or ",e,!1,void 0,n)}const Bh=new RegExp("[~\\*/\\[\\]]");function jh(e,t,n){if(t.search(Bh)>=0)throw Uh("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Sh(...t.split("."))._internalPath}catch(i){throw Uh("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Uh(e,t,n,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(i)),s&&(c+=" in document ".concat(r)),c+=")"),new ao(so.INVALID_ARGUMENT,a+e+c)}function Vh(e,t){return e.some((e=>e.isEqual(t)))}class Hh{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new uh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wh extends Hh{data(){return super.data()}}function Gh(e,t){return"string"==typeof t?jh(e,t):t instanceof Sh?t._internalPath:t._delegate._internalPath}function Kh(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ao(so.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qh{}class Jh extends Qh{}function Yh(e,t){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];t instanceof Qh&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof Zh)).length,n=e.filter((e=>e instanceof $h)).length;if(t>1||t>0&&n>0)throw new ao(so.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class $h extends Jh{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new $h(e,t,n)}_apply(e){const t=this._parse(e);return lp(e._query,t),new lh(e.firestore,e.converter,ma(e._query,t))}_parse(e){const t=Rh(e.firestore),n=function(e,t,n,i,r,o,s){let a;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ao(so.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){cp(s,o);const t=[];for(const n of s)t.push(ap(i,e,n));a={arrayValue:{values:t}}}else a=ap(i,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||cp(s,o),a=Oh(n,t,s,"in"===o||"not-in"===o);return js.create(r,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Xh(e,t,n){const i=t,r=Gh("where",e);return $h._create(r,i,n)}class Zh extends Qh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zh(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Us.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)lp(n,r),n=ma(n,r)}(e._query,t),new lh(e.firestore,e.converter,ma(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ep extends Jh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ep(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ao(so.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ao(so.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fs(t,n)}(e._query,this._field,this._direction);return new lh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ca(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function tp(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Gh("orderBy",e);return ep._create(n,t)}class np extends Jh{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new np(e,t,n)}_apply(e){return new lh(e.firestore,e.converter,va(e._query,this._limit,this._limitType))}}function ip(e){return oh("limit",e),np._create("limit",e,"F")}class rp extends Jh{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new rp(e,t,n)}_apply(e){const t=sp(e,this.type,this._docOrFields,this._inclusive);return new lh(e.firestore,e.converter,function(e,t){return new ca(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function op(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rp._create("startAfter",t,!1)}function sp(e,t,n,i){if(n[0]=M(n[0]),n[0]instanceof Hh)return function(e,t,n,i,r){if(!i)throw new ao(so.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of pa(e))if(s.field.isKeyField())o.push(Es(t,i.key));else{const e=i.data.field(s.field);if(ls(e))throw new ao(so.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new ao(so.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Ns(o,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=Rh(e.firestore);return function(e,t,n,i,r,o){const s=e.explicitOrderBy;if(r.length>s.length)throw new ao(so.INVALID_ARGUMENT,"Too many arguments provided to ".concat(i,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<r.length;c++){const o=r[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new ao(so.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(i,"(), but got a ").concat(typeof o));if(!ha(e)&&-1!==o.indexOf("/"))throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(i,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Io.fromString(o));if(!ko.isDocumentKey(n))throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(i,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const r=new ko(n);a.push(Es(t,r))}else{const e=Oh(n,i,o);a.push(e)}}return new Ns(a,o)}(e._query,e.firestore._databaseId,r,t,n,i)}}function ap(e,t,n){if("string"==typeof(n=M(n))){if(""===n)throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ha(t)&&-1!==n.indexOf("/"))throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=t.path.child(Io.fromString(n));if(!ko.isDocumentKey(i))throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return Es(e,new ko(i))}if(n instanceof uh)return Es(e,n._key);throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ih(n),"."))}function cp(e,t){if(!Array.isArray(e)||0===e.length)throw new ao(so.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function lp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ao(so.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ao(so.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class up{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return as(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw io()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Jo(e,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertVectorValue(e){var t,n,i;const r=null===(i=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map((e=>as(e.doubleValue)));return new wh(r)}convertGeoPoint(e){return new bh(as(e.latitude),as(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=us(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ds(e));default:return null}}convertTimestamp(e){const t=ss(e);return new wo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Io.fromString(e);ro(vl(n));const i=new ps(n.get(1),n.get(3)),r=new ko(n.popFirst(5));return i.isEqual(t)||eo("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function dp(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class hp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pp extends Hh{constructor(e,t,n,i,r,o){super(e,t,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Gh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class fp extends pp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gp{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new hp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new fp(this._firestore,this._userDataWriter,n.key,n,new hp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ao(so.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const i=new fp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new hp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new fp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,o=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:mp(t.type),doc:i,oldIndex:r,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return io()}}function vp(e){e=rh(e,uh);const t=rh(e.firestore,gh);return Yd(mh(t),e._key).then((n=>Ep(t,e,n)))}class yp extends up{constructor(e){super(),this.firestore=e}convertBytes(e){return new yh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uh(this.firestore,null,t)}}function Sp(e){e=rh(e,lh);const t=rh(e.firestore,gh),n=mh(t),i=new yp(t);return Kh(e._query),$d(n,e._query).then((n=>new gp(t,i,e,n)))}function Cp(e,t,n){e=rh(e,uh);const i=rh(e.firestore,gh),r=Rh(i);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=M(t))||t instanceof Sh?Mh(r,"updateDoc",e._key,t,n,a):xh(r,"updateDoc",e._key,t),wp(i,[o.toMutation(e._key,tc.exists(!0))])}function bp(e,t){const n=rh(e.firestore,gh),i=ph(e),r=dp(e.converter,t);return wp(n,[_h(Rh(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,tc.exists(!1))]).then((()=>i))}function wp(e,t){return function(e,t){const n=new co;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=Fd(e);try{const e=await function(e,t){const n=oo(e),i=wo.now(),r=t.reduce(((e,t)=>e.add(t.key)),La());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ta(),c=La();return n.cs.getEntries(e,r).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((r=>{o=r;const s=[];for(const e of t){const t=ac(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new uc(e.key,t,Ms(t.value.mapValue),tc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,s,t)})).next((t=>{s=t;const i=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:s.batchId,changes:_a(o)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Ba[e.currentUser.toKey()];i||(i=new $o(Co)),i=i.insert(t,n),e.Ba[e.currentUser.toKey()]=i}(i,e.batchId,n),await Od(i,e.changes),await Nu(i.remoteStore)}catch(e){const t=Ju(e,"Failed to persist write");n.reject(t)}}(await Qd(e),t,n))),n.promise}(mh(e),t)}function Ep(e,t,n){const i=n.docs.get(t._key),r=new yp(e);return new pp(e,r,t._key,i,new hp(n.hasPendingWrites,n.fromCache),t.converter)}class Pp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rh(e)}set(e,t,n){this._verifyNotCommitted();const i=Ip(e,this._firestore),r=dp(i.converter,t,n),o=_h(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(o.toMutation(i._key,tc.none())),this}update(e,t,n){this._verifyNotCommitted();const i=Ip(e,this._firestore);let r;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return r="string"==typeof(t=M(t))||t instanceof Sh?Mh(this._dataReader,"WriteBatch.update",i._key,t,n,s):xh(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,tc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ip(e,this._firestore);return this._mutations=this._mutations.concat(new fc(t._key,tc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ao(so.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ip(e,t){if((e=M(e)).firestore!==t)throw new ao(so.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Ap(e){return mh(e=rh(e,gh)),new Pp(e,(t=>wp(e,t)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Yr=e}(Qe),Ve(new O("firestore",((e,n)=>{let{instanceIdentifier:i,options:r}=n;const o=e.getProvider("app").getImmediate(),s=new gh(new po(e.getProvider("auth-internal")),new vo(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ao(so.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(e.options.projectId,t)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),$e(Qr,"4.7.1",e),$e(Qr,"4.7.1","esm2017")}();const Tp=Je({apiKey:"AIzaSyBNeonGTfBV2QhXxkufPueC-gQLCrcsB08",authDomain:"reviewtext-ad5c6.firebaseapp.com",databaseURL:"https://reviewtext-ad5c6.firebaseio.com",projectId:"reviewtext-ad5c6",storageBucket:"reviewtext-ad5c6.appspot.com",messagingSenderId:"892085575649",appId:"1:892085575649:web:b57abe0e1438f10dc6fca0"}),kp=function(e,t){const n="string"==typeof e?e:t||"(default)",i=He("object"==typeof e?e:Ye(),"firestore").getImmediate({identifier:n});if(!i._initialized){const e=(e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]})("firestore");e&&ch(i,...e)}return i}(Tp),Rp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();const t=He(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=He(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(A(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;mt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ir,persistence:[Oi,vi,Si]}),i=y("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=(r=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Rr)return;const i=null===t||void 0===t?void 0:t.token;_r!==i&&(_r=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))});!function(e,t,n){M(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,i){M(e).onIdTokenChanged(t,n,i)}(n,(e=>t(e)))}}var r;const o=m("auth");return o&&On(n,"http://".concat(o)),n}(Tp),_p={"Grade 1":{Mathematics:["Counting to 120","Understanding place value (ones and tens)","Addition and subtraction within 20","Adding three numbers","Basic word problems with addition and subtraction","Recognizing and drawing shapes","Understanding halves and fourths","Telling time to the half-hour","Measuring length using standard units","Collecting and organizing data into charts"],Science:["Basic life cycles (plants, animals)","Introduction to the five senses","Exploring weather and seasons","Identifying materials and their uses","Understanding how things move (pushes and pulls)","Basic astronomy (sun, moon, and stars)","Living vs. non-living things","Introduction to simple experiments"]},"Grade 2":{Mathematics:["Counting to 1,000: Learn to count sequentially up to 1,000 through number charts and counting exercises.","Skip counting by 2s, 5s, and 10s: Practice skip counting using songs, number lines, and skip counting worksheets.","Place value (hundreds, tens, and ones): Understand the value of each digit in a three-digit number with place value blocks and charts.","Comparing and ordering 3-digit numbers: Use comparison symbols and ordering activities to arrange numbers from smallest to largest.","Addition within 100: Solve addition problems using objects, drawings, and number sentences up to 100.","Subtraction within 100: Practice subtracting numbers up to 100 using subtraction mats and story problems.","Addition and subtraction within 1,000: Extend addition and subtraction skills to larger numbers with regrouping exercises.","Adding and subtracting whole hundreds: Focus on adding and subtracting multiples of 100 through practical examples.","Adding up to four 2-digit numbers: Combine multiple addition problems into single sums using column addition methods.","Word problems involving addition and subtraction: Enhance problem-solving skills by solving real-life addition and subtraction scenarios.","Introduction to 3-digit numbers: Explore the structure and reading of three-digit numbers through interactive games.","Working with 3-digit numbers: Engage in activities that involve comparing, ordering, and performing operations with three-digit numbers.","Odd and even numbers: Identify and classify numbers as odd or even using sorting activities and number charts.","Ordinal numbers: Learn the position of objects in a sequence using ordinal number exercises and ordering tasks.","Mental arithmetic strategies (e.g., making tens): Develop mental math skills by practicing strategies like making tens and breaking numbers apart.","Basic multiplication concepts (e.g., repeated addition): Introduce multiplication as repeated addition through grouping activities and arrays.","Basic division concepts (e.g., sharing equally): Explain division as sharing equally using manipulatives and simple division problems.","Time telling to the hour and half-hour: Read analog and digital clocks to tell time to the nearest hour and half-hour with clock worksheets.","Time telling to the nearest five minutes: Practice reading time to the nearest five minutes using clock models and time-telling exercises.","Reading analog and digital clocks: Compare and interpret both analog and digital clock formats through matching and drawing activities.","Understanding a.m. and p.m.: Differentiate between morning and afternoon times using daily schedules and clock activities.","Coin values and counting coins: Identify different coins and their values, and practice counting money with coin manipulatives.","Making coin combinations to make up given amounts: Solve money problems by creating various combinations of coins to reach specific amounts.","Money concepts and calculations: Learn to add and subtract money amounts through practical transactions and money worksheets.","Identifying and comparing shapes (2D and 3D shapes): Recognize and describe different two-dimensional and three-dimensional shapes using shape sorting activities.","Understanding symmetry: Explore symmetrical shapes and create symmetrical drawings using mirrors and symmetry worksheets.","Basic fractions (halves, thirds, quarters): Introduce simple fractions through dividing shapes and objects into equal parts.","Measurement of length, weight, and capacity using standard units: Measure objects using rulers, scales, and measuring cups with hands-on activities.","Comparing measurements: Compare the length, weight, and capacity of different objects using measurement tools and comparison charts.","Collecting and organizing data: Gather data through surveys and sort information using tables and charts.","Reading and creating simple graphs (bar graphs, picture graphs, line plots): Interpret and create various types of simple graphs using data collected from the classroom.","Patterns and sequences (identifying and extending patterns): Identify, create, and extend patterns using colors, shapes, and numbers in sequence activities.","Recognizing and creating patterns with numbers and shapes: Develop pattern recognition skills by working with numerical and geometric patterns through interactive games.","Introduction to basic geometry (lines, corners, and angles): Learn about basic geometric terms and identify different types of lines and angles in shapes.","Understanding and using tools for measurement (ruler, measuring tape): Practice using measurement tools accurately through guided measurement activities.","Basic data interpretation (reading simple charts and graphs): Enhance data interpretation skills by reading and analyzing simple charts and graphs from various sources."],Science:["Plants and their parts (roots, stems, leaves, flowers): Study the different parts of a plant and complete a label-the-plant diagram as homework.","Plant life cycles: Learn about the stages of a plant's life cycle through drawing and observation activities.","Animal life and habitats: Explore various animal lives and their natural habitats using habitat dioramas and research projects.","Animal classification (mammals, birds, reptiles, amphibians, fish, insects): Classify animals into different groups and create classification charts.","Food chains and life cycles: Understand how animals and plants are interconnected in food chains through diagram drawing and storytelling.","Ecosystems and habitats (deserts, forests, oceans): Investigate different ecosystems by creating habitat models and completing related worksheets.","Weather and seasons: Study different weather patterns and seasonal changes through weather charts and seasonal activities.","The water cycle: Learn about the stages of the water cycle with interactive diagrams and water cycle crafts.","Earth\u2019s resources (soil, rocks, water, air): Identify and explore Earth's natural resources through hands-on exploration and resource sorting tasks.","Conservation and recycling: Understand the importance of conservation and recycling by participating in classroom recycling projects.","Matter and its states (solid, liquid, gas): Explore the three states of matter with experiments that demonstrate changes in state.","Physical properties of objects (texture, flexibility, strength): Investigate and describe objects based on their physical properties through tactile activities.","Simple machines (lever, pulley, wheel and axle, inclined plane, screw): Learn about basic machines by building simple models and identifying their uses.","Force and motion (pushes and pulls): Explore how forces affect motion through experiments with pushing and pulling objects.","Gravity: Understand the concept of gravity by observing how objects fall and discussing why things stay grounded.","Magnets and their properties: Discover how magnets work by testing magnetic and non-magnetic materials through hands-on experiments.","Heat and its effects (melting, boiling): Observe and record how heat changes the state of different materials through heating experiments.","Sound and vibrations: Learn how sound is produced and travels by experimenting with different sound sources and vibration activities.","Light and shadows: Explore how light creates shadows through shadow tracing and light experiments using flashlights.","Basic astronomy concepts: Introduce basic astronomy by learning about celestial bodies and observing the night sky.","The sun, moon, planets, and stars: Study the main components of our solar system through models and space-related projects.","Phases of the moon: Learn about the different phases of the moon by tracking the moon over several weeks and drawing observations.","Day and night: Understand the cycle of day and night by observing daily changes and discussing the Earth's rotation.","Space exploration: Discover basic facts about space exploration and famous space missions through videos and presentations.","Simple investigations and experiments: Conduct simple science experiments to explore hypotheses and observe outcomes.","Making observations: Develop observation skills by using senses to explore and record findings in science journals.","Recording data (charts, graphs): Practice recording scientific data using charts and graphs to represent observations.","Scientific inquiry (asking questions, making predictions): Engage in scientific inquiry by formulating questions and making predictions before experiments.","Health and human body basics (senses, nutrition, hygiene): Learn about the human body, senses, and the importance of nutrition and hygiene through interactive lessons.","Life cycles of insects (e.g., butterfly, beetle): Study the life cycles of different insects by observing metamorphosis and creating life cycle charts.","Environmental awareness (pollution, conservation): Discuss environmental issues and ways to help conserve the environment through projects and discussions.","Properties of water (floating and sinking): Explore why some objects float or sink in water through hands-on experiments and observation activities.","Introduction to fossils and paleontology: Learn about fossils and how scientists study ancient life forms through fossil digging activities and creating fossil replicas.","Weather instruments and measurements: Identify and use basic weather instruments like thermometers and rain gauges to measure and record weather data.","Introduction to ecosystems and biodiversity: Understand the variety of life in different ecosystems and the importance of biodiversity through interactive lessons and habitat projects."]},"Grade 3":{Mathematics:["Single Digit to Single Digit Multiplications","Multiplication facts (0-10)","Division concepts","Division facts (0-10)","Multiplication and division word problems","Four-digit numbers","Addition and subtraction with regrouping","Introduction to fractions","Equivalent fractions","Comparing fractions","Area and perimeter","Data analysis and graphs","Measurement of time, liquid volume, and mass","Basic geometry: shapes and their properties","Lines and polygons","Scaled pictographs","Problem-solving strategies","Number patterns","Place value","Rounding numbers"],Science:["Ecosystems and their components","Forces and motion","Adaptations of plants and animals","Fossils and the study of the past","Climate and weather patterns","The solar system","Earth and space","Plant structures and functions","Plant responses","Animal classification","Animal adaptations","Properties of matter","Changes in matter","Forms of energy: motion, heat, and light","Gravity","Stars","Electricity and magnetism","Heat and light","Scientific investigations","Making predictions"]},"Grade 4":{Mathematics:["Place value to millions","Multi-digit multiplication","Division strategies","Factors and multiples","Rounding","Addition and subtraction with regrouping","Fraction operations (addition, subtraction)","Comparing fractions and decimals","Equivalent fractions","Introduction to decimals","Geometric measurements (area, perimeter)","Lines and angles","Data representation in tables and graphs","Analyzing data","Solving word problems with multiple steps","Multiplication by 1 and 2 digit numbers","Decimal points","Creating number sentences and equations","Perimeter and area of shapes","Introduction to data representation"],Science:["States of matter (solid, liquid, gas)","Properties of matter","Matter and mass","Heat and thermal energy","Physical and chemical changes","Mixtures and solutions","Erosion","Waves and their properties","Human body systems","Light and energy transfer","Electricity and magnetism","Structure and function in organisms","The water cycle","The solar system and movement of Earth","Photosynthesis","Rock formations","Aquatic biomes","Scientific investigations","Representing data in graphs and tables","Using science notebooks"]},"Grade 5":{Mathematics:["Decimal operations (addition, subtraction, multiplication, division)","Advanced fraction operations (addition, subtraction, multiplication, division)","Converting decimals and fractions","Fractions vs decimals","Mixed operations with whole numbers","Volume and geometry","Order of operations","Powers of ten","Exponents","Pattern analysis","Integers (introduction to negative numbers)","Metric and customary measurements","Coordinate planes","Numerical expressions","Multiplying and dividing by powers of ten","Multiplying and dividing large numbers","Rectangular arrays","Word problems with fractions and decimals","Factors, multiples and divisibility","Data and graphing"],Science:["Properties of matter","Chemical changes","Physical changes","Food webs and food chains","The water cycle","Moon phases and the lunar cycle","The particle nature of matter","Sun and other stars","Interactions of Earth's spheres","Earth's orbit and rotation","How we use food","Water quality and distribution","Matter and its properties","Ecosystems and their interactions","Energy transformations","Atoms and molecules","Force and motion","Magnets","The solar system and its components","Environmental changes and evolution"]},"Grade 6":{Mathematics:["Ratios and rates","Unit rates and percentages","Dividing fractions by fractions","Operations with multi-digit decimals","Greatest common factor and least common multiple","Distributive property","Understanding positive and negative numbers","Absolute value","Coordinate plane (four quadrants)","Writing and evaluating numerical expressions with exponents","Writing algebraic expressions","Evaluating algebraic expressions","Solving one-variable equations and inequalities","Dependent and independent variables","Area of triangles and quadrilaterals","Volume of right rectangular prisms","Surface area using nets","Statistical variability","Measures of center (mean, median, mode)","Data displays (histograms, box plots)","Summarizing data distributions","Proportional relationships"],Science:["Structure and function of cells","Cell theory","Photosynthesis and respiration","Ecosystems and biomes","Food webs and energy pyramids","Classification of organisms","Adaptations of organisms","Human body systems (digestive, circulatory, respiratory)","Genetics and heredity (basic concepts)","Natural selection and evolution (introduction)","Earth's layers and plate tectonics","Rocks and minerals","Weathering and erosion","The water cycle and weather patterns","Climate and climate change","Renewable and nonrenewable resources","Forces and motion (Newton's Laws)","Simple machines","Energy forms and transformations","Waves (sound and light)","The scientific method and experimental design","Engineering design process"]},"Grade 7":{"Maths - Number and operations":["Add, subtract, multiply, and divide rational numbers fluently","Add integers using counters","Integer addition rules","Add integers","Subtract integers using counters","Integer subtraction rules","Subtract integers","Integer addition and subtraction rules","Add and subtract integers","Complete addition and subtraction equations with integers","Integer multiplication rules","Multiply integers","Integer division rules","Equal quotients of integers","Divide integers","Integer multiplication and division rules","Multiply and divide integers","Complete multiplication and division equations with integers","Add, subtract, multiply, and divide integers","Add and subtract decimals","Multiply decimals","Divide decimals","Add, subtract, multiply, or divide two decimals","Add and subtract fractions","Add and subtract mixed numbers","Multiply fractions","Multiply mixed numbers","Divide fractions","Divide mixed numbers","Add and subtract positive and negative decimals","Add and subtract positive and negative fractions","Add and subtract rational numbers","Apply addition and subtraction rules","Multiply and divide positive and negative decimals","Multiply and divide positive and negative fractions","Multiply and divide rational numbers","Apply multiplication and division rules","Multiply fractions and whole numbers","Add and subtract integers: word problems","Evaluate numerical expressions involving integers","Add and subtract decimals: word problems","Multiply decimals and whole numbers: word problems","Divide decimals by whole numbers: word problems","Add, subtract, multiply, and divide decimals: word problems","Maps with decimal distances","Evaluate numerical expressions involving decimals","Add and subtract fractions: word problems","Add and subtract mixed numbers: word problems","Multiply fractions and mixed numbers: word problems","Divide fractions and mixed numbers: word problems","Add, subtract, multiply, and divide fractions and mixed numbers: word problems","Maps with fractional distances","Evaluate numerical expressions involving fractions","Multi-step word problems with positive rational numbers","Add, subtract, multiply, and divide money amounts: word problems","Price lists","Unit prices: find the total price"],"Maths - Proportionality":["Write equations for proportional relationships from tables","Identify proportional relationships by graphing","Write equations for proportional relationships from graphs","Identify proportional relationships from graphs and equations","Interpret graphs of proportional relationships","Write and solve equations for proportional relationships","Constant rate of change: tables","Constant rate of change: graphs","Calculate unit rates from rates in mathematical and real-world problems","Unit rates","Calculate unit rates with fractions","Find the constant of proportionality from a table","Unit prices","Unit prices with unit conversions","Determine the constant of proportionality within mathematical and real-world problems","Find the constant of proportionality from a graph","Solve problems involving ratios, rates, and percents, including multi-step problems involving percent increase and percent decrease","Compare ratios: word problems","Solve word problems using unit rates","Percents of numbers: word problems","Solve percent equations: word problems","Percent of change","Percent of change: word problems","Percent of change: find the original amount word problems","Percent error: word problems","Unit prices: find the total price","Percent of a number: tax, discount, and more","Which is the better coupon?","Find the percent: tax, discount, and more","Sale prices: find the original price","Multi-step problems with percents","Estimate tips","Convert between customary and metric systems"],"Maths - Expressions, equations, and relationships":["Identify independent and dependent variables","Find a value using two-variable equations","Evaluate two-variable equations: word problems","Complete a table for a two-variable relationship","Write a two-variable equation","Identify the graph of an equation","Graph a two-variable equation","Interpret a graph: word problems","Write an equation from a graph using a table","Write a linear equation from a graph","Write one-variable two-step equations","Write one-variable two-step inequalities","Represent equations and inequalities on number lines","Determine solutions to equations and inequalities","Solve equations using geometric concepts","Algebraic reasoning with angles and sides of geometric figures"],"Maths - Measurement and data":["Volume of rectangular prisms and pyramids","Surface area of rectangular prisms and pyramids","Relationship between volume of prisms and pyramids","Circumference and area of circles","Area of composite figures","Comparing data using box plots and dot plots","Inference from random samples","Comparing populations based on random samples","Measures of central tendency and variability","Volume of cubes and prisms","Volume of cubes and rectangular prisms: word problems","Volume of pyramids","Parts of a circle","Circumference of circles","Area of circles","Circles: word problems","Semicircles: calculate area, perimeter, radius, and diameter","Quarter circles: calculate area, perimeter, and radius","Area of compound figures with triangles","Area of compound figures with triangles, semicircles, and quarter circles","Nets of prisms and pyramids","Surface area of cubes and prisms","Surface area of pyramids","Lateral area of prisms and pyramids"],"Maths - Personal financial literacy":["Calculate sales tax for a given purchase","Calculate income tax for earned wages","Identify components of a personal budget","Calculate percentage of each budget category","Create financial records and net worth statements","Use budget estimators for household budgeting","Calculate simple interest","Calculate compound interest","Analyze monetary incentives (sales, rebates, coupons)","Solve percent equations","Unit prices","Percent of a number: tax, discount, and more","Which is the better coupon?","Find the percent: tax, discount, and more","Sale prices: find the original price","Multi-step problems with percents"],"Maths - Probability and statistics":["Represent sample spaces for simple events using lists and tree diagrams","Represent sample spaces for compound events using lists and tree diagrams","Find the number of outcomes for compound events","Select and use different simulations to represent events","Make predictions using experimental probability","Determine solutions using experimental probability","Make predictions using theoretical probability","Find probabilities of simple events and their complements","Estimate population size using proportions","Solve problems using data in bar graphs, dot plots, and circle graphs","Interpret line plots with fractions","Interpret bar graphs","Interpret circle graphs","Estimate population size using proportions","Make predictions using experimental and theoretical probability","Determine experimental and theoretical probabilities for events","Identify independent and dependent events","Find probabilities of independent and dependent events"],"Science - Scientific investigation and reasoning":["Laboratory safety: Demonstrate safe practices during laboratory and field investigations as outlined in TEA-approved safety standards","Conservation of resources: Practice appropriate use and conservation of resources, including disposal, reuse, or recycling of materials","Scientific investigations: Plan and implement comparative and descriptive investigations by making observations, asking well-defined questions, and using appropriate equipment and technology","Scientific investigations: The process of scientific inquiry","Scientific investigations: Identify laboratory tools","Experimental design: Design and implement experimental investigations by making observations, asking well-defined questions, formulating testable hypotheses, and using appropriate equipment and technology","Experimental design: Identify control and experimental groups","Experimental design: Identify independent and dependent variables","Experimental design: Identify the experimental question","Experimental design: Identify questions that can be investigated with a set of materials","Experimental design: Understand an experimental protocol about plant growth","Experimental design: Understand an experimental protocol about diffusion","Data collection: Collect and record data using the International System of Units (SI) and qualitative means such as labeled drawings, writing, and graphic organizers","Data collection: Choose metric units of distance, mass, and volume","Data analysis: Construct tables and graphs, using repeated trials and means, to organize data and identify patterns","Data analysis: Use data from tests to compare engineering-design solutions","Data analysis: Analyze data to formulate reasonable explanations, communicate valid conclusions supported by the data, and predict trends","Critical thinking: Evaluate claims about natural resource use: groundwater","Critical thinking: Factors affecting climate: altitude","Critical thinking: Analyze data to compare properties of planets","Models: Use models to represent aspects of the natural world such as human body systems and plant and animal cells","Models: Plant cell diagrams - label parts","Models: Animal cell diagrams - label parts","Models: Organization in the human body","Advantages and limitations of models: Analyze models of the Earth-Sun-Moon system","Impact of research: Explore the engineering-design process: going to the Moon!","Laboratory tools: Identify laboratory tools","Safety equipment: Laboratory safety equipment"],"Science - Matter and energy":["Photosynthesis: Recognize that radiant energy from the Sun is transformed into chemical energy through photosynthesis","Photosynthesis: How do plants use and change energy?","Photosynthesis: Identify the photosynthetic organism","Energy flow: Diagram the flow of energy through living systems, including food chains, food webs, and energy pyramids","Energy flow: How does matter move in food chains?","Energy flow: Interpret food webs I","Energy flow: Interpret food webs II","Energy flow: The carbon cycle","Physical and chemical changes: Distinguish between physical and chemical changes in matter","Physical and chemical changes: Compare physical and chemical changes"],"Science - Force, motion, and energy":["Energy transformations: Illustrate the transformation of energy within an organism such as the transfer from chemical energy to thermal energy","Energy transformations: Explore energy transformations: bike ride","Energy transformations: How do plants use and change energy?","Forces affecting motion in organisms: Demonstrate and illustrate forces that affect motion in organisms such as emergence of seedlings, turgor pressure, geotropism, and circulation of blood"],"Science - Earth and space":["Catastrophic events: Predict and describe how catastrophic events such as floods, hurricanes, or tornadoes impact ecosystems","Weathering and erosion: Analyze the effects of weathering, erosion, and deposition on the environment in ecoregions of Texas","Weathering and erosion: How do rock layers form?","Human impact on water: Model the effects of human activity on groundwater and surface water in a watershed","Human impact on water: Evaluate claims about natural resource use: groundwater","Solar system and life: Analyze the characteristics of objects in our solar system that allow life to exist such as the proximity of the Sun, presence of water, and composition of the atmosphere","Space exploration: Identify the accommodations that enabled manned space exploration, considering the characteristics of our solar system","Space exploration: Explore the engineering-design process: going to the Moon!"],"Science - Organisms and environments":["Ecosystems: Observe and describe how different environments support different varieties of organisms","Ecosystems: Describe populations, communities, and ecosystems","Ecosystems: Identify ecosystems","Ecosystems: Describe ecosystems","Biodiversity: Describe how biodiversity contributes to the sustainability of an ecosystem","Biodiversity: Coral reef biodiversity and human uses - explore a problem","Biodiversity: Coral reef biodiversity and human uses - evaluate solutions","Ecological succession: Observe, record, and describe the role of ecological succession such as in a microhabitat of a garden with weeds","Ecological succession: Investigate primary succession on a volcanic island","Variation and survival: Explain variation within a population or species by comparing external features, behaviors, or physiology of organisms","Variation and survival: How can animal behaviors affect reproductive success? Identify evidence to support a claim","Variation and survival: Introduction to natural selection","Variation and survival: Construct explanations of natural selection","Genetic traits: Identify some changes in genetic traits that have occurred over several generations through natural selection and selective breeding","Genetic traits: Calculate the percentages of traits in a population","Genetic traits: Calculate the averages of traits in a population","Genetic traits: Construct explanations of natural selection","Human body systems: Identify the main functions of the systems of the human organism","Human body systems: Body systems - circulation and respiration","Human body systems: Body systems - digestion","Human body systems: Body systems - removing waste","Human body systems: Body systems - perception and motion","Human body systems: Organization in the human body","Human body systems: Science literacy - How does the nervous system produce phantom pain?","Levels of organization: Recognize levels of organization in plants and animals, including cells, tissues, organs, organ systems, and organisms","Cell organelles: Differentiate between structure and function in plant and animal cell organelles","Cell organelles: Identify functions of plant cell parts","Cell organelles: Identify functions of animal cell parts","Cell organelles: Plant cell diagrams - label parts","Cell organelles: Animal cell diagrams - label parts","Cell organelles: Compare cells and cell parts","Cell theory: Recognize the components of cell theory","Cell theory: Understanding cells","Heredity: Define heredity as the passage of genetic instructions from one generation to the next generation","Heredity: Genetic variation in sexual reproduction","Heredity: Genes, proteins, and traits - understanding the genetic code","Reproduction: Compare the results of uniform or diverse offspring from asexual or sexual reproduction","Reproduction: Cell division","Reproduction: Genetics vocabulary - genotype and phenotype","Reproduction: Genetics vocabulary - dominant and recessive","Reproduction: Complete and interpret Punnett squares","Reproduction: Use Punnett squares to calculate ratios of offspring types","Reproduction: Use Punnett squares to calculate probabilities of offspring types","Reproduction: Angiosperm and conifer life cycles","Reproduction: Moss and fern life cycles","Genes and chromosomes: Recognize that inherited traits of individuals are governed in the genetic material found in the genes within chromosomes in the nucleus","Genes and chromosomes: Genes, proteins, and traits - understanding the genetic code","Genes and chromosomes: Describe the effects of gene mutations on organisms"]},"Grade 8":{"Maths - Number and operations":["Number and operations - extend previous knowledge of sets and subsets using a visual representation to describe relationships between sets of real numbers","Number and operations - Classify numbers","Number and operations - approximate the value of an irrational number, including \u03c0 and square roots of numbers less than 225, and locate that rational number approximation on a number line","Number and operations - Estimate positive square roots","Number and operations - Estimate positive and negative square roots","Number and operations - Irrational numbers on number lines","Number and operations - convert between standard decimal notation and scientific notation","Number and operations - Convert between standard and scientific notation","Number and operations - Compare numbers written in scientific notation","Number and operations - order a set of real numbers arising from mathematical and real-world contexts","Number and operations - Compare and order rational and irrational numbers","Number and operations - Checkpoint: Classify real numbers","Number and operations - Checkpoint: Approximate irrational numbers","Number and operations - Checkpoint: Scientific notation"],"Maths - Proportionality":["Proportionality - generalize that the ratio of corresponding sides of similar shapes are proportional, including a shape and its dilation","Proportionality - Similar and congruent figures","Proportionality - Identify similar triangles","Proportionality - Side lengths and angle measures of similar figures","Proportionality - Similar solids","Proportionality - compare and contrast the attributes of a shape and its dilation(s) on a coordinate plane","Proportionality - Dilations: find the scale factor","Proportionality - use an algebraic representation to explain the effect of a given positive rational scale factor applied to two-dimensional figures on a coordinate plane with the origin as the center of dilation","Proportionality - Dilations: graph the image","Proportionality - Dilations: find the coordinates","Proportionality - Checkpoint: Dilations and similarity","Proportionality - use similar right triangles to develop an understanding that slope, m, given as the rate comparing the change in y-values to the change in x-values, (y2 - y1)/ (x2 - x1), is the same for any two points (x1, y1) and (x2, y2) on the same line","Proportionality - graph proportional relationships, interpreting the unit rate as the slope of the line that models the relationship","Proportionality - Find the constant of proportionality from a graph","Proportionality - Graph proportional relationships and find the slope","Proportionality - use data from a table or graph to determine the rate of change or slope and y-intercept in mathematical and real-world problems","Proportionality - Find the constant of proportionality from a table","Proportionality - Find the constant of proportionality from a graph","Proportionality - Find the slope from a graph","Proportionality - Find the slope from a table","Proportionality - Rate of change of a linear function: tables","Proportionality - Rate of change of a linear function: graphs","Proportionality - Interpret the slope and y-intercept of a linear function","Proportionality - Write a linear function from a table","Proportionality - Checkpoint: Interpret slopes and y-intercepts","Proportionality - represent linear proportional situations with tables, graphs, and equations in the form of y = kx","Proportionality - Proportional relationships: complete a table and make a graph","Proportionality - Write equations for proportional relationships from tables","Proportionality - Write equations for proportional relationships from graphs","Proportionality - Graph proportional relationships and find the slope","Proportionality - Interpret graphs of proportional relationships","Proportionality - represent linear non-proportional situations with tables, graphs, and equations in the form of y = mx + b, where b \u2260 0","Proportionality - Graph a line from an equation in slope-intercept form","Proportionality - Complete a table for a linear relationship","Proportionality - Interpret points on the graph of a linear function","Proportionality - Write a linear function from a table","Proportionality - Compare linear functions: tables, graphs, and equations","Proportionality - Write linear functions: word problems","Proportionality - Evaluate a linear function: word problems","Proportionality - Complete a table and graph a linear relationship","Proportionality - contrast bivariate sets of data that suggest a linear relationship with bivariate sets of data that do not suggest a linear relationship from a graphical representation","Proportionality - Identify trends with scatter plots","Proportionality - Outliers in scatter plots","Proportionality - use a trend line that approximates the linear relationship between bivariate sets of data to make predictions","Proportionality - Make predictions with scatter plots","Proportionality - Identify lines of best fit","Proportionality - Write equations for lines of best fit","Proportionality - Interpret lines of best fit: word problems","Proportionality - solve problems involving direct variation","Proportionality - Interpret graphs of proportional relationships","Proportionality - Write and solve equations for proportional relationships","Proportionality - Find the constant of variation","Proportionality - Identify direct variation","Proportionality - Write direct variation equations","Proportionality - Write and solve direct variation equations","Proportionality - distinguish between proportional and non-proportional situations using tables, graphs, and equations in the form y = kx or y = mx + b, where b \u2260 0","Proportionality - Identify proportional relationships by graphing","Proportionality - Identify proportional relationships from graphs and equations","Proportionality - Identify proportional relationships from tables","Proportionality - identify functions using sets of ordered pairs, tables, mappings, and graphs","Proportionality - Identify functions","Proportionality - Identify functions: graphs","Proportionality - identify examples of proportional and non-proportional functions that arise from mathematical and real-world problems","Proportionality - Identify proportional relationships by graphing","Proportionality - Identify proportional relationships from graphs and equations","Proportionality - Identify proportional relationships from tables","Proportionality - Identify proportional relationships: word problems","Proportionality - write an equation in the form y = mx + b to model a linear relationship between two quantities using verbal, numerical, tabular, and graphical representations","Proportionality - Write a linear equation from a slope and y-intercept","Proportionality - Write a linear equation from a graph","Proportionality - Write a linear equation from a slope and a point","Proportionality - Write a linear equation from two points","Proportionality - Convert a linear equation in standard form to slope-intercept form","Proportionality - Write a linear function from a table","Proportionality - Write linear functions: word problems","Proportionality - Checkpoint: Proportional relationships","Proportionality - Checkpoint: Interpret proportional and non-proportional relationships","Proportionality - Checkpoint: Linear models","Proportionality - Checkpoint: Understand functions","Proportionality - Checkpoint: Construct and interpret linear functions"],"Maths - Expressions, equations, and relationships":["Expressions, equations, and relationships - describe the volume formula V = Bh of a cylinder in terms of its base area and its height","Expressions, equations, and relationships - model the relationship between the volume of a cylinder and a cone having both congruent bases and heights and connect that relationship to the formulas","Expressions, equations, and relationships - use models and diagrams to explain the Pythagorean theorem","Expressions, equations, and relationships - solve problems involving the volume of cylinders, cones, and spheres","Expressions, equations, and relationships - Volume of cylinders","Expressions, equations, and relationships - Volume of cones","Expressions, equations, and relationships - Volume of spheres","Expressions, equations, and relationships - use previous knowledge of surface area to make connections to the formulas for lateral and total surface area and determine solutions for problems involving rectangular prisms, triangular prisms, and cylinders","Expressions, equations, and relationships - Surface area of prisms","Expressions, equations, and relationships - Surface area of cylinders","Expressions, equations, and relationships - Lateral area of prisms","Expressions, equations, and relationships - Lateral area of cylinders","Expressions, equations, and relationships - use the Pythagorean Theorem and its converse to solve problems","Expressions, equations, and relationships - Pythagorean theorem: find the length of the hypotenuse","Expressions, equations, and relationships - Pythagorean theorem: find the missing leg length","Expressions, equations, and relationships - Pythagorean theorem: find the missing leg or hypotenuse length","Expressions, equations, and relationships - Pythagorean theorem: find the perimeter","Expressions, equations, and relationships - Pythagorean theorem: word problems","Expressions, equations, and relationships - Converse of the Pythagorean theorem: is it a right triangle?","Expressions, equations, and relationships - determine the distance between two points on a coordinate plane using the Pythagorean Theorem","Expressions, equations, and relationships - Find the distance between two points","Expressions, equations, and relationships - Checkpoint: Volume","Expressions, equations, and relationships - Checkpoint: Surface area of prisms and cylinders","Expressions, equations, and relationships - Checkpoint: The Pythagorean theorem","Expressions, equations, and relationships - write one-variable equations or inequalities with variables on both sides that represent problems using rational number coefficients and constants","Expressions, equations, and relationships - Solve equations with variables on both sides: word problems","Expressions, equations, and relationships - Create equations with no solutions or infinitely many solutions","Expressions, equations, and relationships - write a corresponding real-world problem when given a one-variable equation or inequality with variables on both sides of the equal sign using rational number coefficients and constants","Expressions, equations, and relationships - model and solve one-variable equations with variables on both sides of the equal sign that represent mathematical and real-world problems using rational number coefficients and constants","Expressions, equations, and relationships - Solve equations involving like terms","Expressions, equations, and relationships - Solve equations with variables on both sides","Expressions, equations, and relationships - Solve equations with variables on both sides: fractional coefficients","Expressions, equations, and relationships - Solve equations with variables on both sides: word problems","Expressions, equations, and relationships - Solve equations with the distributive property","Expressions, equations, and relationships - Solve multi-step equations","Expressions, equations, and relationships - Solve multi-step equations with fractional coefficients","Expressions, equations, and relationships - Solve equations: mixed review","Expressions, equations, and relationships - Solve multi-step equations: complete the solution","Expressions, equations, and relationships - use informal arguments to establish facts about the angle sum and exterior angle of triangles, the angles created when parallel lines are cut by a transversal, and the angle-angle criterion for similarity of triangles","Expressions, equations, and relationships - Identify alternate interior and alternate exterior angles","Expressions, equations, and relationships - Transversals of parallel lines: name angle pairs","Expressions, equations, and relationships - Transversals of parallel lines: find angle measures","Expressions, equations, and relationships - Transversals of parallel lines: solve for x","Expressions, equations, and relationships - Find missing angles in triangles","Expressions, equations, and relationships - Find missing angles in triangles using ratios","Expressions, equations, and relationships - Triangle Angle-Sum Theorem","Expressions, equations, and relationships - Exterior Angle Theorem","Expressions, equations, and relationships - Angle-angle criterion for similar triangles","Expressions, equations, and relationships - Checkpoint: Triangles and transversals","Expressions, equations, and relationships - Checkpoint: Problem solving with equations and inequalities","Expressions, equations, and relationships - identify and verify the values of x and y that simultaneously satisfy two linear equations in the form y = mx + b from the intersections of the graphed equations","Expressions, equations, and relationships - Is (x, y) a solution to the system of equations?","Expressions, equations, and relationships - Solve a system of equations by graphing: word problems","Expressions, equations, and relationships - Solve a system of equations by graphing","Expressions, equations, and relationships - Checkpoint: Systems of equations"],"Maths - Two-dimensional shapes":["Two-dimensional shapes - generalize the properties of orientation and congruence of rotations, reflections, translations, and dilations of two-dimensional shapes on a coordinate plane","Two-dimensional shapes - Determine if two figures are congruent: justify your answer","Two-dimensional shapes - Dilations: find the scale factor","Two-dimensional shapes - differentiate between transformations that preserve congruence and those that do not","Two-dimensional shapes - Identify reflections, rotations, and translations","Two-dimensional shapes - explain the effect of translations, reflections over the x- or y-axis, and rotations limited to 90\xb0, 180\xb0, 270\xb0, and 360\xb0 as applied to two-dimensional shapes on a coordinate plane using an algebraic representation","Two-dimensional shapes - Identify reflections, rotations, and translations","Two-dimensional shapes - Translations: graph the image","Two-dimensional shapes - Translations: find the coordinates","Two-dimensional shapes - Translations: write the rule","Two-dimensional shapes - Reflections over the x- and y-axes: graph the image","Two-dimensional shapes - Reflections over the x- and y-axes: find the coordinates","Two-dimensional shapes - Rotations: graph the image","Two-dimensional shapes - Rotations: find the coordinates","Two-dimensional shapes - Reflections and rotations: write the rule","Two-dimensional shapes - Describe transformations","Two-dimensional shapes - model the effect on linear and area measurements of dilated two-dimensional shapes","Two-dimensional shapes - Area and perimeter of similar figures","Two-dimensional shapes - Checkpoint: Translations, reflections, and rotations on the coordinate plane","Two-dimensional shapes - Checkpoint: Properties of transformations"],"Maths - Measurement and data":["Measurement and data - construct a scatterplot and describe the observed data to address questions of association such as linear, non-linear, and no association between bivariate data","Measurement and data - Create scatter plots","Measurement and data - Identify trends with scatter plots","Measurement and data - Outliers in scatter plots","Measurement and data - determine the mean absolute deviation and use this quantity as a measure of the average distance data are from the mean using a data set of no more than 10 data points","Measurement and data - Calculate mean absolute deviation","Measurement and data - Interpret mean and mean absolute deviation","Measurement and data - simulate generating random samples of the same size from a population with known characteristics to develop the notion of a random sample being representative of the population from which it was selected","Measurement and data - Which simulation represents the situation?","Measurement and data - Identify representative, random, and biased samples","Measurement and data - Checkpoint: Scatter plots","Measurement and data - Checkpoint: Mean absolute deviation"],"Maths - Personal financial literacy":["Personal financial literacy - solve real-world problems comparing how interest rate and loan length affect the cost of credit","Personal financial literacy - calculate the total cost of repaying a loan, including credit cards and easy access loans, under various rates of interest and over different periods using an online calculator","Personal financial literacy - explain how small amounts of money invested regularly, including money saved for college and retirement, grow over time","Personal financial literacy - calculate and compare simple interest and compound interest earnings","Personal financial literacy - Simple interest","Personal financial literacy - Compound interest","Personal financial literacy - identify and explain the advantages and disadvantages of different payment methods","Personal financial literacy - Identify advantages and disadvantages of payment methods","Personal financial literacy - Debit cards and credit cards","Personal financial literacy - analyze situations to determine if they represent financially responsible decisions and identify the benefits of financial responsibility and the costs of financial irresponsibility","Personal financial literacy - estimate the cost of a two-year and four-year college education, including family contribution, and devise a periodic savings plan for accumulating the money needed to contribute to the total cost of attendance for at least the first year of college"],"Science - Scientific investigation and reasoning":["Laboratory safety: Demonstrate safe practices during laboratory and field investigations as outlined in TEA-approved safety standards","Conservation of resources: Practice appropriate use and conservation of resources, including disposal, reuse, or recycling of materials","Scientific investigations: Plan and implement comparative and descriptive investigations by making observations, asking well-defined questions, and using appropriate equipment and technology","Scientific investigations: The process of scientific inquiry","Scientific investigations: Identify laboratory tools","Experimental design: Design and implement experimental investigations by making observations, asking well-defined questions, formulating testable hypotheses, and using appropriate equipment and technology","Experimental design: Identify control and experimental groups","Experimental design: Identify independent and dependent variables","Experimental design: Identify the experimental question","Experimental design: Identify questions that can be investigated with a set of materials","Experimental design: Understand an experimental protocol about plant growth","Experimental design: Understand an experimental protocol about diffusion","Experimental design: Understand an experimental protocol about evaporation","Data collection: Collect and record data using the International System of Units (SI) and qualitative means such as labeled drawings, writing, and graphic organizers","Data collection: Choose metric units of distance, mass, and volume","Data analysis: Construct tables and graphs, using repeated trials and means, to organize data and identify patterns","Data analysis: Use data from tests to compare engineering-design solutions","Data analysis: Analyze data to formulate reasonable explanations, communicate valid conclusions supported by the data, and predict trends","Critical thinking: Analyze, evaluate, and critique scientific explanations by using empirical evidence, logical reasoning, and experimental and observational testing","Critical thinking: Coral reef biodiversity and human uses: evaluate solutions","Models: Use models to represent aspects of the natural world such as an atom, a molecule, space, or a geologic feature","Models: How are substances represented by chemical formulas and models?","Models: Identify chemical formulas for ball-and-stick models","Models: Classify elementary substances and compounds using models","Models: Label Earth features at tectonic plate boundaries","Models: Analyze models of the Earth-Sun-Moon system","Models: Identify phases of the Moon","Models: What causes the seasons on Earth?","Advantages and limitations of models: Analyze models of the Earth-Sun-Moon system","Impact of research: Explore the engineering-design process: going to the Moon!","Laboratory tools: Identify laboratory tools","Safety equipment: Laboratory safety equipment"],"Science - Matter and energy":["Atoms and elements: Describe the structure of atoms, including the masses, electrical charges, and locations, of protons and neutrons in the nucleus and electrons in the electron cloud","Atoms and elements: What are atoms and chemical elements?","Atoms and elements: Identify that protons determine an element's identity and valence electrons determine its chemical properties, including reactivity","Periodic Table: Interpret the arrangement of the Periodic Table, including groups and periods, to explain how properties are used to classify elements","Chemical formulas: Recognize that chemical formulas are used to identify substances and determine the number of atoms of each element in chemical formulas containing subscripts","Chemical formulas: How are substances represented by chemical formulas and models?","Chemical formulas: Identify chemical formulas for ball-and-stick models","Chemical formulas: Describe the atomic composition of molecules","Chemical reactions: Investigate how evidence of chemical reactions indicates that new substances with different properties are formed and how that relates to the law of conservation of mass","Chemical reactions: Identify reactants and products","Chemical reactions: Count atoms and molecules in chemical reactions","Chemical reactions: Calculate amounts of reactants or products in chemical reactions","Chemical reactions: Describe energy changes in chemical reactions","Chemical reactions: Compare physical and chemical changes"],"Science - Force, motion, and energy":["Forces and motion: Demonstrate and calculate how unbalanced forces change the speed or direction of an object's motion","Forces and motion: How does mass affect force and acceleration?","Forces and motion: Balanced and unbalanced forces","Speed, velocity, and acceleration: Differentiate between speed, velocity, and acceleration","Speed, velocity, and acceleration: Calculate velocity from time and distance","Speed, velocity, and acceleration: Calculate distance from velocity and time","Speed, velocity, and acceleration: Calculate time from velocity and distance","Speed, velocity, and acceleration: Calculate velocity, distance, and time I","Speed, velocity, and acceleration: Calculate velocity, distance, and time II","Speed, velocity, and acceleration: Identify whether objects are accelerating","Newton's laws: Investigate and describe applications of Newton's three laws of motion such as in vehicle restraints, sports activities, amusement park rides, Earth's tectonic activities, and rocket launches","Newton's laws: How does mass affect force and acceleration?","Newton's laws: Predict forces using Newton's third law","Newton's laws: Balanced and unbalanced forces","Newton's laws: Collisions and car safety features"],"Science - Earth and space":["Earth, Sun, and Moon: Model and illustrate how the tilted Earth rotates on its axis, causing day and night, and revolves around the Sun, causing changes in seasons","Earth, Sun, and Moon: Analyze models of the Earth-Sun-Moon system","Earth, Sun, and Moon: What causes the seasons on Earth?","Lunar cycle: Demonstrate and predict the sequence of events in the lunar cycle","Lunar cycle: Identify phases of the Moon","Tides: Relate the positions of the Moon and Sun to their effect on ocean tides","Universe: Describe components of the universe, including stars, nebulae, and galaxies, and use models such as the Hertzsprung-Russell diagram for classification","Universe: Recognize that the Sun is a medium-sized star located in a spiral arm of the Milky Way galaxy and that the Sun is many thousands of times closer to Earth than any other star","Universe: Identify how different wavelengths of the electromagnetic spectrum such as visible light and radio waves are used to gain information about components in the universe","Universe: Applications of infrared waves","Universe: Effects of ultraviolet waves","Universe: Research how scientific data are used as evidence to develop scientific theories to describe the origin of the universe","Plate tectonics: Describe the historical development of evidence that supports plate tectonic theory","Plate tectonics: Relate plate tectonics to the formation of crustal features","Plate tectonics: Label Earth features at tectonic plate boundaries","Plate tectonics: Describe tectonic plate boundaries around the world","Weathering and erosion: Interpret topographic maps and satellite views to identify land and erosional features and predict how these features may be reshaped by weathering","Weathering and erosion: Identify Earth's land features using satellite images","Weathering and erosion: Select parts of a topographic map","Climate: Recognize that the Sun provides the energy that drives convection within the atmosphere and oceans, producing winds","Climate: Factors affecting climate: distance from the ocean","Climate: Factors affecting climate: surface ocean currents","Climate: Identify how global patterns of atmospheric movement influence local weather using weather maps that show high and low pressures and fronts","Climate: Explore air masses","Climate: Identify and compare air masses","Climate: How do air masses form?","Weather systems: Identify the role of the oceans in the formation of weather systems such as hurricanes","Weather systems: Label parts of water cycle diagrams","Weather systems: Select parts of water cycle diagrams"],"Science - Organisms and environments":["Ecosystem dependencies: Investigate how organisms and populations in an ecosystem depend on and may compete for biotic factors such as food and abiotic factors such as quantity of light, water, range of temperatures, or soil composition","Ecosystem dependencies: Use food chains to predict changes in populations","Ecosystem dependencies: Classify symbiotic relationships","Environmental changes: Explore how short- and long-term environmental changes affect organisms and traits in subsequent populations","Environmental changes: How do genes and the environment affect plant growth?","Environmental changes: Introduction to natural selection","Environmental changes: Construct explanations of natural selection","Human impact: Recognize human dependence on ocean systems and explain how human activities such as runoff, artificial reefs, or use of resources have modified these systems","Human impact: Coral reef biodiversity and human uses: explore a problem","Human impact: Coral reef biodiversity and human uses: evaluate solutions"]},"HS - Algebra I":{"Mathematics - Linear functions, equations, and inequalities":["Domain and range: Domain and range of relations","Domain and range: Domain and range of linear functions: graphs","Domain and range: Domain and range of linear functions: word problems","Writing linear equations in various forms: Slope-intercept form: write an equation","Writing linear equations in various forms: Write linear equations in standard form","Writing linear equations in various forms: Point-slope form: write an equation","Writing linear equations in various forms: Write equations for lines of best fit","Writing linear equations from representations: Slope-intercept form: write an equation from a graph","Writing linear equations from representations: Slope-intercept form: write an equation from a table","Writing linear equations from representations: Point-slope form: write an equation from a graph","Writing linear equations from representations: Write a linear function: word problems","Direct variation equations: Find the constant of variation","Direct variation equations: Write direct variation equations","Direct variation equations: Write and solve direct variation equations","Parallel lines: Slopes of parallel and perpendicular lines","Parallel lines: Write an equation for a parallel or perpendicular line","Perpendicular lines: Slopes of parallel and perpendicular lines","Perpendicular lines: Write an equation for a parallel or perpendicular line","Horizontal and vertical lines: Equations of horizontal and vertical lines","Writing linear inequalities: Write a linear inequality from a graph","Writing linear inequalities: Write two-variable inequalities: word problems","Writing systems of equations: Solve a system of equations by graphing: word problems","Writing systems of equations: Solve a system of equations using substitution: word problems","Writing systems of equations: Solve a system of equations using elimination: word problems","Writing systems of equations: Solve a system of equations using any method: word problems","Writing systems of equations: Write a system of equations given a graph"],"Mathematics - Quadratic functions and equations":["Domain and range of quadratics: Domain and range of quadratic functions: graphs","Domain and range of quadratics: Domain and range of quadratic functions: equations","Writing quadratic functions in vertex form: Write a quadratic function from its vertex and another point","Writing quadratic functions from solutions: Match quadratic functions and graphs","Writing quadratic functions from solutions: Write a quadratic function from its x-intercepts and another point","Graphing quadratic functions: Characteristics of quadratic functions: graphs","Graphing quadratic functions: Characteristics of quadratic functions: equations","Graphing quadratic functions: Graph quadratic functions in vertex form","Graphing quadratic functions: Graph quadratic functions in standard form","Graphing quadratic functions: Match quadratic functions and graphs","Linear factors and zeros: Solve a quadratic equation using the zero product property","Transformations of quadratics: Transformations of quadratic functions","Solving quadratic equations: Solve a quadratic equation using square roots","Solving quadratic equations: Solve a quadratic equation using the zero product property","Solving quadratic equations: Solve a quadratic equation by factoring","Solving quadratic equations: Complete the square","Solving quadratic equations: Solve a quadratic equation by completing the square","Solving quadratic equations: Solve a quadratic equation using the quadratic formula","Solving quadratic equations: Solve quadratic equations: word problems","Solving quadratic equations: Using the discriminant"],"Mathematics - Exponential functions and equations":["Domain and range of exponentials: Domain and range of exponential functions: graphs","Domain and range of exponentials: Domain and range of exponential functions: equations","Values of a and b in exponentials: Exponential growth and decay: word problems","Writing exponential functions: Write exponential functions: word problems","Writing exponential functions: Exponential growth and decay: word problems","Graphing exponential functions: Graph exponential functions","Graphing exponential functions: Match exponential functions and graphs I","Graphing exponential functions: Match exponential functions and graphs II","Exponential regression: Exponential regression"],"Mathematics - Number and algebraic methods":["Polynomial operations: Add and subtract polynomials using algebra tiles","Polynomial operations: Add polynomials to find perimeter","Polynomial operations: Add and subtract polynomials","Polynomial operations: Multiply a polynomial by a monomial","Polynomial operations: Multiply two binomials using algebra tiles","Polynomial operations: Multiply two binomials","Polynomial operations: Multiply two binomials: special cases","Polynomial operations: Multiply polynomials using area models","Polynomial operations: Multiply polynomials","Polynomial operations: Divide polynomials by monomials","Polynomial operations: Divide polynomials using long division","Polynomial expressions: Distributive property","Factoring trinomials: Factor quadratics using algebra tiles","Factoring trinomials: Factor quadratics with leading coefficient 1","Factoring trinomials: Factor quadratics with other leading coefficients","Factoring trinomials: Factor quadratics: special cases","Difference of squares: Factor quadratics: special cases","Simplifying radicals: Simplify radical expressions","Simplifying radicals: Add and subtract radical expressions","Simplifying radicals: Simplify radical expressions using the distributive property","Simplifying radicals: Simplify radical expressions using conjugates","Laws of exponents: Powers with integer bases","Laws of exponents: Powers with decimal and fractional bases","Laws of exponents: Negative exponents","Laws of exponents: Multiplication rule for exponents","Laws of exponents: Division rule for exponents","Laws of exponents: Power rule for exponents","Laws of exponents: Simplify exponential expressions using the multiplication rule","Laws of exponents: Simplify exponential expressions using the division rule","Laws of exponents: Simplify exponential expressions using the multiplication and division rules","Laws of exponents: Simplify exponential expressions using the power rule","Laws of exponents: Evaluate expressions using exponent rules","Laws of exponents: Identify equivalent exponential expressions I","Laws of exponents: Identify equivalent exponential expressions II","Laws of exponents: Evaluate integers raised to positive rational exponents","Laws of exponents: Evaluate integers raised to rational exponents","Laws of exponents: Multiplication with rational exponents","Laws of exponents: Division with rational exponents","Laws of exponents: Power rule with rational exponents","Laws of exponents: Simplify expressions involving rational exponents","Functions and relations: Identify functions","Functions and relations: Identify functions: vertical line test","Function notation: Evaluate a function","Function notation: Complete a function table from an equation","Function notation: Evaluate piecewise-defined functions","Sequences: Evaluate variable expressions for number sequences","Sequences: Evaluate recursive formulas for sequences","Sequences: Write a formula for a recursive sequence","Sequences: Write variable expressions for arithmetic sequences","Sequences: Write variable expressions for geometric sequences","Literal equations: Rearrange multi-variable equations","Literal equations: Linear equations: solve for y"]},"HS - Algebra II":{"Mathematics - Attributes of functions and their inverses":["Graph the functions f(x)=\u221ax, f(x)=1/x, f(x)=x\xb3, f(x)=\xb3\u221ax, f(x)=b to the x power, f(x)=|x|, and f(x)=logb (x) where b is 2, 10, and e, and, when applicable, analyze the key attributes such as domain, range, intercepts, symmetries, asymptotic behavior, and maximum and minimum given an interval;","Domain and range of absolute value functions: graphs","Domain and range of absolute value functions: equations","Domain and range of radical functions","Rational functions: asymptotes and excluded values","Match exponential functions and graphs","Domain and range of logarithmic functions","Graph logarithmic functions","Graph and write the inverse of a function using notation such as f\u207b\xb9(x);","Find values of inverse functions from graphs","Find inverse functions and relations","Describe and analyze the relationship between a function and its inverse (quadratic and square root, logarithmic and exponential), including the restriction(s) on domain, which will restrict its range;","Find values of inverse functions from tables","Find values of inverse functions from graphs","Find inverse functions and relations","Use the composition of two functions, including the necessary restrictions on the domain, to determine if the functions are inverses of each other.","Composition of linear functions: find a value","Composition of linear functions: find an equation","Composition of linear and quadratic functions: find a value","Composition of linear and quadratic functions: find an equation","Identify inverse functions"],"Mathematics - Systems of equations and inequalities":["Solve a system of equations by graphing: word problems","Solve a system of equations using substitution: word problems","Solve a system of equations using elimination: word problems","Solve a system of equations using any method: word problems","Solve a system of equations using augmented matrices: word problems","Solve a system of three linear equations in three variables using substitution","Solve a system of three linear equations in three variables using elimination","Solve, algebraically, systems of two equations in two variables consisting of a linear equation and a quadratic equation;","Solve a system of linear and quadratic equations: parabolas","Solve a system of linear and quadratic equations by graphing: parabolas","Formulate systems of at least two linear inequalities in two variables;","Solve systems of two or more linear inequalities in two variables;","Solve systems of linear inequalities by graphing","Find the vertices of a solution set for a system of linear inequalities","Linear programming","Determine possible solutions in the solution set of systems of two or more linear inequalities in two variables.","Is (x, y) a solution to the system of inequalities?"],"Mathematics - Quadratic and square root functions, equations, and inequalities":["Write the quadratic function given three specified points in the plane;","Write a quadratic function from three points","Write a quadratic function from its vertex and another point","Write a quadratic function from its x-intercepts and another point","Write equations of parabolas in vertex form from graphs","Write equations of parabolas in vertex form using properties","Graph square root functions","Convert equations of parabolas from general to vertex form","Find properties of a parabola from equations in general form","Formulate quadratic and square root equations using technology given a table of data;","Solve quadratic and square root equations;","Solve a quadratic equation using square roots","Solve a quadratic equation using the zero product property","Solve a quadratic equation by factoring","Solve a quadratic equation by completing the square","Solve a quadratic equation using the quadratic formula","Solve quadratic equations: word problems","Solve radical equations","Identify extraneous solutions of square root equations;","Solve quadratic inequalities.","Graph solutions to quadratic inequalities","Solve quadratic inequalities"],"Mathematics - Exponential and logarithmic functions and equations":["Determine the effects on the key attributes on the graphs of f(x) = b to the x power and f(x) = logb (x) where b is 2, 10, and e when f(x) is replaced by af(x), f(x) + d, and f(x - c) for specific positive and negative real values of a, c, and d;","Match exponential functions and graphs","Formulate exponential and logarithmic equations that model real-world situations, including exponential relationships written in recursive notation;","Write exponential functions: word problems","Exponential growth and decay: word problems","Compound interest: word problems","Continuously compounded interest: word problems","Rewrite exponential equations as their corresponding logarithmic equations and logarithmic equations as their corresponding exponential equations;","Convert between exponential and logarithmic form: rational bases","Convert between natural exponential and logarithmic form","Convert between exponential and logarithmic form: all bases","Solve exponential equations by rewriting the base","Solve exponential equations using common logarithms","Solve exponential equations using natural logarithms","Solve logarithmic equations I","Determine the reasonableness of a solution to a logarithmic equation."],"Mathematics - Cubic, cube root, absolute value and rational functions, equations, and inequalities":["Analyze the effect on the graphs of f(x) = x\xb3 and f(x) = \xb3\u221ax when f(x) is replaced by af(x), f(bx), f(x - c), and f(x) + d for specific positive and negative real values of a, b, c, and d;","Graph cube root functions","Solve cube root equations that have real roots;","Analyze the effect on the graphs of f(x) = |x| when f(x) is replaced by af(x), f(bx), f(x-c), and f(x) + d for specific positive and negative real values of a, b, c, and d;","Graph an absolute value function","Transformations of absolute value functions","Formulate absolute value linear equations;","Write absolute value equations from graphs","Solve absolute value linear equations;","Solve absolute value equations","Graph solutions to absolute value equations","Solve absolute value linear inequalities;","Solve absolute value inequalities","Graph solutions to absolute value inequalities","Analyze the effect on the graphs of f(x) = 1/x when f(x) is replaced by af(x), f(bx), f(x - c), and f(x) + d for specific positive and negative real values of a, b, c, and d;","Formulate rational equations that model real-world situations;","Solve rational equations that have real solutions;","Solve rational equations","Determine the reasonableness of a solution to a rational equation;","Solve rational equations","Determine the asymptotic restrictions on the domain of a rational function and represent domain and range using interval notation, inequalities, and set notation;","Rational functions: asymptotes and excluded values","Formulate and solve equations involving inverse variation.","Write and solve inverse variation equations"],"Mathematics - Number and algebraic methods":["Add, subtract, and multiply complex numbers;","Add and subtract complex numbers","Complex conjugates","Multiply complex numbers","Add, subtract, and multiply polynomials;","Add and subtract polynomials","Multiply polynomials","Determine the quotient of a polynomial of degree three and of degree four when divided by a polynomial of degree one and of degree two;","Divide polynomials using long division","Divide polynomials using synthetic division","Determine the linear factors of a polynomial function of degree three and of degree four using algebraic methods;","Factor polynomials","Determine linear and quadratic factors of a polynomial expression of degree three and of degree four, including factoring the sum and difference of two cubes and factoring by grouping;","Factor using a quadratic pattern","Factor by grouping","Factor sums and differences of cubes","Factor polynomials","Determine the sum, difference, product, and quotient of rational expressions with integral exponents of degree one and of degree two;","Multiply and divide rational expressions","Add and subtract rational expressions","Rewrite radical expressions that contain variables to equivalent forms;","Simplify radical expressions with variables I","Simplify radical expressions with variables II","Convert between rational exponents and radicals","Solve equations involving rational exponents;","Solve equations with rational exponents","Write the domain and range of a function in interval notation, inequalities, and set notation.","Domain and range","Domain and range of quadratic functions: graphs","Domain and range of polynomials","Domain and range of radical functions","Domain and range of logarithmic functions"],"Mathematics - Data":["Analyze data to select the appropriate model from among linear, quadratic, and exponential models;","Identify linear, quadratic, and exponential functions from graphs","Identify linear, quadratic, and exponential functions from tables","Use regression methods available through technology to write a linear function, a quadratic function, and an exponential function from a given set of data;","Find the equation of a regression line","Interpret regression lines","Analyze a regression line of a data set","Predict and make decisions and critical judgments from a given set of data using linear, quadratic, and exponential models.","Interpret regression lines","Analyze a regression line of a data set"]},"HS - Geometry":{"Geometry - Coordinate and transformational geometry":["Midpoints - determine the coordinates of a point that is a given fractional distance less than one from one end of a line segment to the other in one- and two-dimensional coordinate systems, including finding the midpoint;","Midpoints - Midpoint formula: find the midpoint","Midpoints - Partition a line segment in a given ratio","Slope, Distance, Midpoint - derive and use the distance, slope, and midpoint formulas to verify geometric relationships, including congruence of segments and parallelism or perpendicularity of pairs of lines;","Slope, Distance, Midpoint - Midpoint formula: find the midpoint","Slope, Distance, Midpoint - Distance formula","Slope, Distance, Midpoint - Slopes of lines","Slope, Distance, Midpoint - Slopes of parallel and perpendicular lines","Slope, Distance, Midpoint - Classify shapes on the coordinate plane: justify your answer","Slope, Distance, Midpoint - Determine if a point lies on a circle","Equations of lines - determine an equation of a line parallel or perpendicular to a given line that passes through a given point.","Equations of lines - Equations of parallel and perpendicular lines","Equations of lines - Checkpoint: Partition a line segment","Equations of lines - Checkpoint: Coordinate proofs","Equations of lines - Checkpoint: Parallel and perpendicular lines","Transformations - describe and perform transformations of figures in a plane using coordinate notation;","Transformations - Translations: graph the image","Transformations - Translations: find the coordinates","Transformations - Translations: write the rule","Transformations - Reflections: graph the image","Transformations - Reflections: find the coordinates","Transformations - Rotations: graph the image","Transformations - Rotations: find the coordinates","Transformations - Reflections and rotations: write the rule","Transformations - Congruence transformations: mixed review","Compositions - determine the image or pre-image of a given two-dimensional figure under a composition of rigid transformations, a composition of non-rigid transformations, and a composition of both, including dilations where the center can be any point in the plane;","Compositions - Sequences of congruence transformations: graph the image","Transformations sequence - identify the sequence of transformations that will carry a given pre-image onto an image on and off the coordinate plane;","Transformations sequence - Classify congruence transformations","Transformations sequence - Sequences of congruence transformations: choose the sequence","Transformations sequence - Sequences of congruence transformations: find the rules","Symmetry - identify and distinguish between reflectional and rotational symmetry in a plane figure.","Symmetry - Line symmetry","Symmetry - Rotational symmetry","Symmetry - Checkpoint: Transformations of geometric figures"],"Geometry - Logical argument and constructions":["Statements - distinguish between undefined terms, definitions, postulates, conjectures, and theorems;","Statements - Lines, line segments, and rays","Conditional statements - identify and determine the validity of the converse, inverse, and contrapositive of a conditional statement and recognize the connection between a biconditional statement and a true conditional statement with a true converse;","Conditional statements - Identify hypotheses and conclusions","Conditional statements - Conditionals","Conditional statements - Converses, inverses, and contrapositives","Conditional statements - Biconditionals","Conditional statements - Truth tables","Conditional statements - Truth values","Counterexamples - verify that a conjecture is false using a counterexample;","Counterexamples - Counterexamples","Euclidean and spherical geometries - compare geometric relationships between Euclidean and spherical geometries, including parallel lines and the sum of the angles in a triangle.","Conjectures - investigate patterns to make conjectures about geometric relationships, including angles formed by parallel lines cut by a transversal, criteria required for triangle congruence, special segments of triangles, diagonals of quadrilaterals, interior and exterior angles of polygons, and special segments and angles of circles choosing from a variety of tools;","Conjectures - Interior angles of polygons","Constructions - construct congruent segments, congruent angles, a segment bisector, an angle bisector, perpendicular lines, the perpendicular bisector of a line segment, and a line parallel to a given line through a point not on a line using a compass and a straightedge;","Constructions - Construct a congruent segment","Constructions - Construct the midpoint or perpendicular bisector of a segment","Constructions - Construct an angle bisector","Constructions - Construct a congruent angle","Constructions - Construct a perpendicular line","Constructions - Construct parallel lines","Constructions - Construct an equilateral triangle or regular hexagon","Constructions - Construct a square","Constructions - Construct the circumcenter or incenter of a triangle","Constructions - Construct the centroid or orthocenter of a triangle","Geometric relationships - use the constructions of congruent segments, congruent angles, angle bisectors, and perpendicular bisectors to make conjectures about geometric relationships;","Geometric relationships - Congruent line segments","Geometric relationships - Perpendicular Bisector Theorem","Geometric relationships - Angle bisectors","Triangle Inequality - verify the Triangle Inequality theorem using constructions and apply the theorem to solve problems.","Triangle Inequality - Triangle Inequality Theorem","Triangle Inequality - Checkpoint: Geometric constructions"],"Geometry - Proof and congruence":["Intersection of lines and line segments - verify theorems about angles formed by the intersection of lines and line segments, including vertical angles, and angles formed by parallel lines cut by a transversal and prove equidistance between the endpoints of a segment and points on its perpendicular bisector and apply these relationships to solve problems;","Intersection of lines and line segments - Perpendicular Bisector Theorem","Intersection of lines and line segments - Find measures of complementary, supplementary, vertical, and adjacent angles","Intersection of lines and line segments - Angle diagrams: solve for the variable","Intersection of lines and line segments - Proofs involving angles","Intersection of lines and line segments - Transversals of parallel lines: find angle measures","Intersection of lines and line segments - Transversals of parallel lines: solve for x","Intersection of lines and line segments - Proofs involving parallel lines I","Intersection of lines and line segments - Proofs involving parallel lines II","Congruent triangles - prove two triangles are congruent by applying the Side-Angle-Side, Angle-Side-Angle, Side-Side-Side, Angle-Angle-Side, and Hypotenuse-Leg congruence conditions;","Congruent triangles - SSS and SAS Theorems","Congruent triangles - Proving triangles congruent by SSS and SAS","Congruent triangles - ASA and AAS Theorems","Congruent triangles - Proving triangles congruent by ASA and AAS","Congruent triangles - SSS, SAS, ASA, and AAS Theorems","Congruent triangles - SSS Theorem in the coordinate plane","Congruent triangles - Proving triangles congruent by SSS, SAS, ASA, and AAS","Congruent triangles - Hypotenuse-Leg Theorem","Congruent figures - apply the definition of congruence, in terms of rigid transformations, to identify congruent figures and their corresponding sides and angles;","Congruent figures - Congruence statements and corresponding parts","Congruent figures - Identify congruent figures","Congruent figures - Determine if two figures are congruent: justify your answer","Congruent figures - Prove triangles are congruent using rigid motions","Congruent figures - Proofs involving corresponding parts of congruent triangles","Relationships in triangles - verify theorems about the relationships in triangles, including proof of the Pythagorean Theorem, the sum of interior angles, base angles of isosceles triangles, midsegments, and medians, and apply these relationships to solve problems;","Relationships in triangles - Triangle Angle-Sum Theorem","Relationships in triangles - Congruency in isosceles and equilateral triangles","Relationships in triangles - Proofs involving isosceles triangles","Relationships in triangles - Midsegments of triangles","Relationships in triangles - Identify medians, altitudes, angle bisectors, and perpendicular bisectors","Relationships in triangles - Find the centroid of a triangle","Relationships in triangles - Proofs involving triangles I","Relationships in triangles - Pythagorean theorem","Relationships in triangles - Prove the Pythagorean theorem","Relationships in triangles - Converse of the Pythagorean theorem","Quadrilaterals - prove a quadrilateral is a parallelogram, rectangle, square, or rhombus using opposite sides, opposite angles, or diagonals and apply these relationships to solve problems;","Quadrilaterals - Classify quadrilaterals I","Quadrilaterals - Classify quadrilaterals II","Quadrilaterals - Find missing angles in quadrilaterals","Quadrilaterals - Properties of parallelograms","Quadrilaterals - Proving a quadrilateral is a parallelogram","Quadrilaterals - Properties of rhombuses","Quadrilaterals - Properties of squares and rectangles","Quadrilaterals - Classify quadrilaterals on the coordinate plane: justify your answer","Quadrilaterals - Checkpoint: Line and angle theorems","Quadrilaterals - Checkpoint: Parallelogram theorems","Quadrilaterals - Checkpoint: Rigid motion and congruence","Quadrilaterals - Checkpoint: Triangle theorems"],"Geometry - Similarity, proof, and trigonometry":["Similar figures - apply the definition of similarity in terms of a dilation to identify similar figures and their proportional sides and the congruent corresponding angles;","Similar figures - Ratios in similar figures","Similar figures - Similarity statements","Similar figures - Identify similar figures","Similar figures - Side lengths and angle measures in similar figures","Similar figures - Similar triangles and similarity transformations","Similar figures - Similarity of circles","Similar figures - Similar solids: find the missing length","Similar triangles - apply the Angle-Angle criterion to verify similar triangles and apply the proportionality of the corresponding sides to solve problems.","Similar triangles - Similar triangles and indirect measurement","Similar triangles - Checkpoint: Similarity transformations","Theorems about similar triangles - prove theorems about similar triangles, including the Triangle Proportionality theorem, and apply these theorems to solve problems;","Theorems about similar triangles - Similarity rules for triangles","Theorems about similar triangles - Triangle Proportionality Theorem","Theorems about similar triangles - Prove similarity statements","Theorems about similar triangles - Prove proportions or angle congruences using similarity","Theorems about similar triangles - Proofs involving similarity in right triangles","Theorems about similar triangles - Proofs involving triangles II","Altitudes in right triangles - identify and apply the relationships that exist when an altitude is drawn to the hypotenuse of a right triangle, including the geometric mean, to solve problems.","Altitudes in right triangles - Similarity and altitudes in right triangles","Altitudes in right triangles - Proofs involving similarity in right triangles","Altitudes in right triangles - Checkpoint: Triangle similarity and congruence","Trigonometric ratios - determine the lengths of sides and measures of angles in a right triangle by applying the trigonometric ratios sine, cosine, and tangent to solve problems;","Trigonometric ratios - Trigonometric ratios: sin, cos, and tan","Trigonometric ratios - Trigonometric ratios with radicals: sin, cos, and tan","Trigonometric ratios - Trigonometric ratios: find a side length","Trigonometric ratios - Trigonometric ratios: find an angle measure","Special right triangles - apply the relationships in special right triangles 30\xb0-60\xb0-90\xb0 and 45\xb0-45\xb0-90\xb0 and the Pythagorean theorem, including Pythagorean triples, to solve problems.","Special right triangles - Pythagorean theorem","Special right triangles - Special right triangles","Special right triangles - Find trigonometric functions of special angles","Special right triangles - Checkpoint: Right triangle trigonometry"],"Geometry - Two-dimensional and three-dimensional figures":["Cross-sections and rotations - identify the shapes of two-dimensional cross-sections of prisms, pyramids, cylinders, cones, and spheres and identify three-dimensional objects generated by rotations of two-dimensional shapes;","Cross-sections and rotations - Cross sections of three-dimensional figures","Cross-sections and rotations - Solids of revolution","Dimensional changes - determine and describe how changes in the linear dimensions of a shape affect its perimeter, area, surface area, or volume, including proportional and non-proportional dimensional change.","Dimensional changes - Perimeters of similar figures","Dimensional changes - Areas of similar figures","Dimensional changes - Area and perimeter of similar figures","Dimensional changes - Perimeter and area: changes in scale","Dimensional changes - Surface area and volume of similar solids","Dimensional changes - Surface area and volume: changes in scale","Dimensional changes - Perimeter, area, and volume: changes in scale","Dimensional changes - Checkpoint: Cross sections and solids of revolution","Area of regular polygons - apply the formula for the area of regular polygons to solve problems using appropriate units of measure;","Area of regular polygons - Area of regular polygons","Area of composite figures - determine the area of composite two-dimensional figures comprised of a combination of triangles, parallelograms, trapezoids, kites, regular polygons, or sectors of circles to solve problems using appropriate units of measure;","Area of composite figures - Area of compound figures","Area of composite figures - Area between two shapes","Surface area - apply the formulas for the total and lateral surface area of three-dimensional figures, including prisms, pyramids, cones, cylinders, spheres, and composite figures, to solve problems using appropriate units of measure;","Surface area - Lateral area of prisms and cylinders","Surface area - Lateral area of pyramids and cones","Surface area - Surface area of prisms and cylinders","Surface area - Surface area of pyramids and cones","Surface area - Surface area of spheres","Volume - apply the formulas for the volume of three-dimensional figures, including prisms, pyramids, cones, cylinders, spheres, and composite figures, to solve problems using appropriate units of measure.","Volume - Volume of prisms and cylinders","Volume - Volume of pyramids and cones","Volume - Volume of spheres","Volume - Volume of compound figures","Volume - Checkpoint: Surface area","Volume - Checkpoint: Volume"],"Geometry - Circles":["Theorems about circles - apply theorems about circles, including relationships among angles, radii, chords, tangents, and secants, to solve non-contextual problems;","Theorems about circles - Arcs and chords","Theorems about circles - Tangent lines","Theorems about circles - Perimeter of polygons with an inscribed circle","Theorems about circles - Inscribed angles","Theorems about circles - Angles in inscribed right triangles","Theorems about circles - Angles in inscribed quadrilaterals I","Theorems about circles - Angles in inscribed quadrilaterals II","Theorems about circles - Angles formed by chords, secants, and tangents","Theorems about circles - Segments formed by chords, secants, and tangents","Arc length - apply the proportional relationship between the measure of an arc length of a circle and the circumference of the circle to solve problems;","Arc length - Understand arc length and sector area of a circle","Arc length - Arc length","Sector area - apply the proportional relationship between the measure of the area of a sector of a circle and the area of the circle to solve problems;","Sector area - Understand arc length and sector area of a circle","Sector area - Area of sectors","Radian measure - describe radian measure of an angle as the ratio of the length of an arc intercepted by a central angle and the radius of the circle;","Radian measure - Convert between radians and degrees","Radian measure - Radians and arc length","Equation of a circle - show that the equation of a circle with center at the origin and radius r is x\xb2 + y\xb2 = r\xb2 and determine the equation for the graph of a circle with radius r and center (h, k), (x - h)\xb2 + (y - k)\xb2 =r\xb2.","Equation of a circle - Derive equations of circles using the Pythagorean theorem","Equation of a circle - Write equations of circles in standard form from graphs","Equation of a circle - Checkpoint: Angles and lines in circles","Equation of a circle - Checkpoint: Arc length and area of sectors","Equation of a circle - Checkpoint: Equations of circles"],"Geometry - Probability":["Permutations and combinations - develop strategies to use permutations and combinations to solve contextual problems;","Permutations and combinations - Permutations","Permutations and combinations - Permutation and combination notation","Permutations and combinations - Find probabilities using combinations and permutations","Area probability - determine probabilities based on area to solve contextual problems;","Area probability - Geometric probability","Independent events - identify whether two events are independent and compute the probability of the two events occurring together with or without replacement;","Independent events - Identify independent and dependent events","Independent events - Probability of independent and dependent events","Independent events - Identify independent events","Conditional probability - apply conditional probability in contextual problems;","Conditional probability - Find conditional probabilities","Conditional probability - Find conditional probabilities using two-way frequency tables","Independence - apply independence in contextual problems.","Independence - Identify independent events","Independence - Independence and conditional probability","Independence - Checkpoint: Probability"]},"HS - Precalculus":{"Mathematics - Functions":["A: use the composition of two functions to model and solve real-world problems","A: Composition of functions","B: demonstrate that function composition is not always commutative","C: represent a given function as a composite function of two or more functions","D: describe symmetry of graphs of even and odd functions","D: Even and odd functions","D: Symmetry and periodicity of trigonometric functions","E: determine an inverse function, when it exists, for a given function over its domain or a subset of its domain and represent the inverse using multiple representations","E: Identify inverse functions","E: Find values of inverse functions from tables","E: Find values of inverse functions from graphs","E: Find inverse functions and relations","E: Check whether two rational functions are inverses","F: graph exponential, logarithmic, rational, polynomial, power, trigonometric, inverse trigonometric, and piecewise defined functions, including step functions","F: Graph piecewise-defined functions","F: Graph a quadratic function","F: Match polynomials and graphs","F: Graph logarithmic functions","F: Graph sine functions","F: Graph cosine functions","F: Graph sine and cosine functions","G: graph functions, including exponential, logarithmic, sine, cosine, rational, polynomial, and power functions and their transformations, including af(x), f(x) + d, f(x - c), f(bx) for specific values of a, b, c, and d, in mathematical and real-world problems","G: Function transformation rules","G: Translations of functions","G: Reflections of functions","G: Dilations of functions","G: Transformations of functions","G: Describe function transformations","G: Match polynomials and graphs","G: Graph translations of sine functions","G: Graph translations of cosine functions","G: Graph translations of sine and cosine functions","H: graph arcsin x and arccos x and describe the limitations on the domain","I: determine and analyze the key features of exponential, logarithmic, rational, polynomial, power, trigonometric, inverse trigonometric, and piecewise defined functions, including step functions such as domain, range, symmetry, relative maximum, relative minimum, zeros, asymptotes, and intervals over which the function is increasing or decreasing","I: Find the roots of factored polynomials","I: Match polynomials and graphs","I: Domain and range of polynomials","I: Rational functions: asymptotes and excluded values","I: Linear and exponential functions over unit intervals","I: Domain and range of logarithmic functions","I: Find properties of sine functions","I: Find properties of cosine functions","I: Symmetry and periodicity of trigonometric functions","J: analyze and describe end behavior of functions, including exponential, logarithmic, rational, polynomial, and power functions, using infinity notation to communicate this characteristic in mathematical and real-world problems","K: analyze characteristics of rational functions and the behavior of the function around the asymptotes, including horizontal, vertical, and oblique asymptotes","K: Rational functions: asymptotes and excluded values","K: Find the limit at a vertical asymptote of a rational function I","K: Find the limit at a vertical asymptote of a rational function II","L: determine various types of discontinuities in the interval (-\u221e, \u221e) as they relate to functions and explore the limitations of the graphing calculator as it relates to the behavior of the function around discontinuities","L: Rational functions: asymptotes and excluded values","L: Find and analyze points of discontinuity using graphs","M: describe the left-sided behavior and the right-sided behavior of the graph of a function around discontinuities","N: analyze situations modeled by functions, including exponential, logarithmic, rational, polynomial, and power functions, to solve real-world problems","N: Exponential growth and decay: word problems","N: Compound interest: word problems","N: Exponential regression","O: develop and use a sinusoidal function that models a situation in mathematical and real-world problems","O: Write equations of sine functions from graphs","O: Write equations of sine functions using properties","O: Write equations of cosine functions from graphs","O: Write equations of cosine functions using properties","P: determine the values of the trigonometric functions at the special angles and relate them in mathematical and real-world problems","P: Find trigonometric ratios using right triangles","P: Find trigonometric ratios using reference angles"],"Mathematics - Relations and geometric reasoning":["A: graph a set of parametric equations","B: convert parametric equations into rectangular relations and convert rectangular relations into parametric equations","C: use parametric equations to model and solve mathematical and real-world problems","D: graph points in the polar coordinate system and convert between rectangular coordinates and polar coordinates","D: Find the modulus and argument of a complex number","D: Convert complex numbers from rectangular to polar form","D: Convert complex numbers from polar to rectangular form","D: Convert complex numbers between rectangular and polar form","E: graph polar equations by plotting points and using technology","E: Match polar equations and graphs","F: determine the conic section formed when a plane intersects a double-napped cone","G: make connections between the locus definition of conic sections and their equations in rectangular coordinates","G: Write equations of parabolas in vertex form","G: Write equations of parabolas in vertex form using properties","G: Write equations of ellipses in standard form","G: Use the characteristics of an ellipse to write the equation of an ellipse with center (h, k)","G: Write equations of hyperbolas in standard form","G: Use the characteristics of a hyperbola to write the equation of a hyperbola with center (h, k)"],"Mathematics - Number and measure":["A: determine the relationship between the unit circle and the definition of a periodic function to evaluate trigonometric functions in mathematical and real-world problems","A: Find trigonometric ratios using the unit circle","B: describe the relationship between degree and radian measure on the unit circle","B: Convert between radians and degrees","C: represent angles in radians or degrees based on the concept of rotation and find the measure of reference angles and angles in standard position","C: Radians and arc length","C: Quadrants","C: Coterminal and reference angles","D: represent angles in radians or degrees based on the concept of rotation in mathematical and real-world problems, including linear and angular velocity","D: Radians and arc length","E: determine the value of trigonometric ratios of angles and solve problems involving trigonometric ratios in mathematical and real-world problems","E: Find trigonometric ratios using right triangles","E: Find trigonometric ratios using the unit circle","E: Find trigonometric ratios using reference angles","E: Inverses of trigonometric functions","E: Inverses of trigonometric functions using a calculator","E: Solve trigonometric equations","E: Trigonometric ratios: find a side length","E: Trigonometric ratios: find an angle measure","E: Solve a right triangle","F: use trigonometry in mathematical and real-world problems, including directional bearing","F: Solve a triangle","F: Area of a triangle: sine formula","F: Area of a triangle: Heron's formula","G: use the Law of Sines in mathematical and real-world problems","G: Law of Sines","G: Solve a triangle","H: use the Law of Cosines in mathematical and real-world problems","H: Law of Cosines","H: Solve a triangle","I: use vectors to model situations involving magnitude and direction","I: Find the magnitude of a vector","I: Find the component form of a vector","I: Find the direction angle of a vector","I: Find the component form of a vector from its magnitude and direction angle","I: Find the magnitude and direction of a vector sum","I: Find the magnitude of a vector scalar multiple","I: Determine the direction of a vector scalar multiple","I: Find a unit vector","J: represent the addition of vectors and the multiplication of a vector by a scalar geometrically and symbolically","J: Graph a resultant vector using the triangle method","J: Graph a resultant vector using the parallelogram method","J: Add vectors","J: Multiply a vector by a scalar","J: Find the magnitude of a vector scalar multiple","J: Determine the direction of a vector scalar multiple","K: apply vector addition and multiplication of a vector by a scalar in mathematical and real-world problems","K: Linear combinations of vectors"],"Mathematics - Algebraic Reasoning":["A: evaluate finite sums and geometric series, when possible, written in sigma notation","A: Identify arithmetic and geometric series","A: Find the sum of a finite geometric series","B: represent arithmetic sequences and geometric sequences using recursive formulas","B: Find terms of a recursive sequence","B: Find a recursive formula","B: Convert an explicit formula to a recursive formula","C: calculate the nth term and the nth partial sum of an arithmetic series in mathematical and real-world problems","C: Find terms of a sequence","C: Find the sum of an arithmetic series","C: Introduction to partial sums","C: Partial sums of arithmetic series","C: Partial sums: mixed review","D: represent arithmetic series and geometric series using sigma notation","D: Introduction to sigma notation","E: calculate the nth term of a geometric series, the nth partial sum of a geometric series, and sum of an infinite geometric series when it exists","E: Find terms of a sequence","E: Partial sums of geometric series","E: Partial sums: mixed review","E: Convergent and divergent geometric series","E: Find the value of an infinite geometric series","E: Write a repeating decimal as a fraction","F: apply the Binomial Theorem for the expansion of (a + b)^n in powers of a and b for a positive integer n, where a and b are any numbers","F: Pascal's triangle","F: Pascal's triangle and the Binomial Theorem","F: Binomial Theorem I","F: Binomial Theorem II","G: use the properties of logarithms to evaluate or transform logarithmic expressions","G: Evaluate logarithms","G: Change of base formula","G: Product property of logarithms","G: Quotient property of logarithms","G: Power property of logarithms","G: Evaluate logarithms using properties","H: generate and solve logarithmic equations in mathematical and real-world problems","H: Solve logarithmic equations with one logarithm","H: Solve logarithmic equations with multiple logarithms","I: generate and solve exponential equations in mathematical and real-world problems","I: Solve exponential equations by rewriting the base","I: Solve exponential equations using logarithms","I: Exponential growth and decay: word problems","I: Compound interest: word problems","J: solve polynomial equations with real coefficients by applying a variety of techniques in mathematical and real-world problems","J: Solve quadratic equations: word problems","J: Divide polynomials using long division","J: Divide polynomials using synthetic division","J: Evaluate polynomials using synthetic division","J: Solve equations with sums and differences of cubes","J: Solve equations using a quadratic pattern","J: Find the roots of factored polynomials","J: Rational root theorem","J: Complex conjugate theorem","J: Conjugate root theorems","K: solve polynomial inequalities with real coefficients by applying a variety of techniques and write the solution set of the polynomial inequality in interval notation in mathematical and real-world problems","K: Graph solutions to higher-degree inequalities","K: Solve higher-degree inequalities","L: solve rational inequalities with real coefficients by applying a variety of techniques and write the solution set of the rational inequality in interval notation in mathematical and real-world problems","M: use trigonometric identities such as reciprocal, quotient, Pythagorean, cofunctions, even/odd, and sum and difference identities for cosine and sine to simplify trigonometric expressions","M: Complementary angle identities","M: Symmetry and periodicity of trigonometric functions","M: Find trigonometric ratios using a Pythagorean or reciprocal identity","M: Find trigonometric ratios using multiple identities","M: Trigonometric sum and difference identities","N: generate and solve trigonometric equations in mathematical and real-world problems","N: Solve trigonometric equations","N: Solve trigonometric equations using sum and difference identities"]},"AP - Precalculus":{"Polynomial and Rational Functions":["Change in Tandem","Rates of Change","Rates of Change in Linear and Quadratic Functions","Polynomial Functions and Rates of Change","Polynomial Functions and Complex Zeros","Polynomial Functions and End Behavior","Rational Functions and End Behavior","Rational Functions and Zeros","Rational Functions and Vertical Asymptotes","Rational Functions and Holes","Equivalent Representations of Polynomial and Rational Expressions","Transformations of Functions","Function Model Selection and Assumption Articulation","Function Model Construction and Application"],"Exponential and Logarithmic Functions":["Change in Arithmetic and Geometric Sequences","Change in Linear and Exponential Functions","Exponential Functions","Exponential Function Manipulation","Exponential Function Context and Data Modeling","Competing Function Model Validation","Composition of Functions","Inverse Functions","Logarithmic Expressions","Inverses of Exponential Functions","Logarithmic Functions","Logarithmic Function Manipulation","Exponential and Logarithmic Equations and Inequalities","Logarithmic Function Context and Data Modeling","Semi-log Plots"],"Trigonometric and Polar Functions":["Periodic Phenomena","Sine, Cosine, and Tangent","Sine and Cosine Function Values","Sine and Cosine Function Graphs","Sinusoidal Functions","Sinusoidal Function Transformations","Sinusoidal Function Context and Data Modeling","The Tangent Function","Inverse Trigonometric Functions","Trigonometric Equations and Inequalities","The Secant, Cosecant, and Cotangent Functions","Equivalent Representations of Trigonometric Functions","Trigonometry and Polar Coordinates","Polar Function Graphs","Rates of Change in Polar Functions"],"Functions Involving Parameters, Vectors, and Matrices":["Parametric Functions","Parametric Functions Modeling Planar Motion","Parametric Functions and Rates of Change","Parametrically Defined Circles and Lines","Implicitly Defined Functions","Parametrization of Implicitly Defined Functions","Conic Sections","Vectors","Vector-Valued Functions","Matrices","The Inverse and Determinant of a Matrix","Linear Transformations and Matrices","Matrices as Functions","Matrices Modeling Contexts"]},"AP - Statistics":{},"AP - Calculus AB":{},"AP - Calculus BC":{},"AP - Computer Science A":{},"AP - Computer Science Principles":{},"AP - Physics 1":{},"AP - Physics 2":{},"AP - Biology":{},"AP - Chemistry":{},"AP -  Environmental Science":{},"AP - Psychology":{},"AP - US History":{},"AP - World History":{},"AP - Human Geography":{},"AP - Macroeconomics":{},"AP - Microeconomics":{},"AP - United States Government and Politics":{},"Grade 9":{Mathematics:["Solving linear equations and inequalities","Systems of equations and inequalities","Functions (domain, range, notation)","Graphing linear functions","Slope and rate of change","Forms of linear equations (slope-intercept, point-slope, standard)","Arithmetic and geometric sequences","Exponential functions","Polynomial expressions (addition, subtraction, multiplication)","Factoring polynomials","Quadratic functions and equations","Graphing quadratic functions","Solving quadratic equations (factoring, quadratic formula)","Completing the square","Data analysis and statistical measures","Probability distributions","Transformations of functions","Radical expressions and equations","Rational expressions and equations","Introduction to trigonometry (sine, cosine, tangent)","Modeling with functions"],Science:["Introduction to biology","Cell structure and function","Cellular processes (photosynthesis, respiration, transport)","Genetics and heredity (Mendelian genetics, DNA structure)","Biotechnology and genetic engineering","Evolution and natural selection","Classification and biodiversity","Ecology (populations, communities, ecosystems)","Biomes and aquatic ecosystems","Human body systems (overview)","Introduction to chemistry","Atomic structure and bonding","Chemical reactions and stoichiometry","Solutions and solubility","Acids, bases, and pH","Introduction to physics","Motion and forces","Work and energy","Waves and sound","Light and optics","Scientific inquiry and experimental design"]},"Grade 10":{Mathematics:["Quadratic functions and equations (advanced)","Polynomial functions (graphs, zeros, end behavior)","Rational functions (graphs, asymptotes, domain, range)","Radical functions","Exponential and logarithmic functions","Properties of logarithms","Solving exponential and logarithmic equations","Trigonometric functions (unit circle, graphs)","Trigonometric identities","Solving trigonometric equations","Geometry (circles, polygons, solids)","Proofs in geometry","Coordinate geometry","Conic sections (parabolas, circles, ellipses, hyperbolas)","Probability (conditional probability, independence)","Statistics (sampling, distributions, hypothesis testing)","Sequences and series","Vectors","Matrices","Complex numbers","Modeling with geometry"],Science:["Biology","Biochemistry (organic molecules, enzymes)","Cellular reproduction (mitosis, meiosis)","Genetics (DNA replication, protein synthesis, mutations)","Molecular biology and biotechnology","Evolution (evidence, mechanisms, speciation)","Ecology (energy flow, nutrient cycles, population dynamics)","Human impact on ecosystems","Human body systems (detailed study)","Chemistry","Thermochemistry and thermodynamics","Chemical kinetics and equilibrium","Organic chemistry (introduction)","Nuclear chemistry","Physics","Motion in two dimensions","Forces and Newton's laws (applications)","Momentum and impulse","Circular motion and gravitation","Energy (conservation, work-energy theorem)","Electricity and magnetism (circuits, fields, induction)","Electromagnetic waves"]},"Grade 11":{Mathematics:["Functions (advanced transformations, inverses)","Polynomial functions (division, remainder theorem, factor theorem)","Rational functions (advanced analysis)","Exponential and logarithmic functions (applications)","Trigonometric functions (law of sines, law of cosines)","Trigonometric identities and equations (advanced)","Vectors (operations, dot product, cross product)","Matrices (operations, determinants, inverses)","Systems of equations and matrices","Conic sections (advanced)","Sequences and series (convergence, divergence)","Limits (introduction)","Derivatives (introduction, rules)","Applications of derivatives (rates of change, optimization)","Integrals (introduction, basic techniques)","Probability and statistics (advanced)","Data analysis and regression","Complex numbers (polar form, De Moivre's theorem)","Parametric equations","Polar coordinates"],Science:["Biology","Molecular genetics (gene regulation, genomics)","Biotechnology (cloning, gene therapy, GMOs)","Evolutionary biology (population genetics, phylogeny)","Ecology (conservation biology, global change)","Human physiology (homeostasis, feedback mechanisms)","Chemistry","Chemical bonding (VSEPR theory, molecular orbital theory)","Gases (gas laws, kinetic molecular theory)","Solutions (colligative properties)","Acids and bases (equilibrium, buffers)","Electrochemistry","Organic chemistry (functional groups, reactions)","Physics","Fluid mechanics","Thermodynamics","Oscillations and waves","Optics (diffraction, interference)","Quantum mechanics (introduction)","Nuclear physics","Special relativity (introduction)"]},"Grade 12":{Mathematics:["Limits (advanced)","Derivatives (advanced techniques, applications)","Integrals (advanced techniques, applications)","Differential equations (introduction)","Multivariable calculus (partial derivatives, multiple integrals)","Vector calculus (vector fields, line integrals, surface integrals)","Linear algebra (vector spaces, linear transformations)","Abstract algebra (groups, rings, fields - introduction)","Number theory (divisibility, congruences, prime numbers)","Discrete mathematics (graph theory, combinatorics)","Mathematical modeling","Calculus-based probability and statistics","Complex analysis (introduction)","Real analysis (introduction)","Topology (introduction)","Numerical analysis","History of mathematics","Financial mathematics","Actuarial science","Operations research","Cryptography"],Science:["Advanced topics in Biology, Chemistry, and Physics (depending on student's chosen path)","Research projects","Independent study","AP or IB level courses in science","Specialized science courses (e.g., anatomy, physiology, astronomy, environmental science, forensic science)","Science, technology, and society","Ethics in science","Current events in science","Preparation for college-level science","Astronomy","Cosmology","Astrophysics","Planetary science","Environmental science","Geology","Meteorology","Oceanography","Forensic science","Engineering (various disciplines)","Computer science (advanced topics)"]},"High School - Science":{Biology:["Cell Structure and Function","Cell Transport","Photosynthesis and Cellular Respiration","Cellular Reproduction (Mitosis and Meiosis)","DNA Structure and Replication","RNA and Protein Synthesis","Mendelian Genetics","Non-Mendelian Genetics","Evolution by Natural Selection","Classification and Taxonomy","Ecology and Ecosystems","Biomes","Population Dynamics","Human Impact on the Environment","Anatomy and Physiology of Major Systems","Viruses and Bacteria","Immune System","Plant Structure and Function","Biotechnology","Genetic Engineering"],Chemistry:["Atomic Structure and the Periodic Table","Chemical Bonding","Nomenclature and Chemical Formulas","Chemical Reactions and Equations","Stoichiometry","States of Matter and Phase Changes","Solutions and Solubility","Acids, Bases, and pH","Thermochemistry","Reaction Rates and Chemical Equilibrium","Oxidation-Reduction Reactions","Organic Chemistry Basics","Hydrocarbons and Functional Groups","Nuclear Chemistry","Gas Laws","The Mole Concept","Types of Chemical Reactions","Properties of Water","Chemical Kinetics","Electrochemistry"],Physics:["Kinematics (Motion in One and Two Dimensions)","Forces and Newton's Laws of Motion","Work, Energy, and Power","Momentum and Impulse","Circular Motion and Rotation","Gravitation","Simple Harmonic Motion","Waves and Sound","Electromagnetism","Electric Charge and Electric Fields","Electric Potential and Capacitance","Electric Circuits","Magnetic Fields and Forces","Electromagnetic Induction","Light and Optics","Reflection and Refraction","Thermodynamics","Heat Transfer","Quantum Physics basics","Nuclear Physics basics"],"AP\xae\ufe0e/College Biology":["Molecular Biology","Biochemistry","Cell Communication and Signal Transduction","Cellular Energetics","Gene Expression and Regulation","Heredity and Inheritance","Evolutionary Processes","Phylogeny and Systematics","Ecology and Population Biology","Community and Ecosystem Ecology","Animal Behavior","Plant Biology and Development","Mechanisms of Evolution","Human Physiology","Immunology","Biotechnology and Genetic Engineering","The Origin of Life","Developmental Biology","Comparative Anatomy","Bioinformatics"],"AP\xae\ufe0e/College Chemistry":["Atomic Structure and Periodicity","Chemical Bonding and Molecular Structure","Intermolecular Forces and Properties of Liquids and Solids","Chemical Kinetics","Chemical Equilibrium","Acids and Bases","Thermodynamics","Electrochemistry","Organic Chemistry","Spectroscopy and Structure Determination","Reaction Mechanisms","Coordination Chemistry","Quantum Chemistry","Nuclear Chemistry","Analytical Chemistry","Solutions and Colligative Properties","Advanced Stoichiometry","Transition Metals","Polymer Chemistry","Environmental Chemistry"],"AP\xae\ufe0e/College Environmental Science":["Ecology and Ecosystems","Biodiversity","Population Ecology","Water Resources and Pollution","Air Pollution","Climate Change","Fossil Fuels and Energy Production","Renewable Energy Sources","Waste Management","Soil and Agriculture","Land Use and Conservation","Environmental Laws and Regulations","Environmental Toxicology","Human Population Growth","Sustainability","Global Warming","Ozone Depletion","Deforestation","Urbanization","Environmental Ethics"],"AP\xae\ufe0e/College Physics 1":["Kinematics","Dynamics","Circular Motion and Gravitation","Energy","Momentum","Simple Harmonic Motion","Torque and Rotational Motion","Mechanical Waves and Sound","Electrostatics","DC Circuits","Simple Circuits","Fluid Mechanics","Thermodynamics","Heat Transfer","Work and Power","Conservation Laws","Wave Properties","Resonance","Superposition","Interference"],"AP\xae\ufe0e/College Physics 2":["Electrostatics and Electric Fields","Electric Potential and Capacitance","Magnetic Fields","Electromagnetic Induction","AC Circuits","Mechanical Waves and Sound","Ray and Wave Optics","Quantum Physics","Atomic and Nuclear Physics","Thermodynamics","Fluid Mechanics","Kinetic Theory and PV Diagrams","Entropy and the Second Law of Thermodynamics","Electric Circuits","Magnetism","Inductance","Maxwell's Equations","Electromagnetic Waves","Geometric and Physical Optics","Quantum Mechanics","Atomic and Nuclear Physics","Particle Physics","Relativity"]},Computing:{"Intro to CS - Python":["Basic Syntax and Data Types","Variables and Operators","Control Flow (if, else, loops)","Functions","Lists and Tuples","Dictionaries","String Manipulation","File Input/Output","Introduction to Modules","Debugging Techniques","Basic Algorithms (e.g., searching, sorting)","Object-Oriented Programming Basics","Working with Libraries","Error Handling","Basic Data Structures","User Input","Simple Game Development","Data Visualization Basics","Intro to Web Development with Python","Version Control Basics (Git)"],"Computer programming":["Data Structures (Arrays, Linked Lists, Trees, Graphs)","Algorithm Design and Analysis","Object-Oriented Programming (OOP)","Design Patterns","Software Engineering Principles","Databases and SQL","Web Development (HTML, CSS, JavaScript)","Version Control (Git)","Testing and Debugging","Software Architecture","Operating Systems Concepts","Networking Fundamentals","Security Basics","Concurrency and Parallelism","Mobile App Development Basics","Cloud Computing Basics","Artificial Intelligence (AI) Basics","Machine Learning Basics","UI/UX Design Principles","API Development and Usage"],"AP\xae\ufe0e/College Computer Science Principles":["The Internet","Digital Information","Algorithms","Programming","Big Data","Cybersecurity","Impacts of Computing","Creative Development Process","Data Abstraction","Global Impact of Computing","Abstraction and Algorithms","The Internet and Protocols","Ethical Considerations in Computing","Data Security and Privacy","Computational Thinking","Programming Paradigms","Simulation and Modeling","Collaborative Development","Hardware and Software","Innovation in Computing"]},"Arts & Humanities":{"AP\xae\ufe0e/College US History":["Pre-Columbian America","Colonial America","The American Revolution","The Constitution and the Early Republic","The Civil War and Reconstruction","The Gilded Age","The Progressive Era","World War I and the Roaring Twenties","The Great Depression and the New Deal","World War II","The Cold War","The Civil Rights Movement","The Vietnam War","The Reagan Era","Post-Cold War America","21st Century America","Social and Cultural Developments","Economic Transformations","Political Changes and Reform","Foreign Policy"],"AP\xae\ufe0e/College US Government & Politics":["Constitutional Principles","Federalism","Political Beliefs and Behaviors","Political Parties and Interest Groups","Elections and Voting Behavior","The Legislative Branch","The Executive Branch","The Judicial Branch","Civil Liberties and Civil Rights","Public Policy","The Media and Politics","Political Participation","State and Local Government","Campaign Finance","Political Ideologies","Bureaucracy and Public Administration","The Budget Process","Foreign Policy and National Security","Policy Analysis","Contemporary Political Issues"],"AP\xae\ufe0e/College World History":["The Neolithic Revolution","Early Civilizations","Classical Civilizations","The Rise of Major Religions","The Post-Classical Era","The Age of Exploration","The Renaissance and Reformation","The Scientific Revolution","The Enlightenment","The French Revolution","The Industrial Revolution","Imperialism and Colonialism","World War I","World War II","The Cold War","Decolonization","Globalization","20th and 21st Century Conflicts","Global Economic Development","Contemporary Global Issues"],"Big History Project":["The Big Bang and the Origin of the Universe","The Formation of Stars and Planets","The Origin of Life","The Rise of Humans","The Agricultural Revolution","The Rise of Civilizations","The Great Convergence","The Anthropocene","Future Scenarios","Cosmic Evolution","Biological Evolution","Human Evolution","The Role of Energy","Complexity and Emergence","Collective Learning","The Global Impact of Humans","Interdisciplinary Perspectives","Scale of Time and Space","Narrative and Storytelling","Looking to the Future"],"Climate project":["The Science of Climate Change","Greenhouse Gases and Global Warming","Evidence of Climate Change","Impacts of Climate Change","Mitigation Strategies","Adaptation Strategies","Renewable Energy","Carbon Capture and Storage","Climate Policy and International Agreements","Individual Actions to Reduce Carbon Footprint","The Role of Technology in Climate Solutions","Climate Justice","Public Awareness and Engagement","The Economics of Climate Change","Sustainable Development","Climate Modeling","The Future of Climate Change","The Politics of Climate Change","Climate Change and Biodiversity","Climate Change Communication"],"AP\xae\ufe0e/College Art History":["Prehistoric Art","Ancient Art (Egypt, Mesopotamia, Greece, Rome)","Medieval Art","Renaissance Art","Baroque Art","Rococo Art","Neoclassical Art","Romantic Art","Realism and Impressionism","Post-Impressionism","Early Modern Art","Modern Art Movements (Cubism, Surrealism, etc.)","Postmodern Art","Contemporary Art","Global Art Traditions","Architectural History","Sculptural Traditions","The Role of Patronage","Art and Social Change","Art and Identity"],"Constitution 101":["The Constitutional Convention","The Bill of Rights","Separation of Powers","Checks and Balances","Federalism","The Amendment Process","Judicial Review","Civil Liberties","Civil Rights","Constitutional Interpretation","The Evolution of the Constitution","Landmark Supreme Court Cases","Constitutional Debates","The Role of the Judiciary","The Legislative Process","The Executive Power","Constitutional Rights","The Constitution in Modern Society","The Constitution and Democracy","The Future of the Constitution"]},Economics:{"AP\xae\ufe0e/College Macroeconomics":["Basic Economic Concepts","Measuring Economic Performance","National Income and Price Determination","Aggregate Supply and Aggregate Demand","Fiscal Policy","Monetary Policy","The Phillips Curve","Economic Growth","International Trade","Foreign Exchange Markets","The Balance of Payments","Inflation and Unemployment","The Business Cycle","Long-Run Economic Growth","Money and Banking","Financial Markets","Government Deficits and Debt","Open Economy Macroeconomics","Economic Indicators","Economic Policy Debates"],"AP\xae\ufe0e/College Microeconomics":["Basic Economic Principles","Supply and Demand","Elasticity","Consumer Choice and Utility","Production and Costs","Perfect Competition","Monopoly","Oligopoly","Monopolistic Competition","Market Structures","Factor Markets","Market Failure","Externalities","Public Goods","Government Intervention","Labor Markets","Income Distribution","Game Theory","Behavioral Economics","International Trade and Microeconomics"]},"High School - Mathematics":{Algebra_1:["Variables and Expressions","Operations with Real Numbers","Solving Linear Equations","Solving Linear Inequalities","Graphing Linear Equations and Functions","Writing Linear Equations","Systems of Linear Equations and Inequalities","Exponents and Exponential Functions","Polynomials and Factoring","Quadratic Equations and Functions","Radical Expressions and Equations","Rational Expressions and Functions","Absolute Value Equations and Inequalities","Introduction to Functions","Relations and Functions","Data Analysis and Probability","Sequences and Series","Solving Word Problems","Simplifying Algebraic Expressions","Properties of Real Numbers","Introduction to Inequalities","Function Notation","Coordinate Plane and Graphing","Direct and Inverse Variation","Solving Equations with Variables on Both Sides"],Geometry:["Points, Lines, and Planes","Angles and Angle Measure","Parallel and Perpendicular Lines","Triangles and Congruence","Properties of Triangles","Quadrilaterals and Polygons","Similarity and Scale Factors","Right Triangles and Trigonometry","Circles: Properties and Theorems","Area of Polygons and Circles","Surface Area and Volume of Solids","Transformations in the Plane","Coordinate Geometry","Proofs and Reasoning","Perimeter and Circumference","Congruent Figures","Special Right Triangles","Pythagorean Theorem","Geometric Constructions","Angle Relationships","Properties of Parallelograms","Properties of Kites and Trapezoids","Circles: Arcs and Angles","Composite Figures","Spherical Geometry","Introduction to Vectors","Introduction to Fractals"],Algebra_2:["Linear Functions and Systems","Quadratic Functions and Equations","Polynomial Functions","Rational Exponents and Radical Functions","Exponential and Logarithmic Functions","Rational Functions","Sequences and Series","Probability and Statistics","Conic Sections","Matrices and Determinants","Complex Numbers","Trigonometric Ratios and Functions","Trigonometric Identities and Equations","Graphs of Trigonometric Functions","Inverse Trigonometric Functions","Data Analysis and Regression","Solving Systems of Equations (Linear and Nonlinear)","Partial Fractions","Binomial Theorem","Introduction to Limits","Introduction to Vectors","Polar Coordinates and Parametric Equations","Piecewise Functions","Absolute Value Functions","Inequalities and Absolute Value Equations","Exponential Growth and Decay","Modeling with Functions"],Integrated_Math_1:["Solving Linear Equations and Inequalities","Functions and Their Representations","Linear Functions and Graphs","Systems of Linear Equations and Inequalities","Properties of Exponents","Introduction to Sequences","Introduction to Statistics and Data Analysis","Measures of Central Tendency and Variability","Analyzing Linear Models","Introduction to Geometric Transformations","Congruence and Similarity","Introduction to Geometry Proofs","Modeling with Mathematics","Introduction to Probability","Solving Absolute Value Equations and Inequalities","Introduction to Quadratic Functions","Growth and Decay in Context","Exploring Data: Frequency Tables and Histograms","Compound Interest","Linear Piecewise Functions","Geometric Constructions","Introduction to Scatter Plots and Correlation","Problem Solving and Mathematical Practices","Properties of Real Numbers","Simplifying Algebraic Expressions"],Integrated_Math_2:["Quadratic Functions and Equations","Complex Numbers","Polynomials and Factoring","Rational Exponents and Radicals","Exponential Functions and Logarithms","Transformations of Functions","Comparing Linear, Exponential, and Quadratic Models","Rational Functions","Conic Sections (Circles, Parabolas)","Probability Rules and Models","Conditional Probability and Independence","Data Analysis and Statistical Reasoning","Similarity and Dilations","Trigonometric Ratios and Functions","Right Triangle Trigonometry","Transformations and Symmetry","Proof and Geometric Reasoning","Geometric Constructions and Loci","Congruence and Similarity in the Coordinate Plane","Circles: Properties and Equations","Modeling with Functions","Arithmetic and Geometric Sequences","Inverse Functions","Systems of Equations and Inequalities (Linear and Quadratic)","Modeling Periodic Phenomena"],Integrated_Math_3:["Polynomial Functions and Equations","Rational Functions and Asymptotes","Exponential and Logarithmic Functions","Trigonometric Functions and Graphs","Trigonometric Identities and Equations","Sequences and Series","Functions and Their Inverses","Conic Sections (Ellipses and Hyperbolas)","Vectors and Parametric Equations","Complex Numbers and De Moivre's Theorem","Introduction to Limits and Continuity","Introduction to Derivatives","Probability Distributions and Expected Value","Statistical Inferences and Conclusions","Modeling with Functions","Piecewise and Step Functions","Transformations of Functions","Solving Nonlinear Systems of Equations","Polar Coordinates and Graphs","Matrices and Determinants","Solving Equations with Rational Exponents","Graphical Analysis of Functions","Data Analysis and Statistical Reasoning","Introduction to Series and Sigma Notation","Modeling Periodic Phenomena","Law of Sines and Cosines"],Algebra_Basics:["Order of Operations (PEMDAS)","Basic Properties of Numbers (Associative, Commutative, Distributive)","Simplifying Algebraic Expressions","Solving One-Step Equations","Solving Multi-Step Equations","Understanding Variables and Constants","Operations with Integers","Fractions and Decimals","Ratios and Proportions","Percentages","Introduction to Inequalities","Graphing on the Number Line","Evaluating Expressions","Absolute Value Basics","Basic Coordinate Plane Concepts","Introduction to Functions","Simple Word Problems","Basic Exponent Rules","Introduction to Polynomials","Factoring Simple Expressions","Units and Unit Conversions","Introduction to Slope and Rate of Change","Basic Mathematical Modeling","Translating Words to Equations","Basic Data Interpretation (Mean, Median, Mode)"],Trigonometry:["Trigonometric Ratios (Sine, Cosine, Tangent)","Unit Circle","Graphs of Trigonometric Functions","Trigonometric Identities","Inverse Trigonometric Functions","Solving Trigonometric Equations","Law of Sines and Law of Cosines","Radian and Degree Measure","Trigonometric Applications (Solving Triangles)","Amplitude, Period, and Phase Shift","Trigonometric Form of Complex Numbers","Polar Coordinates and Graphs","Vectors and Their Applications","Sum and Difference Formulas","Double Angle and Half Angle Identities","Product-to-Sum and Sum-to-Product Identities","Trigonometric Equations and Inequalities","Angular Velocity and Linear Velocity","Harmonic Motion","Circular Functions and Their Applications","De Moivre's Theorem","Graphical Transformations of Trigonometric Functions","Trigonometric Modeling","Trigonometric Limits and Precalculus Concepts","Solving Right and Oblique Triangles","Polar Form of Complex Numbers"],Precalculus:["Functions and Their Graphs","Polynomial and Rational Functions","Exponential and Logarithmic Functions","Trigonometric Functions and Identities","Analytic Trigonometry","Polar Coordinates and Complex Numbers","Vectors and Parametric Equations","Sequences and Series","Conic Sections","Systems of Equations and Inequalities","Matrices and Determinants","Limits and an Introduction to Calculus","Binomial Theorem","Mathematical Induction","Introduction to Continuity","Inverse Functions and Their Graphs","Exponential and Logistic Modeling","Graphs and Transformations of Functions","Partial Fractions","De Moivre's Theorem","Introduction to Differential Calculus Concepts","Trigonometric Form of Complex Numbers","Polar Equations and Graphs","Introduction to Limits and Continuity","Rational Functions and Asymptotes","Introduction to Parametric Equations","Problem-Solving and Applications"],High_School_Statistics:["Statistical Measures (Mean, Median, Mode, Range)","Standard Deviation and Variance","Probability Concepts and Rules","Probability Distributions","Normal Distribution and Z-Scores","Data Collection and Sampling Methods","Statistical Graphs (Histograms, Box Plots, etc.)","Regression and Correlation","Scatter Plots and Line of Best Fit","Hypothesis Testing Basics","Confidence Intervals","Permutations and Combinations","Binomial Probability","Experimental Design Principles","Interpreting Data and Statistical Reasoning","Analyzing Surveys and Experiments","Conditional Probability and Independence","Chi-Square Tests (Basic Introduction)","Observational Studies vs. Experiments","Margin of Error","Inferential Statistics Basics","Transformations and Comparisons of Data Sets","Probability Models","Understanding Bias and Error","Understanding Outliers and Their Impact","Law of Large Numbers","Introduction to Random Variables"],Statistics_And_Probability:["Descriptive Statistics (Measures of Center and Spread)","Probability Foundations and Axioms","Random Variables (Discrete and Continuous)","Probability Distributions (Binomial, Poisson, Normal)","Combinatorics (Permutations and Combinations)","Conditional Probability and Bayes' Theorem","Expected Value and Variance","Law of Large Numbers and Central Limit Theorem","Hypothesis Testing and p-Values","Confidence Intervals and Estimation","Correlation and Regression Analysis","Analysis of Variance (ANOVA)","Chi-Square Tests (Goodness-of-Fit, Independence)","Sampling Methods and Distributions","Standard Normal Distribution and Z-Scores","t-Distributions and Small Sample Inference","F-Distributions","Nonparametric Tests","Probability Generating Functions","Markov Chains (Introduction)","Monte Carlo Methods (Introduction)","Empirical Rule and Chebyshev's Theorem","Transformations of Random Variables","Statistical Inference and Decision Making","Power and Sample Size Calculations","Bootstrap Methods","Time Series Analysis (Basic Concepts)"],College_Algebra:["Functions and Their Properties","Polynomial and Rational Functions","Exponential and Logarithmic Functions","Systems of Equations (Linear and Nonlinear)","Matrices and Determinants","Complex Numbers","Sequences and Series","Conic Sections","Inequalities and Absolute Value","Binomial Theorem","Partial Fractions","Graphing Techniques and Transformations","Inverse Functions","Introduction to Limits","Operations on Functions","Higher Degree Polynomial Equations","Rational Root Theorem","Synthetic Division","Exponential Growth and Decay Models","Piecewise Functions","Parametric Equations","Introduction to Vectors","Introduction to Trigonometric Functions","Modeling with Algebraic Functions","Applications and Problem Solving","Polynomial Division","Systems of Inequalities"],AP_College_Calculus_AB:["Limits and Continuity","Derivatives and the Concept of the Derivative","Rules of Differentiation","Applications of Derivatives (Graph Analysis, Optimization)","Related Rates","Mean Value Theorem","Integrals and the Fundamental Theorem of Calculus","Definite and Indefinite Integrals","Techniques of Integration (Substitution)","Applications of Integration (Area Under a Curve, Volume)","Differential Equations (Separable Equations)","Slope Fields","Accumulation Functions","L'H\xf4pital's Rule","Motion Along a Line (Velocity, Acceleration)","Riemann Sums (Left, Right, Midpoint, Trapezoidal)","Rates of Change in Applied Contexts","Function Analysis Using First and Second Derivatives","Modeling Situations with Differential Equations","Exponential Growth and Decay","Antiderivatives and Initial Value Problems","Fundamental Theorem Part I and II","Curve Sketching Using Derivatives","Numerical Approaches to Integration","Connecting Graphs, Tables, and Equations","Average Value of a Function","Optimization Problems","Continuity and Intermediate Value Theorem"],AP_College_Calculus_BC:["All AP Calculus AB Topics","Parametric, Polar, and Vector Functions","Advanced Integration Techniques (Integration by Parts, Partial Fractions)","Improper Integrals","Sequences and Series","Convergence and Divergence of Series","Taylor and Maclaurin Series","Power Series Representations of Functions","Euler's Method","Logistic Growth Models","L'H\xf4pital's Rule (Advanced Applications)","Arc Length and Surface Area","Polynomial Approximations and Series","Infinite Series Tests (p-Test, Comparison Test, Alternating Series Test, Ratio Test)","Calculus with Parametric Equations","Calculus with Polar Coordinates","Differential Equations (Advanced Techniques)","Slope Fields and Solution Curves","Approximating Sums Using Series","Convergence Tests for Series","Radius and Interval of Convergence","Taylor Polynomials and Error Analysis (Lagrange Error Bound)","Series Solutions to Differential Equations","Functions Defined by Series","Integration Involving Parametric and Polar Curves"],AP_College_Statistics:["Exploring Data (Describing and Comparing Distributions)","Sampling and Experimentation (Designing Studies)","Probability and Simulation","Random Variables and Probability Distributions","Sampling Distributions and the Central Limit Theorem","Statistical Inference (Confidence Intervals, Significance Tests)","Comparing Two Means or Proportions","Chi-Square Tests (Goodness-of-Fit, Independence, Homogeneity)","Linear Regression and Correlation","Residual Analysis and Transformation","Inference for Distributions","Experimental Design (Randomization, Control Groups)","Probability Models and Decision Making","Binomial and Geometric Distributions","Inference for Slope (Regression Analysis)","Critical Values and p-Values","Type I and Type II Errors and Statistical Power","Planning and Conducting Surveys","Blocking and Matched Pairs","Simulation Techniques","Random Number Generators and Randomization","Law of Large Numbers","Marginal and Conditional Distributions","Analyzing Two-Way Tables","Nonparametric Tests","Assessing Normality and Transformations","Ethical Considerations in Data Analysis"],Multivariable_Calculus:["Vectors and Vector-Valued Functions","Multivariable Functions and Their Graphs","Partial Derivatives and Gradient Vectors","Multiple Integration (Double and Triple Integrals)","Line Integrals and Surface Integrals","Vector Fields and Flows","Divergence and Curl","Green's Theorem, Stokes' Theorem, and Divergence Theorem","Parametric Surfaces and Surface Area","Coordinate Systems (Cartesian, Cylindrical, Spherical)","Lagrange Multipliers and Optimization","Chain Rule for Multivariable Functions","Directional Derivatives and Tangent Planes","Jacobians and Change of Variables","Applications of Multiple Integrals (Volume, Mass, Center of Mass)","Conservative Fields and Potential Functions","Arc Length and Curvature","Improper Integrals in Multiple Dimensions","Differential Equations in Several Variables","Taylor Series for Multivariable Functions","Gradient, Divergence, and Laplacian Operators","Differential Forms and Integration","Applications to Physics and Engineering","Vector Calculus Identities","Triple Integrals in Various Coordinate Systems","Surface Integrals and Flux","Parametric Equations for Surfaces"],Differential_Equations:["First-Order Differential Equations","Separable Equations","Linear Differential Equations","Exact Equations and Integrating Factors","Second-Order Linear Differential Equations","Homogeneous Equations with Constant Coefficients","Nonhomogeneous Equations and Method of Undetermined Coefficients","Variation of Parameters","Laplace Transforms","Series Solutions of Differential Equations","Systems of Differential Equations","Phase Plane Analysis","Stability and Autonomous Equations","Fourier Series and Boundary Value Problems","Partial Differential Equations","Eigenvalues and Eigenvectors Applications","Modeling with Differential Equations","Numerical Methods (Euler's Method, Runge-Kutta Methods)","Linearization and Stability of Equilibria","Sturm-Liouville Theory","Green's Functions","Applications to Mechanics and Circuit Theory","Direction Fields and Qualitative Methods","Existence and Uniqueness Theorems","Bifurcation Theory (Introduction)","Applications to Population Dynamics","Chaos and Nonlinear Systems (Introduction)"],Linear_Algebra:["Systems of Linear Equations","Matrices and Matrix Operations","Determinants and Their Properties","Vector Spaces and Subspaces","Basis and Dimension","Linear Independence and Dependence","Linear Transformations and Their Matrices","Eigenvalues and Eigenvectors","Diagonalization of Matrices","Inner Product Spaces","Orthogonality and Orthogonal Projections","Gram-Schmidt Process","Least Squares Solutions","Quadratic Forms and Conic Sections","Spectral Theorem","Rank and Nullity Theorems","Change of Basis and Similarity","Applications to Differential Equations","Singular Value Decomposition (SVD)","Polar Decomposition","Matrix Factorizations (LU, QR)","Cayley-Hamilton Theorem","Applications to Computer Graphics","Complex Vector Spaces","Dual Spaces and Transposes","Bilinear and Quadratic Forms","Norms and Metrics","Positive Definite Matrices"]}},Dp={"Bachelors-ComputerScience":{CoreSubjects:["Introduction to Programming","Data Structures and Algorithms","Computer Architecture","Operating Systems","Database Management Systems","Software Engineering","Computer Networks","Theory of Computation","Artificial Intelligence","Machine Learning"],Mathematics:["Calculus I, II, and III","Linear Algebra","Discrete Mathematics","Probability and Statistics","Differential Equations"],Programming:["Introduction to Programming Languages (Python, Java, C++)","Object-Oriented Programming","Data Structures and Algorithms","Web Development (HTML, CSS, JavaScript)","Mobile App Development","Software Engineering Principles","Version Control Systems (Git)","Concurrent Programming","Functional Programming Concepts"],Systems:["Computer Architecture and Organization","Operating Systems","Database Management Systems","Networking Fundamentals","Distributed Systems","Cybersecurity Basics","Cloud Computing","Compiler Design","Embedded Systems"],Theory:["Discrete Mathematics","Automata Theory","Computational Complexity","Theory of Computation","Information Theory","Graph Theory","Cryptography","Quantum Computing Basics","Bioinformatics"],Electives:["Artificial Intelligence","Machine Learning","Human-Computer Interaction","Virtual Reality","Big Data Analytics","Game Development","Data Visualization","Internet of Things (IoT)","Blockchain Technology"]},"Bachelors-MechanicalEngineering":{CoreSubjects:["Engineering Mechanics","Thermodynamics","Fluid Mechanics","Heat Transfer","Manufacturing Processes","Machine Design","Control Systems","Materials Science","Instrumentation and Measurement","CAD/CAM"],AppliedEngineering:["Computer-Aided Design (CAD)","Industrial Automation","Robotics Engineering","Materials Science","Automotive Engineering","Aerospace Engineering Basics","Renewable Energy Systems","Sustainable Engineering Practices","Mechatronics"],Mathematics:["Calculus I, II, III","Differential Equations","Linear Algebra","Probability and Statistics","Numerical Methods","Engineering Mathematics","Discrete Mathematics","Applied Mathematics for Engineers","Optimization Techniques"],Electives:["Biomechanics","Nanotechnology","Advanced Thermodynamics","Computational Fluid Dynamics","Finite Element Analysis","Project Management for Engineers","Energy Conversion and Management","HVAC Systems Design","Marine Engineering Basics"]},"Bachelors-BusinessAdministration":{CoreSubjects:["Principles of Management","Financial Accounting","Marketing Management","Organizational Behavior","Business Law","Economics","Business Statistics","Operations Management","Strategic Management","Business Ethics"],RelatedSubjects:["Mathematics","Communication","Psychology","Sociology"]},"Bachelors-Nursing":{CoreSubjects:["Anatomy and Physiology","Microbiology","Pharmacology","Health Assessment","Adult Health Nursing","Pediatric Nursing","Maternal Child Nursing","Psychiatric Nursing","Community Health Nursing","Nursing Research"],RelatedSubjects:["Chemistry","Biology","Psychology","Sociology","Nutrition"]},"Bachelors-Psychology":{CoreSubjects:["Introduction to Psychology","Research Methods in Psychology","Statistics for Psychology","Cognitive Psychology","Developmental Psychology","Abnormal Psychology","Social Psychology","Personality Psychology","Biological Psychology","Psychological Testing and Measurement"],RelatedSubjects:["Biology","Sociology","Anthropology","Philosophy"]},"Bachelors-ElectricalEngineering":{CoreSubjects:["Circuit Analysis","Electromagnetics","Electronics","Signals and Systems","Digital Logic Design","Control Systems","Power Systems","Communication Systems","Microprocessors","Renewable Energy"],Mathematics:["Calculus I, II, and III","Differential Equations","Linear Algebra","Complex Variables","Probability and Statistics"],RelatedSubjects:["Physics","Computer Science Fundamentals","Materials Science"]},"Bachelors-CivilEngineering":{CoreSubjects:["Structural Analysis","Fluid Mechanics","Geotechnical Engineering","Transportation Engineering","Environmental Engineering","Construction Management","Surveying","Materials Engineering","Hydrology","Engineering Drawing"],Mathematics:["Calculus I, II, and III","Differential Equations","Linear Algebra","Numerical Methods","Probability and Statistics"],RelatedSubjects:["Physics","Chemistry","Geology"]},"Bachelors-Biology":{CellularBiology:["Cell Structure and Function","Genetics","Molecular Biology","Cellular Metabolism","DNA Replication and Repair","Gene Expression","Cell Signaling","Stem Cell Biology","Cell Cycle and Cancer Biology"],OrganismalBiology:["Human Anatomy and Physiology","Plant Biology","Zoology","Ecology","Evolutionary Biology","Microbiology","Entomology","Marine Biology","Comparative Physiology"],Biochemistry:["Metabolic Pathways","Protein Structure and Function","Enzymology","Lipid and Carbohydrate Metabolism","Nucleic Acids","Bioenergetics","Signal Transduction","Molecular Genetics","Biochemical Techniques"],ResearchMethods:["Experimental Design in Biology","Statistical Methods for Biological Research","Laboratory Techniques","Field Research Methods","Data Analysis in Biology","Bioinformatics","Scientific Writing and Communication","Grant Writing for Biologists","Ethics in Biological Research"],Electives:["Neurobiology","Immunology","Biotechnology","Environmental Biology","Structural Biology","Developmental Biology","Biophysics","Marine Ecology","Pharmacology Basics"]}},xp={"Core Automation Testing Skills":{"Testing Skills":["Test Planning and Strategy","Test Case Design and Execution","Defect Reporting and Tracking","Test Automation Framework Design and Implementation","API Testing","Performance Testing","Security Testing","Mobile Testing","Database Testing","CI/CD Integration","Agile Methodologies","Test Data Management","Cross-Browser Testing","Version Control Systems","Cloud Testing"],"Technical Skills":["Programming Fundamentals (Data Structures, Algorithms)","Object-Oriented Programming (OOP)","Scripting Languages (Shell, Bash)","SQL and Database Concepts","Linux/Unix Command Line","Networking Basics","Web Technologies (HTML, CSS, XML, JSON)","API Protocols (REST, SOAP)","Microservices Architecture","Containerization (Docker, Kubernetes)"],"Soft Skills":["Analytical Thinking","Problem Solving","Communication (Written and Verbal)","Collaboration and Teamwork","Time Management","Attention to Detail","Adaptability and Learning Agility","Critical Thinking","Documentation Skills"]},"Programming & DevOps":{ProgrammingLanguages:["Java (OOP Programming Language)","JavaScript","TypeScript","Python","C#","Ruby"],CodeQualityAndMonitoring:["SonarQube","AppDynamics","Dynatrace","DataDog","New Relic"],SCM_VersionControl:["GitHub (SCM \u2013 Source Code Management or Version Control System and Code Hosting for CI/CD)","Bitbucket by Atlassian","Azure DevOps Repos or TFS (Team Foundation Server)","GitLab"],CICD_Pipelines:["Azure Pipelines (CI/CD Pipeline, Workflow, Build and Deploy tool)","Jenkins"]},"Processes & Methodologies":{ProjectManagement_IssueTracking:["Jira (Agile Scrum Project / Task Management and Issue Tracking Tool) - 6 years","Azure DevOps Boards or TFS (Team Foundation Server) - 1 year"],TestManagement:["SmartBear Zephyr for Jira (Jira Plug-in for Test Case Management System) - 6 years","Azure DevOps Test Plans \u2013 1 year","QMetry for Jira","TestRail for Jira","Katalon TestOps"],QA_AutomationSubjects:["Software Testing Principles and Concepts","Automated Test Case Design","Advanced Selenium Techniques","API Testing and Automation","Mobile Testing Automation","Performance and Load Testing","Security Testing Fundamentals","Continuous Integration/Continuous Deployment (CI/CD)","DevOps for Test Automation","Test Automation Framework Design","Behavior Driven Development (BDD) with Cucumber","Version Control with Git","Containerization with Docker for Testing","Cloud-Based Test Automation","Agile Testing Methodologies","Test Metrics and Reporting"]},"Frameworks and AutomationTools":{SeleniumGridAndAppiumServer:["Execute Selenium Test Scripts across browsers, OSs, and versions","Execute Native Mobile Apps across Android and iPhone"],CloudHostedTools:["BrowserStack","Perfecto","Sauce Labs","LambdaTest","AWS Device Farm","Katalon Test Cloud"],APITestingTools:["Rest Assured","Postman (free)","SmartBear ReadyAPI (previously SoapUI Pro)","Charles Proxy (Web Debugger for all APIs and Microservices)"],AutomationFrameworks:["Test Driven Development (TDD)","Behavior Driven Development (BDD)","Page Object Model (POM)","Selenium WebDriver","TestNG","Maven","Playwright","Node.js with TestScript","Appium (Native Mobile App Testing Automation)","Cucumber (Behavior Driven Development for Java)","SpecFlow \u2013 C# BDD","Rest Assured (Java API Framework for Web Services)"],QA_AutomationSkills:["Test Automation Strategy and Planning","Scripting and Programming","Debugging and Problem-Solving","Understanding of Software Development Lifecycle (SDLC)","Continuous Integration and Continuous Deployment (CI/CD)","Version Control Systems (Git)","API Testing and Automation","Performance Testing","Security Testing","Cross-Browser and Cross-Platform Testing","Mobile Automation Testing","Data-Driven and Keyword-Driven Testing","Behavior Driven Development (BDD)","Version Control and Collaboration (Git, GitHub)","Containerization (Docker)","Cloud Services (AWS, Azure)","Test Reporting and Analytics","Agile and Scrum Methodologies","Soft Skills: Communication, Teamwork, Adaptability"],PopularTestingSubjects:["Exploratory Testing","Regression Testing","Acceptance Testing","Usability Testing","Compatibility Testing","Smoke Testing","Sanity Testing"],AdditionalTools:["Katalon Studio","Robot Framework","Cypress.io","TestComplete","Ranorex","UI Automator","JMeter for Performance Testing"]}},Mp={"Masters-ComputerScience":{CoreSubjects:["Advanced Algorithms","Distributed Systems","Advanced Operating Systems","Artificial Intelligence","Machine Learning","Data Mining","Advanced Computer Networks","Database Systems","Cloud Computing","Computer Security"],Specializations:["Machine Learning","Data Science","Computer Vision","Natural Language Processing","Cybersecurity","Human-Computer Interaction","Software Engineering","High-Performance Computing","Embedded Systems","Quantum Computing"],Research:["Research Methodologies in Computer Science","Thesis Research","Seminar in Computer Science","Capstone Project","Publication and Presentation Skills"],Electives:["Advanced Topics in Artificial Intelligence","Robotics","Blockchain Technologies","Internet of Things (IoT)","Advanced Database Systems","Graph Theory and Network Analysis","Computational Biology","Advanced Cryptography","Parallel Computing"]},"Masters-DataScience":{CoreSubjects:["Statistical Learning","Big Data Analytics","Data Mining","Data Visualization","Applied Linear Algebra","Probability Theory","Deep Learning","Natural Language Processing","Database Systems","Machine Learning"],ProgrammingLanguages:["Python for Data Science","R Programming","SQL and NoSQL Databases","Statistical Computation in MATLAB","Scala and Spark"],ToolsAndTechnologies:["Hadoop Ecosystem","Apache Spark","Tableau","TensorFlow and Keras","Cloud Computing for Data Science","Docker and Kubernetes","Data Warehousing"],Electives:["Time Series Analysis","Reinforcement Learning","Anomaly Detection","Advanced Topics in Data Science","Computational Neuroscience","Bioinformatics","Social Network Analysis","Text Analytics","Graphical Models"],Capstone:["Industry Data Science Project","Research Thesis","Internship in Data Science","Seminar on Data Ethics and Law"]},"Masters-MechanicalEngineering":{CoreSubjects:["Advanced Mechanics of Materials","Computational Fluid Dynamics","Finite Element Analysis","Advanced Thermodynamics","Mechanical Vibrations","Robotics and Automation","Advanced Dynamics","Heat Transfer Applications","Design Optimization","Engineering Materials"],Specializations:["Aerospace Engineering","Automotive Engineering","Biomechanics and Biomedical Engineering","Energy Systems","Manufacturing Engineering","Nanotechnology","Mechatronics","Renewable Energy","Advanced Manufacturing"],Electives:["Theory of Elasticity","Fracture Mechanics","Tribology","Advanced Control Systems","Computational Methods in Engineering","Conductive and Radiative Heat Transfer","Advanced Composite Materials","Microfluidics","Additive Manufacturing Technologies"],Research:["Research in Mechanical Engineering","Thesis","Capstone Project","Industry Internship"]},"Masters-ElectricalEngineering":{CoreSubjects:["Advanced Electromagnetics","Digital Signal Processing","Analog Integrated Circuit Design","Power Systems Engineering","Microelectromechanical Systems (MEMS)","Communication Systems","Control Systems Engineering","Advanced Semiconductor Devices","Photonics","Embedded Systems Design"],Specializations:["Renewable Energy Systems","VLSI Design","Power Electronics","Wireless Communications","Robotics and Automation","Electronics Design Automation","Biomedical Signal Processing","Artificial Intelligence in Electrical Engineering","Smart Grid Technologies"],Electives:["Nanoelectronics","Optical Communications","Radar Systems","Advanced Control Theory","Signal Detection and Estimation","Machine Learning for Signal Processing","Sensors and Instrumentation","Advanced Topics in Power Systems","Digital Image Processing"],Research:["Research Methods in Electrical Engineering","Thesis Work","Project in Electrical Engineering"]},"Masters-BusinessAdministration":{CoreSubjects:["Accounting for Managers","Financial Management","Marketing Management","Organizational Behavior","Strategic Management","Operations Management","Business Analytics","International Business","Business Ethics and Law","Economics for Managers"],Specializations:["Finance","Marketing","Human Resources","Operations and Supply Chain Management","Information Systems","Entrepreneurship","Consulting","Healthcare Management","International Business"],Electives:["Investment Analysis","Consumer Behavior","Project Management","Digital Marketing","Corporate Governance","Leadership Development","Negotiation and Conflict Resolution","Risk Management","Innovation Management"],Capstone:["Business Strategy Project","Entrepreneurial Project","Industry Internship","International Business Experience"]},"Masters-CivilEngineering":{CoreSubjects:["Advanced Structural Analysis","Finite Element Method","Advanced Soil Mechanics","Transportation Systems Engineering","Construction Project Management","Environmental Engineering Systems","Hydrology and Water Resources","Advanced Concrete Technology","Structural Dynamics","Earthquake Engineering"],Specializations:["Structural Engineering","Geotechnical Engineering","Transportation Engineering","Environmental Engineering","Water Resources Engineering","Construction Engineering and Management","Urban Planning","Sustainable Infrastructure Engineering"],Electives:["Bridge Engineering","Advanced Foundation Engineering","Pavement Design","Advanced Traffic Engineering","Computational Methods in Civil Engineering","Wastewater Treatment Processes","Remote Sensing and GIS","Coastal Engineering","Renewable Energy Systems in Civil Engineering"],Research:["Research Methods in Civil Engineering","Thesis Work","Capstone Design Project","Industry Collaboration Project"]},"Masters-CyberSecurity":{CoreSubjects:["Network Security","Cryptography","Cybersecurity Principles","Ethical Hacking and Penetration Testing","Digital Forensics","Security Protocols","Risk Management and Compliance","Secure Software Design","Incident Response and Recovery","Cloud Security"],ToolsAndTechnologies:["Cybersecurity Tools and Techniques","Malware Analysis","Intrusion Detection Systems","Firewall and VPN Technologies","Security Information and Event Management (SIEM)","Blockchain Security Applications"],Electives:["Mobile Security","Cyber Threat Intelligence","Advanced Cryptographic Techniques","Artificial Intelligence in Security","Internet of Things (IoT) Security","Biometric Security Systems","Security in Wireless Networks","Privacy Enhancing Technologies"],Capstone:["Cybersecurity Capstone Project","Internship in Cybersecurity","Research Thesis","Cybersecurity Policy and Management Seminar"]},"Masters-ArtificialIntelligence":{CoreSubjects:["Fundamentals of Artificial Intelligence","Machine Learning Theory and Applications","Deep Learning","Natural Language Processing","Computer Vision","Robotics and Autonomous Systems","Reinforcement Learning","Knowledge Representation and Reasoning","Probabilistic Graphical Models","Cognitive Computing"],ProgrammingAndTools:["Python Programming for AI","TensorFlow and PyTorch","AI Software Development","Data Structures for AI","High-Performance Computing for AI"],Electives:["Advanced Robotics","AI Ethics and Society","Human-Robot Interaction","Computational Neuroscience","Artificial Life","Genetic Algorithms","Speech Recognition","AI in Healthcare","Conversational AI and Chatbots"],Research:["AI Research Methods","Thesis in Artificial Intelligence","AI Capstone Project","Seminar on Emerging AI Technologies"]}},Op={"AWS-SolutionsArchitect":{Compute:["Amazon EC2: Instance types, pricing models, Auto Scaling, Load Balancing","AWS Lambda: Serverless compute, Function as a Service, Event triggers","Amazon ECS and EKS: Container orchestration with Docker and Kubernetes","AWS Elastic Beanstalk: Simplified application deployment and management","AWS Batch: Managed batch processing at any scale","Amazon Lightsail: Easy-to-use virtual private servers"],Storage:["Amazon S3: Object storage, Bucket policies, Lifecycle management, Versioning","Amazon EBS: Block storage volumes for EC2, Snapshots, Encryption","Amazon EFS: Scalable file storage for EC2, Performance modes, Mount targets","Amazon S3 Glacier: Archival storage, Retrieval options","AWS Storage Gateway: Hybrid cloud storage integration","AWS Backup: Centralized backup service for AWS resources"],NetworkingAndContentDelivery:["Amazon VPC: Customizable virtual networks, Subnets, Route tables, Security groups","Elastic Load Balancing: Distribute traffic across multiple targets","Amazon Route 53: Scalable DNS and domain name registration, Routing policies","AWS Direct Connect: Dedicated network connection from on-premises to AWS","Amazon CloudFront: Content Delivery Network, Edge locations, Web distribution","AWS Transit Gateway: Connect VPCs and on-premises networks through a central hub"],Databases:["Amazon RDS: Managed relational databases, Multi-AZ, Read replicas","Amazon DynamoDB: Fully managed NoSQL database, Global Tables, DAX","Amazon Aurora: High-performance MySQL and PostgreSQL-compatible relational database","Amazon Redshift: Fast, scalable data warehousing service","Amazon ElastiCache: In-memory data store for Redis and Memcached","AWS Database Migration Service: Migrate databases securely and with minimal downtime"],SecurityIdentityCompliance:["AWS IAM: User access management, Roles, Policies, MFA","AWS KMS: Secure key management, Customer master keys","AWS Shield: DDoS protection service, Standard and Advanced","AWS WAF: Web application firewall, Rules and conditions","Amazon Cognito: User sign-up, sign-in, and access control","AWS Security Hub: Centralized security views and automated compliance checks","AWS Organizations: Manage multiple AWS accounts with policies","AWS Secrets Manager: Rotate, manage, and retrieve database credentials and other secrets"],ManagementAndGovernance:["AWS CloudTrail: Governance, compliance, and auditing, Log AWS API calls","Amazon CloudWatch: Monitoring and observability, Metrics, Logs, Alarms","AWS Config: Resource inventory, configuration history, and change notifications","AWS Auto Scaling: Scale resources to maintain performance and cost","AWS CloudFormation: Infrastructure as code, Templates for resource provisioning","AWS Systems Manager: Manage EC2 and on-premises systems, Patch and configuration management","AWS Trusted Advisor: Optimize AWS environment, Reduce cost, Improve security and performance"],ApplicationIntegration:["Amazon SQS: Decoupled and scalable message queuing, Standard and FIFO queues","Amazon SNS: Pub/Sub messaging, Push notifications, Mobile notifications","AWS Step Functions: Coordinate distributed applications, Visual workflows","Amazon EventBridge: Serverless event bus for integrating applications","Amazon MQ: Managed message broker service for Apache ActiveMQ and RabbitMQ","AWS AppSync: Managed GraphQL service, Real-time data synchronization"],DeploymentAndProvisioning:["AWS CodeCommit: Secure, highly scalable hosted Git repositories","AWS CodeBuild: Fully managed continuous integration service, Build and test code","AWS CodeDeploy: Automate code deployments to any instance","AWS CodePipeline: Continuous delivery service, Automate release pipelines","AWS OpsWorks: Configuration management service, Manage Chef and Puppet environments","AWS Elastic Beanstalk: Deploy and scale web applications and services"],MonitoringAndLogging:["Amazon CloudWatch Logs: Monitor, store, and access log files","AWS CloudTrail Logs: Track user activity and API usage","AWS X-Ray: Analyze and debug distributed applications","AWS Config Rules: Evaluate resource configurations for compliance","AWS Personal Health Dashboard: Personalized view of AWS service health"],CostManagement:["AWS Cost Explorer: Visualize, understand, and manage AWS costs and usage","AWS Budgets: Set custom budgets and receive alerts","AWS Cost and Usage Report: Most detailed information about AWS costs and usage","AWS Reserved Instances and Savings Plans: Cost-saving options for predictable workloads","AWS Pricing Calculator: Estimate AWS costs for your architecture"],HighAvailabilityAndFaultTolerance:["Multi-AZ Deployments: Enhance availability and data durability","Auto Scaling Groups: Automatically adjust capacity to maintain steady performance","Load Balancing: Distribute incoming traffic across multiple targets","Cross-Region Replication: Replicate data across AWS Regions for disaster recovery","Pilot Light and Warm Standby Architectures: Strategies for disaster recovery"],ArchitectureDesignPrinciples:["AWS Well-Architected Framework: Pillars of operational excellence, security, reliability, performance efficiency, and cost optimization","Decoupling Applications: Use of queues, load balancers, and service discovery","Design for Failure: Implementing redundancy and graceful degradation","Microservices Architecture: Building applications as a collection of small services","Caching Strategies: Improve performance using services like Amazon ElastiCache and CloudFront","Event-Driven Architectures: Reacting to state changes and events with services like AWS Lambda and Amazon Kinesis"],MigrationAndTransfer:["AWS Migration Hub: Track progress of application migrations","AWS Snow Family: Physically migrate large amounts of data (Snowball, Snowmobile)","AWS DataSync: Transfer data between on-premises storage and AWS","AWS Server Migration Service: Migrate on-premises servers to AWS","AWS Application Discovery Service: Gather information about on-premises data centers"],Analytics:["Amazon Kinesis: Collect, process, and analyze real-time streaming data","Amazon EMR: Managed Hadoop framework for big data processing","Amazon Athena: Query data in S3 using SQL","Amazon Elasticsearch Service: Real-time search and analytics","AWS Glue: Fully managed extract, transform, and load (ETL) service","Amazon QuickSight: Business intelligence and data visualization service"],ArtificialIntelligenceAndMachineLearning:["Amazon SageMaker: Build, train, and deploy machine learning models","Amazon Rekognition: Image and video analysis","Amazon Lex: Build conversational interfaces using voice and text","Amazon Comprehend: Natural language processing (NLP) service","Amazon Forecast: Time-series forecasting service","Amazon Personalize: Real-time personalized recommendations"],EdgeComputing:["AWS IoT Core: Connect devices to AWS services and other devices","AWS Greengrass: Local compute, messaging, data caching for connected devices","AWS Lambda@Edge: Run Lambda functions at AWS Edge locations","AWS Outposts: Run AWS services on-premises","Amazon CloudFront Edge Functions: Customize content delivery"]},"AWS-DataScientist":{"Machine Learning":["Supervised Learning: Regression (Linear, Polynomial), Classification (Logistic Regression, SVM, Decision Trees, Random Forests, Gradient Boosting)","Unsupervised Learning: Clustering (K-Means, DBSCAN), Dimensionality Reduction (PCA, t-SNE)","Deep Learning: Neural Networks (ANN, CNN, RNN), Transfer Learning, Model Architectures","Model Evaluation and Selection: Metrics (Accuracy, Precision, Recall, F1-Score, AUC-ROC), Cross-validation, Hyperparameter Tuning","Feature Engineering: Feature selection, Transformation, Scaling, Encoding","Model Deployment: Using SageMaker, Deploying to EC2/ECS, Monitoring Model Performance","Model Explainability: Understanding model predictions (SHAP, LIME)","Natural Language Processing (NLP): Text Classification, Sentiment Analysis, Named Entity Recognition, Topic Modeling","Time Series Analysis: Forecasting, Anomaly Detection, Time Series Modeling"],"Data Engineering":["Data Ingestion: Batch and stream data ingestion using services like Kinesis, Glue, and S3","Data Transformation: Using AWS Glue for ETL, Data wrangling, Data cleaning, and Feature Engineering","Data Storage: S3, Data Lakes, Data Warehousing using Redshift","Data Processing: Using EMR, Spark, Athena, and Batch Processing for large-scale data","Data Pipelines: Designing and managing data workflows using Step Functions and Airflow","Data Governance: Data quality, security, compliance, and metadata management","Database Technologies: SQL, NoSQL (DynamoDB), Relational Databases (RDS), Graph Databases (Neptune)"],"Exploratory Data Analysis":["Data Visualization: Using libraries like Matplotlib, Seaborn, and QuickSight to create plots and dashboards","Statistical Analysis: Hypothesis testing, Correlation analysis, Descriptive statistics","Data Cleaning: Handling missing values, Outlier detection and treatment","Data Understanding: Summarizing and interpreting data to extract insights","Feature Importance: Identifying the most influential features","Data Distribution: Understanding the spread and skewness of data"],"AWS Services":["Amazon SageMaker: Building, training, and deploying machine learning models","Amazon S3: Data storage and management","Amazon EMR: Big data processing with Hadoop and Spark","AWS Glue: Data cataloging, ETL, and data preparation","Amazon Kinesis: Real-time data streaming","Amazon Athena: Querying data in S3 using SQL","Amazon Redshift: Data warehousing","Amazon DynamoDB: NoSQL database","AWS Lambda: Serverless compute for data processing","Amazon QuickSight: Business intelligence and data visualization","AWS Step Functions: Orchestrating data pipelines","AWS IAM: Access control and security","AWS CloudWatch: Monitoring and logging","AWS Lake Formation: Building data lakes"],"Mathematics and Statistics":["Linear Algebra: Vectors, Matrices, Matrix operations","Probability: Random variables, Probability distributions","Statistics: Descriptive statistics, Inferential statistics, Hypothesis testing","Calculus: Derivatives, Integrals","Optimization: Gradient descent, Convex optimization","Bayesian Statistics: Bayesian inference, Bayesian modeling"],"Model Evaluation and Validation":["Metrics for Classification: Accuracy, Precision, Recall, F1-score, AUC-ROC, Confusion Matrix","Metrics for Regression: Mean Squared Error (MSE), Root Mean Squared Error (RMSE), Mean Absolute Error (MAE), R-squared","Cross-validation: K-fold cross-validation, Stratified cross-validation","Bias-Variance Tradeoff: Understanding overfitting and underfitting","Hyperparameter Tuning: Grid search, Random search, Bayesian optimization","Model Selection: Choosing the right model for the problem"],"Data Security and Compliance":["Data Encryption: Encryption at rest and in transit","Access Control: IAM policies, Resource-based policies","Compliance: GDPR, HIPAA, PCI","Data Masking: Protecting sensitive data","VPC Security: Securing data within VPCs","Auditing and Monitoring: Logging and monitoring data access"],"Best Practices":["Scalability: Designing scalable data solutions","Cost Optimization: Optimizing cost using reserved instances, spot instances, and right-sizing","Performance Optimization: Optimizing data processing and model training","Reliability: Building fault-tolerant systems","Security: Implementing security best practices","Version Control: Managing code and models using Git and SageMaker Model Registry","Reproducibility: Ensuring the reproducibility of results"]},"AWS-MachineLearningEngineer":{DataEngineering:["Data Collection and Ingestion: Strategies for gathering data from various sources including databases, APIs, and streaming platforms, and methods for ingesting this data into AWS services like S3, Kinesis, and Glue.","Data Storage and Management: Utilizing S3 for scalable object storage, designing optimal data lake architectures, implementing data lifecycle management policies, and understanding different storage formats such as Parquet and ORC.","Data Transformation and Processing: Techniques for cleaning, transforming, and preparing data for machine learning, leveraging AWS Glue for ETL operations, and using EMR for large-scale data processing.","Data Wrangling: Expertise in data cleaning, feature engineering, and handling missing or inconsistent data using various data manipulation libraries and techniques.","Feature Store: Designing and implementing feature stores for managing and serving features to machine learning models, using services like SageMaker Feature Store."],ExploratoryDataAnalysis:["Data Visualization: Using tools like Matplotlib, Seaborn, and QuickSight to visualize data distributions, identify patterns, and gain insights.","Statistical Analysis: Applying statistical methods to understand data characteristics, identify outliers, and validate assumptions, using libraries like SciPy.","Data Understanding: Developing a deep understanding of the data, its context, and its limitations to ensure appropriate usage in machine learning models.","Hypothesis Testing: Formulating and testing hypotheses to validate assumptions about the data.","Correlation Analysis: Identifying relationships between different features in the data."],ModelDevelopment:["Algorithm Selection: Choosing appropriate machine learning algorithms based on the problem type (classification, regression, clustering) and data characteristics.","Model Training: Using SageMaker to train machine learning models, including configuring training jobs, optimizing hyperparameters, and utilizing different instance types.","Model Evaluation: Evaluating model performance using metrics such as accuracy, precision, recall, F1-score, ROC curves, and AUC.","Hyperparameter Tuning: Implementing hyperparameter optimization techniques using SageMaker's automatic model tuning to enhance model performance.","Model Selection: Employing techniques such as cross-validation to select the best performing model."],MachineLearningAlgorithms:["Supervised Learning: In-depth understanding and implementation of algorithms like Linear Regression, Logistic Regression, Support Vector Machines (SVM), Decision Trees, Random Forests, and Gradient Boosting Machines.","Unsupervised Learning: Deep knowledge of algorithms such as K-Means clustering, Hierarchical clustering, Principal Component Analysis (PCA), and Anomaly Detection techniques.","Deep Learning: Implementation of Neural Networks, Convolutional Neural Networks (CNNs), Recurrent Neural Networks (RNNs), and Transformer models using frameworks like TensorFlow, PyTorch, and Keras.","Ensemble Methods: Combining multiple models to improve prediction accuracy using techniques like bagging, boosting, and stacking."],ModelDeployment:["Deployment Strategies: Implementing different deployment strategies for machine learning models, including batch prediction, online prediction, and real-time inference.","Model Hosting: Using SageMaker Hosting to deploy models as API endpoints, and configuring endpoints for scalability and availability.","Containerization: Packaging models and dependencies using Docker, and deploying containers on ECS or EKS.","Model Versioning: Implementing version control for machine learning models and deploying different versions using SageMaker Model Registry.","Serverless Deployment: Using AWS Lambda for deploying machine learning models in a serverless environment for specific use cases."],ModelMonitoringAndMaintenance:["Performance Monitoring: Tracking model performance in production using CloudWatch metrics, and setting up alerts for model degradation.","Data Drift Detection: Implementing techniques to detect changes in data distributions, and retrain models when necessary.","Model Retraining: Establishing processes for retraining models with new data to maintain model accuracy and relevance.","A/B Testing: Conducting A/B tests to evaluate different versions of models, and select the optimal version for deployment.","Model Explainability: Employing techniques like SHAP and LIME to understand model predictions and improve model transparency."],MachineLearningServices:["Amazon SageMaker: Comprehensive knowledge of using SageMaker for the entire machine learning lifecycle, including data preparation, model training, model deployment, and model monitoring.","Amazon Rekognition: Implementing image and video analysis using pre-trained models for tasks like object detection, facial recognition, and content moderation.","Amazon Comprehend: Using natural language processing (NLP) services for text analysis, sentiment analysis, and entity recognition.","Amazon Translate: Implementing language translation services for multilingual applications.","Amazon Transcribe: Using speech-to-text services to convert audio files to text.","Amazon Lex and Polly: Building conversational interfaces using chatbots and text-to-speech services.","Amazon Forecast: Implementing time series forecasting for demand planning and predictions.","Amazon Personalize: Using real-time recommendation engines for personalized user experiences."],SecurityAndCompliance:["Data Security: Implementing security measures for data at rest and in transit, including encryption and access control using IAM roles and policies.","Model Security: Protecting machine learning models from unauthorized access and tampering.","Compliance: Ensuring compliance with regulations and standards like GDPR, HIPAA, and SOC 2.","Vulnerability Management: Implementing security scans and patches to mitigate risks and vulnerabilities.","Audit Trails: Tracking access and modifications to data and models using services like CloudTrail."],OptimizationAndScalability:["Cost Optimization: Implementing strategies to optimize costs related to data storage, compute resources, and machine learning services, using Cost Explorer and Reserved Instances.","Performance Optimization: Optimizing model training and inference performance using techniques like distributed training, model quantization, and model pruning.","Scalability: Designing scalable machine learning pipelines that can handle large datasets and high traffic volumes, using Auto Scaling and load balancing.","Resource Management: Efficiently managing compute resources and storage using services like SageMaker, EC2, and S3.","Monitoring and Alerting: Setting up monitoring and alerting mechanisms to proactively identify and resolve performance and scalability issues."],EthicalConsiderations:["Bias Detection and Mitigation: Implementing techniques to identify and mitigate bias in data and machine learning models.","Fairness and Transparency: Ensuring fairness, transparency, and accountability in machine learning systems.","Data Privacy: Respecting data privacy and implementing techniques like differential privacy to protect sensitive information.","Responsible AI: Adhering to ethical principles and guidelines for the development and deployment of machine learning systems.","Explainable AI (XAI): Developing models that are transparent and understandable to users, using techniques like SHAP and LIME."]}},Np={"Azure-SolutionArchitect":{Compute:["Azure Virtual Machines: VM sizing, scaling, availability sets, and availability zones","Azure App Service: Web Apps, API Apps, Mobile Apps, scaling, deployment slots","Azure Kubernetes Service (AKS): Container orchestration, scaling, deployment","Azure Functions: Serverless compute, triggers and bindings, consumption plan","Azure Batch: Large-scale parallel and high-performance computing (HPC) workloads","Azure Container Instances: Run containers without managing servers"],Storage:["Azure Storage Accounts: Blob, File, Queue, and Table storage, redundancy options","Azure Blob Storage: Hot, Cool, and Archive tiers, lifecycle management, access tiers","Azure Files: Fully managed file shares, access control, synchronization","Azure Disk Storage: Managed disks for VMs, disk types, disk encryption","Azure Data Lake Storage: Scalable data lake for big data analytics","Azure Storage Explorer: Manage storage accounts, data operations"],Networking:["Azure Virtual Network (VNet): Subnets, network security groups, routing","Azure Load Balancer: Distribute traffic, load balancing rules, backend pools","Azure Application Gateway: Layer 7 load balancing, Web Application Firewall (WAF)","Azure DNS: Host DNS domains, DNS zones, record sets","Azure ExpressRoute: Private connections to Azure datacenters","Azure Traffic Manager: DNS-based traffic load balancer, routing methods","Azure Virtual WAN: Unified network connectivity, branch to cloud connectivity","Azure Firewall: Managed, cloud-based network security service"],SecurityAndIdentity:["Azure Active Directory (Azure AD): Identity and access management, conditional access","Azure Key Vault: Secure key management, secrets management, certificate management","Azure Security Center: Unified security management, threat protection","Azure DDoS Protection: Protect applications from Distributed Denial of Service attacks","Azure Information Protection: Classify and protect documents and emails","Azure Sentinel: Cloud-native SIEM for intelligent security analytics"],DataManagement:["Azure SQL Database: Managed relational database, scaling, security features","Azure Cosmos DB: Globally distributed, multi-model database, consistency levels","Azure SQL Managed Instance: Fully managed instance of SQL Server","Azure Database for MySQL/PostgreSQL: Managed open-source relational databases","Azure Synapse Analytics: Analytics service, big data, data warehousing","Azure Cache for Redis: In-memory data store, caching strategies, data persistence","Azure Data Factory: Data integration service, ETL pipelines, data movement"],MonitoringAndManagement:["Azure Monitor: Collect, analyze, and act on telemetry data","Azure Log Analytics: Query and analyze logs, create dashboards","Azure Automation: Process automation, configuration management, update management","Azure Resource Manager (ARM): Deployment and management of resources, ARM templates","Azure Advisor: Personalized best practices recommendations","Azure Cost Management: Monitor and control Azure spending and cost allocation","Azure Policy: Enforce organizational standards and assess compliance at-scale"],ApplicationIntegration:["Azure Service Bus: Messaging service, queues, topics, subscriptions","Azure Event Grid: Event routing service, event handlers, custom topics","Azure Logic Apps: Automated workflows, integration with SaaS and enterprise applications","Azure API Management: Publish APIs to external and internal customers","Azure Event Hubs: Big data streaming platform and event ingestion service","Azure Functions: Serverless compute, event-driven execution"],DeploymentAndProvisioning:["Azure Resource Manager Templates: Infrastructure as code, JSON templates","Azure DevOps: Continuous integration and delivery, pipelines, repos, artifacts","Azure CLI and PowerShell: Command-line tools for managing Azure resources","Azure Blueprints: Define repeatable sets of Azure resources and policies","Azure Automation State Configuration: Manage configuration across environments","Azure Site Recovery: Disaster recovery service for on-premises and Azure workloads"],MonitoringAndLogging:["Azure Monitor Logs: Centralized log collection and analysis","Azure Application Insights: Application performance management and monitoring","Azure Activity Log: Subscription-level events and operations","Azure Diagnostics Logs: Resource-level logging for troubleshooting","Azure Network Watcher: Network performance monitoring and diagnostics","Azure Service Health: Personalized guidance and support when issues in Azure services affect you"],CostManagement:["Azure Pricing Calculator: Estimate the cost of Azure products and services","Azure Cost Management and Billing: Monitor and control spending, set budgets","Azure Reservations: Cost-saving options for compute and data services","Azure Hybrid Benefit: Use existing on-premises licenses in Azure","Azure Spot Instances: Leverage unused capacity at deep discounts","Azure Cost Alerts: Notifications based on cost thresholds"],HighAvailabilityAndDisasterRecovery:["Availability Sets and Zones: Improve VM uptime, fault domains, update domains","Azure Site Recovery: Business continuity and disaster recovery strategies","Geo-Redundancy: Data replication across regions for recovery","Azure Backup: Backup solutions for VMs, databases, and applications","Load Balancing: Distribute workloads across multiple resources","Designing for Scalability and Elasticity: Scale Up/Down, Scale Out/In strategies"],ArchitectureDesignPrinciples:["Azure Well-Architected Framework: Pillars of reliability, security, cost optimization, operational excellence, and performance efficiency","Design Patterns: Implementing best practices for cloud applications","Microservices Architecture: Building applications as a suite of small services","Event-Driven Architecture: Designing applications that react to events","Designing for Performance and Scalability: Auto-scaling, resource optimization","Designing for Security: Implementing secure architectures, threat modeling"],Migration:["Azure Migrate: Assessment and migration of on-premises workloads","Database Migration: Strategies for migrating databases to Azure","Migration of VMs and Applications: Tools and services for migrating workloads","Data Box and Data Box Heavy: Offline data transfer devices","Cloud Adoption Framework: Guidance for implementing cloud technologies"],Analytics:["Azure Synapse Analytics: Unified analytics platform, data warehousing","Azure Databricks: Collaborative Apache Spark-based analytics platform","Azure Data Lake Analytics: Distributed analytics service, U-SQL","Azure Stream Analytics: Real-time analytics on multiple streams of data","Azure HDInsight: Managed Hadoop service for big data processing","Power BI: Business analytics service for data visualization and reporting"],ArtificialIntelligenceAndMachineLearning:["Azure Machine Learning: Build, train, and deploy machine learning models","Azure Cognitive Services: Pre-built AI capabilities (Vision, Speech, Language, Decision)","Azure Bot Service: Intelligent, serverless bot service","Azure Cognitive Search: AI-powered cloud search service","Azure Databricks: Scalable analytics with Apache Spark","Azure Machine Learning Studio: Collaborative, drag-and-drop tool for building models"],IoTAndEdgeComputing:["Azure IoT Hub: Central message hub for bi-directional communication","Azure IoT Edge: Extend cloud intelligence to edge devices","Azure Sphere: Secure, connected MCU devices","Azure Digital Twins: Create digital representations of real-world things","Azure Time Series Insights: IoT data exploration and telemetry analysis","Azure Maps: Geospatial services, mapping APIs"],GovernanceAndCompliance:["Azure Policy: Enforce standards and assess compliance","Azure Blueprints: Define repeatable sets of governance tools and resources","Role-Based Access Control (RBAC): Fine-grained access management for Azure resources","Resource Tags: Organize resources for management and billing","Azure Security Center Regulatory Compliance: Assess compliance against regulatory standards","Management Groups: Organize subscriptions for unified policy and access management"]},"Azure-DataScientist":{"Core Data Science Concepts":["Understanding the data science lifecycle: From problem definition to deployment","Exploratory data analysis (EDA): Techniques for summarizing and visualizing data","Feature engineering: Creating, selecting, and transforming features for modeling","Model selection: Choosing the right algorithm for the problem at hand","Model evaluation: Metrics for assessing model performance and generalizability","Bias and fairness in machine learning: Understanding and mitigating bias","Ethical considerations in data science: Responsible use of data and algorithms","Version control for data science projects: Using Git and GitHub"],"Machine Learning Fundamentals":["Supervised learning: Classification, regression, and their use cases","Unsupervised learning: Clustering, dimensionality reduction, and anomaly detection","Reinforcement learning: Understanding the basic concepts and applications","Regression algorithms: Linear, polynomial, ridge, and lasso regression","Classification algorithms: Logistic regression, decision trees, random forests, support vector machines (SVM), and neural networks","Clustering algorithms: K-means, hierarchical clustering, and DBSCAN","Dimensionality reduction techniques: Principal component analysis (PCA) and t-distributed stochastic neighbor embedding (t-SNE)","Model ensembling: Combining multiple models for better performance"],"Azure Machine Learning Service":["Creating and managing workspaces: Setting up the Azure Machine Learning environment","Data management: Uploading, exploring, and transforming data within the service","Compute resources: Creating and managing compute clusters, instances, and inference endpoints","Notebooks and experimentation: Developing and running machine learning experiments using Jupyter notebooks","Training models: Using built-in algorithms and custom models","Hyperparameter tuning: Optimizing model performance using automated techniques","Model deployment: Deploying models as web services or containers","Model monitoring and management: Tracking model performance and managing deployed models","Pipelines: Creating reusable and automated machine learning workflows","Azure Machine Learning SDK and CLI: Interacting with the service programmatically","Automated ML: Using automated machine learning to find the best model","MLOps: Implementing DevOps practices for machine learning"],"Data Ingestion and Preparation":["Connecting to various data sources: Azure Blob Storage, Azure Data Lake Storage, Azure SQL Database, etc.","Data wrangling and cleaning: Handling missing values, outliers, and inconsistent data","Data transformation: Feature scaling, encoding categorical variables, and feature selection","Working with different data formats: CSV, JSON, Parquet, etc.","Using Azure Data Factory for data integration and transformation","Using Azure Databricks for large-scale data processing"],"Model Training and Evaluation":["Choosing the right evaluation metrics: Accuracy, precision, recall, F1-score, AUC-ROC, etc.","Cross-validation: Ensuring model generalizability using k-fold cross-validation","Regularization techniques: L1 and L2 regularization to prevent overfitting","Hyperparameter optimization: Tuning model hyperparameters to improve performance","Model selection and comparison: Evaluating and selecting the best performing model","Understanding bias and variance: Diagnosing model underfitting and overfitting"],"Deep Learning with Azure":["Understanding neural networks: Basic concepts of neural networks, activation functions, and backpropagation","Working with deep learning frameworks: TensorFlow, PyTorch, and Keras","Building and training neural networks: Creating and training deep learning models for various tasks","Transfer learning: Using pre-trained models for faster and more effective learning","Convolutional neural networks (CNNs): Image recognition and computer vision tasks","Recurrent neural networks (RNNs): Natural language processing and sequential data tasks","Generative models: GANs and VAEs","Using Azure GPU-enabled compute resources for deep learning"],"Natural Language Processing (NLP)":["Text preprocessing techniques: Tokenization, stemming, lemmatization, and stop word removal","Text representation: Bag-of-words, TF-IDF, and word embeddings (Word2Vec, GloVe, and BERT)","Sentiment analysis: Determining the sentiment of a piece of text","Named entity recognition (NER): Identifying named entities in text","Text classification: Categorizing text into predefined categories","Language modeling: Predicting the next word in a sequence","Using Azure Cognitive Services for NLP tasks"],"Computer Vision":["Image preprocessing techniques: Resizing, normalization, and augmentation","Image classification: Classifying images into predefined categories","Object detection: Locating and identifying objects in images","Image segmentation: Segmenting images into different regions","Using Azure Cognitive Services for computer vision tasks"],"Deployment and Operationalization":["Deploying models as web services: Creating REST APIs for model access","Deploying models as containers: Containerizing models using Docker","Model monitoring: Tracking model performance and identifying issues","Implementing continuous integration and continuous deployment (CI/CD) for ML models","Managing model versions and updates","Scaling and optimizing model deployments"],"Responsible AI":["Understanding fairness in machine learning: Identifying and mitigating bias in datasets and models","Explainable AI (XAI): Techniques for understanding and explaining model predictions","Privacy and security in machine learning: Protecting sensitive data and ensuring model security","Ethical guidelines and principles for AI development","Tools and techniques for responsible AI practices","Data governance and compliance"],"Specialized ML Topics":["Time series analysis and forecasting: Modeling and predicting time-dependent data","Recommendation systems: Building systems for recommending products or content","Anomaly detection: Identifying unusual patterns or events in data","Graph-based machine learning: Modeling and analyzing relationships between entities","Reinforcement learning: Training agents to make decisions in dynamic environments"],"Azure Data Services for ML":["Azure Databricks: Scalable platform for data engineering and machine learning","Azure Synapse Analytics: Unified platform for data analytics and machine learning","Azure Data Lake Storage: Scalable and secure data storage","Azure SQL Database: Managed relational database service","Azure Cosmos DB: Globally distributed multi-model database service"]},"Azure-MachineLearningEngineer":{CoreDataScienceConcepts:["Understanding of statistical concepts: Probability distributions, hypothesis testing, regression analysis.","Knowledge of machine learning algorithms: Supervised, unsupervised, and reinforcement learning.","Model evaluation metrics: Accuracy, precision, recall, F1-score, ROC curves, AUC.","Data preprocessing techniques: Cleaning, transformation, feature engineering, and handling missing data.","Understanding of bias and variance in models and how to mitigate them.","Cross-validation techniques: k-fold, stratified k-fold.","Regularization techniques: L1 and L2 regularization, dropout.","Understanding the ethical implications of AI and machine learning."],AzureMachineLearningService:["Workspace management: Creating, configuring, and managing Azure Machine Learning workspaces.","Compute resources: Creating and managing compute instances, clusters, and serverless compute.","Data management: Registering datasets, creating datastores, and working with different data types.","Environment management: Creating and managing environments for model training and deployment.","Experiment tracking: Logging and tracking experiments, metrics, and artifacts.","Pipeline creation and management: Defining and running machine learning pipelines.","Model registration and versioning: Registering models and tracking versions.","Integration with other Azure services: Azure Storage, Azure Data Lake, Azure DevOps.","Using the Azure Machine Learning SDK, CLI, and UI.","Understanding of Azure Machine Learning components: datasets, datastores, compute targets, environments, and experiments.","Monitoring Azure Machine Learning resources using Azure Monitor and logs.","Implementing security best practices for Azure Machine Learning resources.","Cost management for Azure Machine Learning resources using Azure Cost Management."],ModelTraining:["Choosing appropriate algorithms for different machine learning tasks: classification, regression, clustering, etc.","Implementing custom training scripts and models.","Using pre-built models and algorithms from Azure Machine Learning.","Hyperparameter tuning: Using techniques like grid search, random search, and Bayesian optimization.","Distributed training: Using distributed compute resources to train models faster.","Using automated machine learning (AutoML) to train models.","Understanding and mitigating overfitting and underfitting."],ModelDeployment:["Deploying models as web services using Azure Container Instances (ACI) and Azure Kubernetes Service (AKS).","Deploying models to edge devices using Azure IoT Edge.","Batch deployment: Deploying models for batch scoring.","Real-time deployment: Deploying models for real-time scoring.","Model monitoring and retraining: Monitoring model performance and retraining when necessary.","Understanding model deployment options and choosing the appropriate method.","Managing and scaling model deployments.","Implementing A/B testing for deployed models.","Implementing security best practices for deployed models."],MLOps:["Implementing CI/CD pipelines for machine learning using Azure DevOps or GitHub Actions.","Automating model training and deployment processes.","Version control for machine learning models, datasets, and code.","Monitoring model performance in production using Azure Monitor and Application Insights.","Implementing model retraining and redeployment workflows.","Collaborating on machine learning projects using Azure DevOps or GitHub.","Managing machine learning infrastructure as code (IaC).","Implementing data versioning for machine learning projects."],SpecializedMachineLearningTasks:["Natural Language Processing (NLP): Using pre-trained models and building custom NLP models.","Computer Vision: Using pre-trained models and building custom computer vision models.","Time series forecasting: Using machine learning models for time series data.","Anomaly detection: Using machine learning models for anomaly detection.","Reinforcement learning: Implementing reinforcement learning models."]}},Lp={"Google-Cloud-Professional-Cloud-Architect":{Compute:["Compute Engine: Virtual machine instances, machine types, autoscaling, load balancing","Google Kubernetes Engine (GKE): Managed Kubernetes service, cluster management, node pools","App Engine: Platform as a Service (PaaS), Standard and Flexible environments, scaling options","Cloud Functions: Event-driven serverless compute, triggers, function deployment","Cloud Run: Serverless execution of containerized applications, stateless HTTP containers","Preemptible VMs: Cost-effective VMs for fault-tolerant workloads, limitations, use cases"],StorageAndDatabases:["Cloud Storage: Object storage, buckets, lifecycle management, versioning, storage classes","Persistent Disk: Block storage for VM instances, SSD and HDD options, snapshots","Filestore: Managed file storage, network-attached storage (NAS), performance tiers","Cloud SQL: Managed relational databases for MySQL, PostgreSQL, SQL Server, high availability","Cloud Spanner: Globally distributed relational database, horizontal scaling, strong consistency","Cloud Bigtable: NoSQL wide-column database, low latency, scalability for big data workloads","Firestore: NoSQL document database, real-time synchronization, offline support","Cloud Memorystore: Managed Redis and Memcached services, caching solutions"],Networking:["Virtual Private Cloud (VPC): Network segmentation, subnets, firewall rules, routes","Cloud Load Balancing: HTTP(S), SSL proxy, TCP/UDP, regional and global load balancing","Cloud CDN: Content delivery network, edge caching, reducing latency","Cloud DNS: Scalable, managed DNS service, private zones, DNSSEC","Cloud Interconnect: Dedicated and partner connections, hybrid connectivity, VLAN attachments","Cloud VPN: Secure site-to-site connectivity, IPsec tunnels, HA VPN","Network Service Tiers: Premium and Standard tiers, routing features, pricing differences"],SecurityIdentityCompliance:["Identity and Access Management (IAM): Roles, permissions, service accounts, least privilege","Cloud Identity: Identity management, single sign-on (SSO), multi-factor authentication (MFA)","Cloud Key Management Service (KMS): Create and manage cryptographic keys, key rings","Security Command Center: Centralized security management, threat detection, vulnerability scanning","Cloud Armor: DDoS protection, WAF rules, access control for web applications","VPC Service Controls: Protecting services from data exfiltration, perimeter security","Cloud Audit Logs: Audit trails for admin activity, data access, and system events","Data Loss Prevention API: Sensitive data classification, redaction, de-identification"],OperationsManagement:["Cloud Monitoring: Metrics collection, dashboards, uptime checks, alerting policies","Cloud Logging: Centralized log management, log sinks, export options","Cloud Trace: Distributed tracing, latency analysis, performance optimization","Cloud Debugger: Real-time application debugging without impacting performance","Cloud Profiler: Continuous profiling of resource usage, CPU and heap analysis","Deployment Manager: Infrastructure as code, templates, configuration files, repeatable deployments","Cloud Scheduler: Managed cron service, job automation, retry policies"],ApplicationDevelopment:["Cloud Build: Continuous integration, build triggers, container builds","Artifact Registry: Secure storage for container images and language packages, vulnerability scanning","Cloud Source Repositories: Hosted Git repositories, code management, integration with other tools","Cloud Pub/Sub: Asynchronous messaging, event ingestion, real-time processing","Cloud Tasks: Asynchronous execution of tasks, task queues, rate limiting","Cloud Endpoints: API management, authentication, monitoring, developer portals","API Gateway: Managed gateway for serverless backends, API exposure, security enforcement"],DataAnalyticsAndBigData:["BigQuery: Serverless data warehouse, SQL queries, data analytics at scale","Dataflow: Stream and batch data processing, Apache Beam SDK, unified programming model","Dataproc: Managed Hadoop and Spark clusters, cost-effective data processing","Cloud Data Fusion: Visual data integration, ETL workflows, pre-built connectors","Dataprep: Intelligent data service for exploration, cleaning, and preparation","Composer: Managed Apache Airflow service, workflow orchestration, dependency management","Pub/Sub: Messaging service for event-driven systems, real-time data streaming"],MachineLearningAndAI:["AI Platform: End-to-end machine learning workflows, training and prediction services","AutoML: Automated model training, custom machine learning models with minimal code","TensorFlow Enterprise: Optimized for GCP, long-term version support, performance tuning","Vision AI: Image and video analysis, object detection, labeling services","Natural Language API: Text analysis, sentiment detection, entity recognition","Speech-to-Text and Text-to-Speech: Audio processing, speech recognition, voice synthesis","Translation API: Neural machine translation, language detection, glossary support","Dialogflow: Building conversational interfaces, chatbots, voice assistants"],HybridAndMultiCloud:["Anthos: Hybrid and multi-cloud application platform, consistent operations across environments","Migrate for Compute Engine: Automated migration of VMs from on-premises or other clouds","Cloud Run for Anthos: Serverless container deployment on GKE, Knative integration","Config Connector: Kubernetes-native management of GCP resources, infrastructure as code","Traffic Director: Service mesh management, global load balancing for microservices","BigQuery Omni: Analyze data across clouds using standard SQL queries"],ManagementTools:["Cloud Console and Mobile App: Web and mobile interfaces for resource management","Cloud Shell: Command-line access in the browser, pre-configured environment","Cloud SDK: Command-line tools for interacting with GCP services, scripting automation","Billing Management: Budgets, alerts, cost controls, billing export","Resource Manager: Organization hierarchy, projects, folders, access control","Service Catalogue: Curated set of approved services, self-service provisioning, standardization"],HighAvailabilityAndResilience:["Designing Distributed Systems: Fault-tolerant architectures, failure domains, redundancy","Multi-zonal and Multi-regional Deployments: Data replication, high availability strategies","Managed Instance Groups: Automated instance healing, autoscaling policies, regional MIGs","Load Balancing Options: Traffic distribution, health checks, session affinity","Disaster Recovery Planning: RTO and RPO considerations, backup strategies, failover mechanisms","Data Replication Services: Cloud SQL replication, Cloud Spanner multi-region configurations"],CostOptimization:["Sustained Use Discounts: Automatic savings for sustained resource usage","Committed Use Contracts: Discounts in exchange for usage commitments, custom machine types","Right-Sizing Resources: Selecting appropriate VM sizes, resource allocation","Monitoring and Managing Costs: Billing reports, cost breakdowns, identifying cost drivers","Storage Cost Management: Choosing storage classes, lifecycle policies, data retention","Network Egress Optimization: Data transfer costs, content caching with Cloud CDN"],MigrationPlanning:["Cloud Adoption Framework: Assessing readiness, defining migration strategies","Application Modernization: Refactoring applications for cloud-native environments","Data Migration: Transferring databases, migrating data warehouses to BigQuery","Hybrid Connectivity: Setting up VPNs, Interconnects, ensuring secure data transfer","Change Management: Training, stakeholder engagement, updating operational processes","Migration Tools: Velostrata, Transfer Appliance, Database Migration Service"],ArchitectureBestPractices:["Well-Architected Framework: Reliability, security, cost optimization, performance efficiency, operational excellence","Microservices and Containerization: Designing scalable and maintainable applications","Event-Driven Architectures: Utilizing Pub/Sub and Cloud Functions for decoupled systems","Security Best Practices: Implementing IAM correctly, data encryption, securing endpoints","Network Design: Subnetting strategies, VPC peering, shared VPCs, service controls","Monitoring and Logging: Implementing observability, leveraging Stackdriver suite effectively"],CaseStudiesAndScenarios:["Analyzing Business Requirements: Translating business needs into technical solutions","Trade-offs and Decision Making: Evaluating options for scalability, cost, and complexity","Regulatory Compliance: Understanding compliance requirements (e.g., GDPR, HIPAA) in design","Performance Optimization: Identifying bottlenecks, caching strategies, CDN utilization","Migration Case Studies: Lessons learned from real-world GCP migrations","Cost-Benefit Analysis: Justifying architectural decisions based on business value"]},"GoogleCloud-DataScientist":{"Data Engineering and Infrastructure":["BigQuery: Querying, loading, and exporting data; managing datasets and tables; optimizing query performance; understanding cost management.","Cloud Storage: Storing and managing data; working with different storage classes; using lifecycle management; data transfer options.","Cloud Composer: Building and managing workflows using Apache Airflow; integrating with other GCP services; creating DAGs.","Cloud Dataflow: Developing data processing pipelines; batch and stream processing; using Beam SDK; managing pipeline deployments.","Cloud Dataproc: Running Hadoop and Spark clusters; managing cluster resources; configuring cluster settings; integrating with other GCP services.","Dataflow SQL: Using SQL for data transformation within Dataflow pipelines; understanding SQL syntax and functions.","Cloud Functions: Serverless functions for data processing and event-driven tasks; deploying and managing functions.","Cloud Pub/Sub: Building real-time messaging systems; understanding topics and subscriptions; integrating with other GCP services.","Networking for Data: Understanding VPC networks, subnets, and firewalls; configuring network settings for data services.","Infrastructure as Code: Using tools like Terraform or Deployment Manager to provision and manage data infrastructure.","Data Lineage and Governance: Understanding data provenance, data quality, and data security; implementing data governance policies.","Data Security: Implementing security best practices for data storage, processing, and access; using IAM and encryption.","Hybrid and Multi-Cloud Data Management: Understanding data transfer options, interoperability, and data integration strategies across different environments."],"Machine Learning and AI":["Vertex AI: Building, training, and deploying ML models; using pre-built models; managing model versions.","AutoML: Using automated ML for building models without coding; understanding different AutoML options.","TensorFlow: Building and training deep learning models; using Keras and other TensorFlow libraries.","PyTorch: Using PyTorch for building and training deep learning models; understanding its features and advantages.","ML APIs: Using pre-trained models for vision, language, and other tasks; integrating APIs into applications.","Feature Engineering: Selecting, transforming, and creating features for ML models; understanding feature importance.","Model Evaluation: Assessing model performance using metrics; understanding bias and variance; model validation strategies.","Hyperparameter Tuning: Optimizing model parameters; using techniques like grid search and Bayesian optimization.","Model Deployment: Deploying models for online prediction and batch processing; using Vertex AI endpoints.","Model Monitoring: Monitoring model performance over time; detecting drift and anomalies; retraining models.","Explainable AI: Understanding and interpreting model predictions; using techniques to explain feature importance.","Generative AI: Understanding the concepts and techniques of generative models, including GANs, VAEs, and diffusion models.","Ethical Considerations in AI: Addressing bias, fairness, and transparency in AI applications; implementing responsible AI practices."],"Data Analysis and Visualization":["BigQuery ML: Using SQL to build and train ML models; integrating models with data analysis.","Data Visualization with Looker Studio: Creating dashboards and visualizations; connecting to different data sources; sharing reports.","Data Exploration: Using tools and techniques to explore and understand data; identifying patterns and insights.","Statistical Analysis: Applying statistical methods to data analysis; understanding distributions, hypothesis testing, and regression.","Data Wrangling: Cleaning, transforming, and preparing data for analysis; using tools and techniques for data quality.","A/B Testing: Designing and analyzing A/B tests to measure the impact of changes; using statistical methods for significance testing.","Data Storytelling: Communicating insights using visualizations and narratives; presenting findings to stakeholders."],"Programming and Development":["Python Programming: Writing Python code for data analysis, machine learning, and data engineering; understanding libraries like Pandas, NumPy, and Scikit-learn.","SQL: Writing SQL queries for data extraction, transformation, and analysis; understanding database concepts.","Git and Version Control: Managing code using Git; understanding branching, merging, and pull requests.","Command Line Tools: Using command-line interfaces for interacting with GCP services and data.","Containerization with Docker: Building and deploying containerized applications; understanding Dockerfiles and images.","CI/CD: Implementing continuous integration and continuous delivery pipelines; automating code deployment.","Scripting: Automating data workflows using scripting languages like Bash or Python."],"Business Acumen and Communication":["Business Understanding: Aligning data science solutions with business goals; understanding business needs and challenges.","Stakeholder Management: Communicating with stakeholders; understanding their needs and expectations.","Project Management: Planning and managing data science projects; understanding agile methodologies.","Documentation: Creating clear and concise documentation for data, models, and processes.","Presentation Skills: Presenting findings to technical and non-technical audiences; using visualizations and storytelling."]},"GCP-MachineLearningEngineer":{"Machine Learning Concepts and Principles":["Understanding of core ML concepts: supervised, unsupervised, and reinforcement learning","Model evaluation metrics: accuracy, precision, recall, F1-score, AUC-ROC","Bias and fairness in ML: identifying and mitigating bias in data and models","Overfitting and underfitting: techniques to address these issues","Feature engineering: feature selection, transformation, and creation","Regularization techniques: L1, L2 regularization","Hyperparameter tuning: grid search, random search, Bayesian optimization"],"Data Engineering for Machine Learning":["Data ingestion: methods for importing data from various sources","Data cleaning and preprocessing: handling missing values, outliers, and inconsistencies","Data transformation: scaling, normalization, and feature encoding","Data storage: options for storing data for ML tasks on GCP (Cloud Storage, BigQuery)","Data versioning: tracking changes to data","Data validation: ensuring data quality and consistency","Feature Store: managing and sharing features across ML projects","Data pipelines: building and managing data workflows (Dataflow, Dataproc)"],"Model Development and Training":["Choosing the right ML algorithm for the problem","Building and training ML models using TensorFlow and/or PyTorch on GCP","Model architecture design: choosing appropriate layers and connections","Distributed training: scaling model training using multiple machines (Vertex AI, Cloud TPUs)","Custom model training: writing custom training loops and optimizers","Transfer learning: leveraging pre-trained models","Model debugging: identifying and resolving issues in model training","Model Explainability: understanding how models make predictions","Model evaluation and validation: assessing model performance on held-out data"],"Model Deployment and Production":["Model deployment options: deploying models as REST APIs, batch predictions, and edge deployments","Model serving: managing and scaling model endpoints (Vertex AI Prediction, AI Platform)","Model monitoring: tracking model performance in production","Model versioning: managing different versions of a model","A/B testing: comparing different model versions","Model retraining: updating models with new data","CI/CD for ML: automating the ML lifecycle","Containerization for ML: using Docker and Kubernetes for model deployment"],"ML Solutions on Google Cloud":["Vertex AI: unified platform for ML development and deployment","BigQuery ML: using SQL to build and train ML models","Cloud Vision API: image analysis and recognition","Cloud Natural Language API: text analysis and understanding","Cloud Speech-to-Text and Text-to-Speech APIs: converting speech to text and vice versa","AutoML: building and training custom ML models with minimal coding","TensorFlow Extended (TFX): building production-ready ML pipelines","Kubeflow: open-source ML platform on Kubernetes","Dialogflow: building conversational interfaces","Recommendations AI: building personalized recommendations"],"MLOps and Automation":["Automated ML workflows: building and managing automated ML pipelines","ML Metadata Management: tracking artifacts of ML workflows","Reproducible ML: ensuring that ML experiments can be repeated","Infrastructure automation: automating the provisioning and management of ML infrastructure","Monitoring and alerting: setting up monitoring and alerting for ML systems","Version control for ML models and code","ML Security best practices"],"Business Understanding and Problem Framing":["Identifying business problems that can be solved with ML","Defining success metrics for ML projects","Understanding business constraints and requirements","Communicating ML results to business stakeholders","Aligning ML solutions with business goals"]}};var zp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fp=a.createContext&&a.createContext(zp),qp=["attr","size","title"];function Bp(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jp.apply(this,arguments)}function Up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(n),!0).forEach((function(t){Hp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hp(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wp(e){return e&&e.map(((e,t)=>a.createElement(e.tag,Vp({key:t},e.attr),Wp(e.child))))}function Gp(e){return t=>a.createElement(Kp,jp({attr:Vp({},e.attr)},t),Wp(e.child))}function Kp(e){var t=t=>{var n,{attr:i,size:r,title:o}=e,s=Bp(e,qp),c=r||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",jp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:Vp(Vp({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==Fp?a.createElement(Fp.Consumer,null,(e=>t(e))):t(zp)}function Qp(e){return Gp({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M593.8 59.1H46.2C20.7 59.1 0 79.8 0 105.2v301.5c0 25.5 20.7 46.2 46.2 46.2h547.7c25.5 0 46.2-20.7 46.1-46.1V105.2c0-25.4-20.7-46.1-46.2-46.1zM338.5 360.6H277v-120l-61.5 76.9-61.5-76.9v120H92.3V151.4h61.5l61.5 76.9 61.5-76.9h61.5v209.2zm135.3 3.1L381.5 256H443V151.4h61.5V256H566z"},child:[]}]})(e)}function Jp(e){return Gp({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Yp(e){return Gp({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"},child:[]}]})(e)}function $p(e){return Gp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M176 216h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16zm-16 80c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16zm96 121.13c-16.42 0-32.84-5.06-46.86-15.19L0 250.86V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V250.86L302.86 401.94c-14.02 10.12-30.44 15.19-46.86 15.19zm237.61-254.18c-8.85-6.94-17.24-13.47-29.61-22.81V96c0-26.51-21.49-48-48-48h-77.55c-3.04-2.2-5.87-4.26-9.04-6.56C312.6 29.17 279.2-.35 256 0c-23.2-.35-56.59 29.17-73.41 41.44-3.17 2.3-6 4.36-9.04 6.56H96c-26.51 0-48 21.49-48 48v44.14c-12.37 9.33-20.76 15.87-29.61 22.81A47.995 47.995 0 0 0 0 200.72v10.65l96 69.35V96h320v184.72l96-69.35v-10.65c0-14.74-6.78-28.67-18.39-37.77z"},child:[]}]})(e)}function Xp(e){return Gp({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function Zp(e){return Gp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function ef(e){return Gp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function tf(e){return Gp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}const nf={};function rf(e,t){"string"!==typeof t&&(t=rf.defaultChars);const n=function(e){let t=nf[e];if(t)return t;t=nf[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);t.push(e)}for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,(function(e){let t="";for(let i=0,r=e.length;i<r;i+=3){const o=parseInt(e.slice(i+1,i+3),16);if(o<128)t+=n[o];else{if(192===(224&o)&&i+3<r){const n=parseInt(e.slice(i+4,i+6),16);if(128===(192&n)){const e=o<<6&1984|63&n;t+=e<128?"\ufffd\ufffd":String.fromCharCode(e),i+=3;continue}}if(224===(240&o)&&i+6<r){const n=parseInt(e.slice(i+4,i+6),16),r=parseInt(e.slice(i+7,i+9),16);if(128===(192&n)&&128===(192&r)){const e=o<<12&61440|n<<6&4032|63&r;t+=e<2048||e>=55296&&e<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(e),i+=6;continue}}if(240===(248&o)&&i+9<r){const n=parseInt(e.slice(i+4,i+6),16),r=parseInt(e.slice(i+7,i+9),16),s=parseInt(e.slice(i+10,i+12),16);if(128===(192&n)&&128===(192&r)&&128===(192&s)){let e=o<<18&1835008|n<<12&258048|r<<6&4032|63&s;e<65536||e>1114111?t+="\ufffd\ufffd\ufffd\ufffd":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),i+=9;continue}}t+="\ufffd"}}return t}))}rf.defaultChars=";/?:@&=+$,#",rf.componentChars="";const of=rf,sf={};function af(e,t,n){"string"!==typeof t&&(n=t,t=af.defaultChars),"undefined"===typeof n&&(n=!0);const i=function(e){let t=sf[e];if(t)return t;t=sf[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);/^[0-9a-z]$/i.test(e)?t.push(e):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t);let r="";for(let o=0,s=e.length;o<s;o++){const t=e.charCodeAt(o);if(n&&37===t&&o+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))r+=e.slice(o,o+3),o+=2;else if(t<128)r+=i[t];else if(t>=55296&&t<=57343){if(t>=55296&&t<=56319&&o+1<s){const t=e.charCodeAt(o+1);if(t>=56320&&t<=57343){r+=encodeURIComponent(e[o]+e[o+1]),o++;continue}}r+="%EF%BF%BD"}else r+=encodeURIComponent(e[o])}return r}af.defaultChars=";/?:@&=+$,-_.!~*'()#",af.componentChars="-_.!~*'()";const cf=af;function lf(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function uf(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const df=/^([a-z0-9.+-]+:)/i,hf=/:[0-9]*$/,pf=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ff=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),gf=["'"].concat(ff),mf=["%","/","?",";","#"].concat(gf),vf=["/","?","#"],yf=/^[+a-z0-9A-Z_-]{0,63}$/,Sf=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Cf={javascript:!0,"javascript:":!0},bf={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};uf.prototype.parse=function(e,t){let n,i,r,o=e;if(o=o.trim(),!t&&1===e.split("#").length){const e=pf.exec(o);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let s=df.exec(o);if(s&&(s=s[0],n=s.toLowerCase(),this.protocol=s,o=o.substr(s.length)),(t||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r="//"===o.substr(0,2),!r||s&&Cf[s]||(o=o.substr(2),this.slashes=!0)),!Cf[s]&&(r||s&&!bf[s])){let e,t,n=-1;for(let a=0;a<vf.length;a++)i=o.indexOf(vf[a]),-1!==i&&(-1===n||i<n)&&(n=i);t=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==t&&(e=o.slice(0,t),o=o.slice(t+1),this.auth=e),n=-1;for(let a=0;a<mf.length;a++)i=o.indexOf(mf[a]),-1!==i&&(-1===n||i<n)&&(n=i);-1===n&&(n=o.length),":"===o[n-1]&&n--;const r=o.slice(0,n);o=o.slice(n),this.parseHost(r),this.hostname=this.hostname||"";const s="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!s){const e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&!n.match(yf)){let i="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?i+="x":i+=n[e];if(!i.match(yf)){const i=e.slice(0,t),r=e.slice(t+1),s=n.match(Sf);s&&(i.push(s[1]),r.unshift(s[2])),r.length&&(o=r.join(".")+o),this.hostname=i.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),s&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const c=o.indexOf("?");return-1!==c&&(this.search=o.substr(c),o=o.slice(0,c)),o&&(this.pathname=o),bf[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},uf.prototype.parseHost=function(e){let t=hf.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const wf=function(e,t){if(e&&e instanceof uf)return e;const n=new uf;return n.parse(e,t),n},Ef=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Pf=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,If=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Af=/[\0-\x1F\x7F-\x9F]/,Tf=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,kf=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Rf=new Uint16Array('\u1d41<\xd5\u0131\u028a\u049d\u057b\u05d0\u0675\u06de\u07a2\u07d6\u080f\u0a4a\u0a91\u0da1\u0e6d\u0f09\u0f26\u10ca\u1228\u12e1\u1415\u149d\u14c3\u14df\u1525\0\0\0\0\0\0\u156b\u16cd\u198d\u1c12\u1ddd\u1f7e\u2060\u21b0\u228d\u23c0\u23fb\u2442\u2824\u2912\u2d08\u2e48\u2fce\u3016\u32ba\u3639\u37ac\u38fe\u3a28\u3a71\u3ae0\u3b2e\u0800EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\u803b\xc6\u40c6P\u803b&\u4026cute\u803b\xc1\u40c1reve;\u4102\u0100iyx}rc\u803b\xc2\u40c2;\u4410r;\uc000\ud835\udd04rave\u803b\xc0\u40c0pha;\u4391acr;\u4100d;\u6a53\u0100gp\x9d\xa1on;\u4104f;\uc000\ud835\udd38plyFunction;\u6061ing\u803b\xc5\u40c5\u0100cs\xbe\xc3r;\uc000\ud835\udc9cign;\u6254ilde\u803b\xc3\u40c3ml\u803b\xc4\u40c4\u0400aceforsu\xe5\xfb\xfe\u0117\u011c\u0122\u0127\u012a\u0100cr\xea\xf2kslash;\u6216\u0176\xf6\xf8;\u6ae7ed;\u6306y;\u4411\u0180crt\u0105\u010b\u0114ause;\u6235noullis;\u612ca;\u4392r;\uc000\ud835\udd05pf;\uc000\ud835\udd39eve;\u42d8c\xf2\u0113mpeq;\u624e\u0700HOacdefhilorsu\u014d\u0151\u0156\u0180\u019e\u01a2\u01b5\u01b7\u01ba\u01dc\u0215\u0273\u0278\u027ecy;\u4427PY\u803b\xa9\u40a9\u0180cpy\u015d\u0162\u017aute;\u4106\u0100;i\u0167\u0168\u62d2talDifferentialD;\u6145leys;\u612d\u0200aeio\u0189\u018e\u0194\u0198ron;\u410cdil\u803b\xc7\u40c7rc;\u4108nint;\u6230ot;\u410a\u0100dn\u01a7\u01adilla;\u40b8terDot;\u40b7\xf2\u017fi;\u43a7rcle\u0200DMPT\u01c7\u01cb\u01d1\u01d6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01e2\u01f8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020foubleQuote;\u601duote;\u6019\u0200lnpu\u021e\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6a74\u0180git\u022f\u0236\u023aruent;\u6261nt;\u622fourIntegral;\u622e\u0100fr\u024c\u024e;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6a2fcr;\uc000\ud835\udc9ep\u0100;C\u0284\u0285\u62d3ap;\u624d\u0580DJSZacefios\u02a0\u02ac\u02b0\u02b4\u02b8\u02cb\u02d7\u02e1\u02e6\u0333\u048d\u0100;o\u0179\u02a5trahd;\u6911cy;\u4402cy;\u4405cy;\u440f\u0180grs\u02bf\u02c4\u02c7ger;\u6021r;\u61a1hv;\u6ae4\u0100ay\u02d0\u02d5ron;\u410e;\u4414l\u0100;t\u02dd\u02de\u6207a;\u4394r;\uc000\ud835\udd07\u0100af\u02eb\u0327\u0100cm\u02f0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031ccute;\u40b4o\u0174\u030b\u030d;\u42d9bleAcute;\u42ddrave;\u4060ilde;\u42dcond;\u62c4ferentialD;\u6146\u0470\u033d\0\0\0\u0342\u0354\0\u0405f;\uc000\ud835\udd3b\u0180;DE\u0348\u0349\u034d\u40a8ot;\u60dcqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03cf\u03e2\u03f8ontourIntegra\xec\u0239o\u0274\u0379\0\0\u037b\xbb\u0349nArrow;\u61d3\u0100eo\u0387\u03a4ft\u0180ART\u0390\u0396\u03a1rrow;\u61d0ightArrow;\u61d4e\xe5\u02cang\u0100LR\u03ab\u03c4eft\u0100AR\u03b3\u03b9rrow;\u67f8ightArrow;\u67faightArrow;\u67f9ight\u0100AT\u03d8\u03derrow;\u61d2ee;\u62a8p\u0241\u03e9\0\0\u03efrrow;\u61d1ownArrow;\u61d5erticalBar;\u6225n\u0300ABLRTa\u0412\u042a\u0430\u045e\u047f\u037crrow\u0180;BU\u041d\u041e\u0422\u6193ar;\u6913pArrow;\u61f5reve;\u4311eft\u02d2\u043a\0\u0446\0\u0450ightVector;\u6950eeVector;\u695eector\u0100;B\u0459\u045a\u61bdar;\u6956ight\u01d4\u0467\0\u0471eeVector;\u695fector\u0100;B\u047a\u047b\u61c1ar;\u6957ee\u0100;A\u0486\u0487\u62a4rrow;\u61a7\u0100ct\u0492\u0497r;\uc000\ud835\udc9frok;\u4110\u0800NTacdfglmopqstux\u04bd\u04c0\u04c4\u04cb\u04de\u04e2\u04e7\u04ee\u04f5\u0521\u052f\u0536\u0552\u055d\u0560\u0565G;\u414aH\u803b\xd0\u40d0cute\u803b\xc9\u40c9\u0180aiy\u04d2\u04d7\u04dcron;\u411arc\u803b\xca\u40ca;\u442dot;\u4116r;\uc000\ud835\udd08rave\u803b\xc8\u40c8ement;\u6208\u0100ap\u04fa\u04fecr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65fberySmallSquare;\u65ab\u0100gp\u0526\u052aon;\u4118f;\uc000\ud835\udd3csilon;\u4395u\u0100ai\u053c\u0549l\u0100;T\u0542\u0543\u6a75ilde;\u6242librium;\u61cc\u0100ci\u0557\u055ar;\u6130m;\u6a73a;\u4397ml\u803b\xcb\u40cb\u0100ip\u056a\u056fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058d\u05b2\u05ccy;\u4424r;\uc000\ud835\udd09lled\u0253\u0597\0\0\u05a3mallSquare;\u65fcerySmallSquare;\u65aa\u0370\u05ba\0\u05bf\0\0\u05c4f;\uc000\ud835\udd3dAll;\u6200riertrf;\u6131c\xf2\u05cb\u0600JTabcdfgorst\u05e8\u05ec\u05ef\u05fa\u0600\u0612\u0616\u061b\u061d\u0623\u066c\u0672cy;\u4403\u803b>\u403emma\u0100;d\u05f7\u05f8\u4393;\u43dcreve;\u411e\u0180eiy\u0607\u060c\u0610dil;\u4122rc;\u411c;\u4413ot;\u4120r;\uc000\ud835\udd0a;\u62d9pf;\uc000\ud835\udd3eeater\u0300EFGLST\u0635\u0644\u064e\u0656\u065b\u0666qual\u0100;L\u063e\u063f\u6265ess;\u62dbullEqual;\u6267reater;\u6aa2ess;\u6277lantEqual;\u6a7eilde;\u6273cr;\uc000\ud835\udca2;\u626b\u0400Aacfiosu\u0685\u068b\u0696\u069b\u069e\u06aa\u06be\u06caRDcy;\u442a\u0100ct\u0690\u0694ek;\u42c7;\u405eirc;\u4124r;\u610clbertSpace;\u610b\u01f0\u06af\0\u06b2f;\u610dizontalLine;\u6500\u0100ct\u06c3\u06c5\xf2\u06a9rok;\u4126mp\u0144\u06d0\u06d8ownHum\xf0\u012fqual;\u624f\u0700EJOacdfgmnostu\u06fa\u06fe\u0703\u0707\u070e\u071a\u071e\u0721\u0728\u0744\u0778\u078b\u078f\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803b\xcd\u40cd\u0100iy\u0713\u0718rc\u803b\xce\u40ce;\u4418ot;\u4130r;\u6111rave\u803b\xcc\u40cc\u0180;ap\u0720\u072f\u073f\u0100cg\u0734\u0737r;\u412ainaryI;\u6148lie\xf3\u03dd\u01f4\u0749\0\u0762\u0100;e\u074d\u074e\u622c\u0100gr\u0753\u0758ral;\u622bsection;\u62c2isible\u0100CT\u076c\u0772omma;\u6063imes;\u6062\u0180gpt\u077f\u0783\u0788on;\u412ef;\uc000\ud835\udd40a;\u4399cr;\u6110ilde;\u4128\u01eb\u079a\0\u079ecy;\u4406l\u803b\xcf\u40cf\u0280cfosu\u07ac\u07b7\u07bc\u07c2\u07d0\u0100iy\u07b1\u07b5rc;\u4134;\u4419r;\uc000\ud835\udd0dpf;\uc000\ud835\udd41\u01e3\u07c7\0\u07ccr;\uc000\ud835\udca5rcy;\u4408kcy;\u4404\u0380HJacfos\u07e4\u07e8\u07ec\u07f1\u07fd\u0802\u0808cy;\u4425cy;\u440cppa;\u439a\u0100ey\u07f6\u07fbdil;\u4136;\u441ar;\uc000\ud835\udd0epf;\uc000\ud835\udd42cr;\uc000\ud835\udca6\u0580JTaceflmost\u0825\u0829\u082c\u0850\u0863\u09b3\u09b8\u09c7\u09cd\u0a37\u0a47cy;\u4409\u803b<\u403c\u0280cmnpr\u0837\u083c\u0841\u0844\u084dute;\u4139bda;\u439bg;\u67ealacetrf;\u6112r;\u619e\u0180aey\u0857\u085c\u0861ron;\u413ddil;\u413b;\u441b\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087e\u08a9\u08b1\u08e0\u08e6\u08fc\u092f\u095b\u0390\u096a\u0100nr\u0883\u088fgleBracket;\u67e8row\u0180;BR\u0899\u089a\u089e\u6190ar;\u61e4ightArrow;\u61c6eiling;\u6308o\u01f5\u08b7\0\u08c3bleBracket;\u67e6n\u01d4\u08c8\0\u08d2eeVector;\u6961ector\u0100;B\u08db\u08dc\u61c3ar;\u6959loor;\u630aight\u0100AV\u08ef\u08f5rrow;\u6194ector;\u694e\u0100er\u0901\u0917e\u0180;AV\u0909\u090a\u0910\u62a3rrow;\u61a4ector;\u695aiangle\u0180;BE\u0924\u0925\u0929\u62b2ar;\u69cfqual;\u62b4p\u0180DTV\u0937\u0942\u094cownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61bfar;\u6958ector\u0100;B\u0965\u0966\u61bcar;\u6952ight\xe1\u039cs\u0300EFGLST\u097e\u098b\u0995\u099d\u09a2\u09adqualGreater;\u62daullEqual;\u6266reater;\u6276ess;\u6aa1lantEqual;\u6a7dilde;\u6272r;\uc000\ud835\udd0f\u0100;e\u09bd\u09be\u62d8ftarrow;\u61daidot;\u413f\u0180npw\u09d4\u0a16\u0a1bg\u0200LRlr\u09de\u09f7\u0a02\u0a10eft\u0100AR\u09e6\u09ecrrow;\u67f5ightArrow;\u67f7ightArrow;\u67f6eft\u0100ar\u03b3\u0a0aight\xe1\u03bfight\xe1\u03caf;\uc000\ud835\udd43er\u0100LR\u0a22\u0a2ceftArrow;\u6199ightArrow;\u6198\u0180cht\u0a3e\u0a40\u0a42\xf2\u084c;\u61b0rok;\u4141;\u626a\u0400acefiosu\u0a5a\u0a5d\u0a60\u0a77\u0a7c\u0a85\u0a8b\u0a8ep;\u6905y;\u441c\u0100dl\u0a65\u0a6fiumSpace;\u605flintrf;\u6133r;\uc000\ud835\udd10nusPlus;\u6213pf;\uc000\ud835\udd44c\xf2\u0a76;\u439c\u0480Jacefostu\u0aa3\u0aa7\u0aad\u0ac0\u0b14\u0b19\u0d91\u0d97\u0d9ecy;\u440acute;\u4143\u0180aey\u0ab4\u0ab9\u0aberon;\u4147dil;\u4145;\u441d\u0180gsw\u0ac7\u0af0\u0b0eative\u0180MTV\u0ad3\u0adf\u0ae8ediumSpace;\u600bhi\u0100cn\u0ae6\u0ad8\xeb\u0ad9eryThi\xee\u0ad9ted\u0100GL\u0af8\u0b06reaterGreate\xf2\u0673essLes\xf3\u0a48Line;\u400ar;\uc000\ud835\udd11\u0200Bnpt\u0b22\u0b28\u0b37\u0b3areak;\u6060BreakingSpace;\u40a0f;\u6115\u0680;CDEGHLNPRSTV\u0b55\u0b56\u0b6a\u0b7c\u0ba1\u0beb\u0c04\u0c5e\u0c84\u0ca6\u0cd8\u0d61\u0d85\u6aec\u0100ou\u0b5b\u0b64ngruent;\u6262pCap;\u626doubleVerticalBar;\u6226\u0180lqx\u0b83\u0b8a\u0b9bement;\u6209ual\u0100;T\u0b92\u0b93\u6260ilde;\uc000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0bb6\u0bb7\u0bbd\u0bc9\u0bd3\u0bd8\u0be5\u626fqual;\u6271ullEqual;\uc000\u2267\u0338reater;\uc000\u226b\u0338ess;\u6279lantEqual;\uc000\u2a7e\u0338ilde;\u6275ump\u0144\u0bf2\u0bfdownHump;\uc000\u224e\u0338qual;\uc000\u224f\u0338e\u0100fs\u0c0a\u0c27tTriangle\u0180;BE\u0c1a\u0c1b\u0c21\u62eaar;\uc000\u29cf\u0338qual;\u62ecs\u0300;EGLST\u0c35\u0c36\u0c3c\u0c44\u0c4b\u0c58\u626equal;\u6270reater;\u6278ess;\uc000\u226a\u0338lantEqual;\uc000\u2a7d\u0338ilde;\u6274ested\u0100GL\u0c68\u0c79reaterGreater;\uc000\u2aa2\u0338essLess;\uc000\u2aa1\u0338recedes\u0180;ES\u0c92\u0c93\u0c9b\u6280qual;\uc000\u2aaf\u0338lantEqual;\u62e0\u0100ei\u0cab\u0cb9verseElement;\u620cghtTriangle\u0180;BE\u0ccb\u0ccc\u0cd2\u62ebar;\uc000\u29d0\u0338qual;\u62ed\u0100qu\u0cdd\u0d0cuareSu\u0100bp\u0ce8\u0cf9set\u0100;E\u0cf0\u0cf3\uc000\u228f\u0338qual;\u62e2erset\u0100;E\u0d03\u0d06\uc000\u2290\u0338qual;\u62e3\u0180bcp\u0d13\u0d24\u0d4eset\u0100;E\u0d1b\u0d1e\uc000\u2282\u20d2qual;\u6288ceeds\u0200;EST\u0d32\u0d33\u0d3b\u0d46\u6281qual;\uc000\u2ab0\u0338lantEqual;\u62e1ilde;\uc000\u227f\u0338erset\u0100;E\u0d58\u0d5b\uc000\u2283\u20d2qual;\u6289ilde\u0200;EFT\u0d6e\u0d6f\u0d75\u0d7f\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uc000\ud835\udca9ilde\u803b\xd1\u40d1;\u439d\u0700Eacdfgmoprstuv\u0dbd\u0dc2\u0dc9\u0dd5\u0ddb\u0de0\u0de7\u0dfc\u0e02\u0e20\u0e22\u0e32\u0e3f\u0e44lig;\u4152cute\u803b\xd3\u40d3\u0100iy\u0dce\u0dd3rc\u803b\xd4\u40d4;\u441eblac;\u4150r;\uc000\ud835\udd12rave\u803b\xd2\u40d2\u0180aei\u0dee\u0df2\u0df6cr;\u414cga;\u43a9cron;\u439fpf;\uc000\ud835\udd46enCurly\u0100DQ\u0e0e\u0e1aoubleQuote;\u601cuote;\u6018;\u6a54\u0100cl\u0e27\u0e2cr;\uc000\ud835\udcaaash\u803b\xd8\u40d8i\u016c\u0e37\u0e3cde\u803b\xd5\u40d5es;\u6a37ml\u803b\xd6\u40d6er\u0100BP\u0e4b\u0e60\u0100ar\u0e50\u0e53r;\u603eac\u0100ek\u0e5a\u0e5c;\u63deet;\u63b4arenthesis;\u63dc\u0480acfhilors\u0e7f\u0e87\u0e8a\u0e8f\u0e92\u0e94\u0e9d\u0eb0\u0efcrtialD;\u6202y;\u441fr;\uc000\ud835\udd13i;\u43a6;\u43a0usMinus;\u40b1\u0100ip\u0ea2\u0eadncareplan\xe5\u069df;\u6119\u0200;eio\u0eb9\u0eba\u0ee0\u0ee4\u6abbcedes\u0200;EST\u0ec8\u0ec9\u0ecf\u0eda\u627aqual;\u6aaflantEqual;\u627cilde;\u627eme;\u6033\u0100dp\u0ee9\u0eeeuct;\u620fortion\u0100;a\u0225\u0ef9l;\u621d\u0100ci\u0f01\u0f06r;\uc000\ud835\udcab;\u43a8\u0200Ufos\u0f11\u0f16\u0f1b\u0f1fOT\u803b"\u4022r;\uc000\ud835\udd14pf;\u611acr;\uc000\ud835\udcac\u0600BEacefhiorsu\u0f3e\u0f43\u0f47\u0f60\u0f73\u0fa7\u0faa\u0fad\u1096\u10a9\u10b4\u10bearr;\u6910G\u803b\xae\u40ae\u0180cnr\u0f4e\u0f53\u0f56ute;\u4154g;\u67ebr\u0100;t\u0f5c\u0f5d\u61a0l;\u6916\u0180aey\u0f67\u0f6c\u0f71ron;\u4158dil;\u4156;\u4420\u0100;v\u0f78\u0f79\u611cerse\u0100EU\u0f82\u0f99\u0100lq\u0f87\u0f8eement;\u620builibrium;\u61cbpEquilibrium;\u696fr\xbb\u0f79o;\u43a1ght\u0400ACDFTUVa\u0fc1\u0feb\u0ff3\u1022\u1028\u105b\u1087\u03d8\u0100nr\u0fc6\u0fd2gleBracket;\u67e9row\u0180;BL\u0fdc\u0fdd\u0fe1\u6192ar;\u61e5eftArrow;\u61c4eiling;\u6309o\u01f5\u0ff9\0\u1005bleBracket;\u67e7n\u01d4\u100a\0\u1014eeVector;\u695dector\u0100;B\u101d\u101e\u61c2ar;\u6955loor;\u630b\u0100er\u102d\u1043e\u0180;AV\u1035\u1036\u103c\u62a2rrow;\u61a6ector;\u695biangle\u0180;BE\u1050\u1051\u1055\u62b3ar;\u69d0qual;\u62b5p\u0180DTV\u1063\u106e\u1078ownVector;\u694feeVector;\u695cector\u0100;B\u1082\u1083\u61bear;\u6954ector\u0100;B\u1091\u1092\u61c0ar;\u6953\u0100pu\u109b\u109ef;\u611dndImplies;\u6970ightarrow;\u61db\u0100ch\u10b9\u10bcr;\u611b;\u61b1leDelayed;\u69f4\u0680HOacfhimoqstu\u10e4\u10f1\u10f7\u10fd\u1119\u111e\u1151\u1156\u1161\u1167\u11b5\u11bb\u11bf\u0100Cc\u10e9\u10eeHcy;\u4429y;\u4428FTcy;\u442ccute;\u415a\u0280;aeiy\u1108\u1109\u110e\u1113\u1117\u6abcron;\u4160dil;\u415erc;\u415c;\u4421r;\uc000\ud835\udd16ort\u0200DLRU\u112a\u1134\u113e\u1149ownArrow\xbb\u041eeftArrow\xbb\u089aightArrow\xbb\u0fddpArrow;\u6191gma;\u43a3allCircle;\u6218pf;\uc000\ud835\udd4a\u0272\u116d\0\0\u1170t;\u621aare\u0200;ISU\u117b\u117c\u1189\u11af\u65a1ntersection;\u6293u\u0100bp\u118f\u119eset\u0100;E\u1197\u1198\u628fqual;\u6291erset\u0100;E\u11a8\u11a9\u6290qual;\u6292nion;\u6294cr;\uc000\ud835\udcaear;\u62c6\u0200bcmp\u11c8\u11db\u1209\u120b\u0100;s\u11cd\u11ce\u62d0et\u0100;E\u11cd\u11d5qual;\u6286\u0100ch\u11e0\u1205eeds\u0200;EST\u11ed\u11ee\u11f4\u11ff\u627bqual;\u6ab0lantEqual;\u627dilde;\u627fTh\xe1\u0f8c;\u6211\u0180;es\u1212\u1213\u1223\u62d1rset\u0100;E\u121c\u121d\u6283qual;\u6287et\xbb\u1213\u0580HRSacfhiors\u123e\u1244\u1249\u1255\u125e\u1271\u1276\u129f\u12c2\u12c8\u12d1ORN\u803b\xde\u40deADE;\u6122\u0100Hc\u124e\u1252cy;\u440by;\u4426\u0100bu\u125a\u125c;\u4009;\u43a4\u0180aey\u1265\u126a\u126fron;\u4164dil;\u4162;\u4422r;\uc000\ud835\udd17\u0100ei\u127b\u1289\u01f2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128e\u1298kSpace;\uc000\u205f\u200aSpace;\u6009lde\u0200;EFT\u12ab\u12ac\u12b2\u12bc\u623cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uc000\ud835\udd4bipleDot;\u60db\u0100ct\u12d6\u12dbr;\uc000\ud835\udcafrok;\u4166\u0ae1\u12f7\u130e\u131a\u1326\0\u132c\u1331\0\0\0\0\0\u1338\u133d\u1377\u1385\0\u13ff\u1404\u140a\u1410\u0100cr\u12fb\u1301ute\u803b\xda\u40dar\u0100;o\u1307\u1308\u619fcir;\u6949r\u01e3\u1313\0\u1316y;\u440eve;\u416c\u0100iy\u131e\u1323rc\u803b\xdb\u40db;\u4423blac;\u4170r;\uc000\ud835\udd18rave\u803b\xd9\u40d9acr;\u416a\u0100di\u1341\u1369er\u0100BP\u1348\u135d\u0100ar\u134d\u1350r;\u405fac\u0100ek\u1357\u1359;\u63dfet;\u63b5arenthesis;\u63ddon\u0100;P\u1370\u1371\u62c3lus;\u628e\u0100gp\u137b\u137fon;\u4172f;\uc000\ud835\udd4c\u0400ADETadps\u1395\u13ae\u13b8\u13c4\u03e8\u13d2\u13d7\u13f3rrow\u0180;BD\u1150\u13a0\u13a4ar;\u6912ownArrow;\u61c5ownArrow;\u6195quilibrium;\u696eee\u0100;A\u13cb\u13cc\u62a5rrow;\u61a5own\xe1\u03f3er\u0100LR\u13de\u13e8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13f9\u13fa\u43d2on;\u43a5ing;\u416ecr;\uc000\ud835\udcb0ilde;\u4168ml\u803b\xdc\u40dc\u0480Dbcdefosv\u1427\u142c\u1430\u1433\u143e\u1485\u148a\u1490\u1496ash;\u62abar;\u6aeby;\u4412ash\u0100;l\u143b\u143c\u62a9;\u6ae6\u0100er\u1443\u1445;\u62c1\u0180bty\u144c\u1450\u147aar;\u6016\u0100;i\u144f\u1455cal\u0200BLST\u1461\u1465\u146a\u1474ar;\u6223ine;\u407ceparator;\u6758ilde;\u6240ThinSpace;\u600ar;\uc000\ud835\udd19pf;\uc000\ud835\udd4dcr;\uc000\ud835\udcb1dash;\u62aa\u0280cefos\u14a7\u14ac\u14b1\u14b6\u14bcirc;\u4174dge;\u62c0r;\uc000\ud835\udd1apf;\uc000\ud835\udd4ecr;\uc000\ud835\udcb2\u0200fios\u14cb\u14d0\u14d2\u14d8r;\uc000\ud835\udd1b;\u439epf;\uc000\ud835\udd4fcr;\uc000\ud835\udcb3\u0480AIUacfosu\u14f1\u14f5\u14f9\u14fd\u1504\u150f\u1514\u151a\u1520cy;\u442fcy;\u4407cy;\u442ecute\u803b\xdd\u40dd\u0100iy\u1509\u150drc;\u4176;\u442br;\uc000\ud835\udd1cpf;\uc000\ud835\udd50cr;\uc000\ud835\udcb4ml;\u4178\u0400Hacdefos\u1535\u1539\u153f\u154b\u154f\u155d\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417d;\u4417ot;\u417b\u01f2\u1554\0\u155boWidt\xe8\u0ad9a;\u4396r;\u6128pf;\u6124cr;\uc000\ud835\udcb5\u0be1\u1583\u158a\u1590\0\u15b0\u15b6\u15bf\0\0\0\0\u15c6\u15db\u15eb\u165f\u166d\0\u1695\u169b\u16b2\u16b9\0\u16becute\u803b\xe1\u40e1reve;\u4103\u0300;Ediuy\u159c\u159d\u15a1\u15a3\u15a8\u15ad\u623e;\uc000\u223e\u0333;\u623frc\u803b\xe2\u40e2te\u80bb\xb4\u0306;\u4430lig\u803b\xe6\u40e6\u0100;r\xb2\u15ba;\uc000\ud835\udd1erave\u803b\xe0\u40e0\u0100ep\u15ca\u15d6\u0100fp\u15cf\u15d4sym;\u6135\xe8\u15d3ha;\u43b1\u0100ap\u15dfc\u0100cl\u15e4\u15e7r;\u4101g;\u6a3f\u0264\u15f0\0\0\u160a\u0280;adsv\u15fa\u15fb\u15ff\u1601\u1607\u6227nd;\u6a55;\u6a5clope;\u6a58;\u6a5a\u0380;elmrsz\u1618\u1619\u161b\u161e\u163f\u164f\u1659\u6220;\u69a4e\xbb\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163a\u163c\u163e;\u69a8;\u69a9;\u69aa;\u69ab;\u69ac;\u69ad;\u69ae;\u69aft\u0100;v\u1645\u1646\u621fb\u0100;d\u164c\u164d\u62be;\u699d\u0100pt\u1654\u1657h;\u6222\xbb\xb9arr;\u637c\u0100gp\u1663\u1667on;\u4105f;\uc000\ud835\udd52\u0380;Eaeiop\u12c1\u167b\u167d\u1682\u1684\u1687\u168a;\u6a70cir;\u6a6f;\u624ad;\u624bs;\u4027rox\u0100;e\u12c1\u1692\xf1\u1683ing\u803b\xe5\u40e5\u0180cty\u16a1\u16a6\u16a8r;\uc000\ud835\udcb6;\u402amp\u0100;e\u12c1\u16af\xf1\u0288ilde\u803b\xe3\u40e3ml\u803b\xe4\u40e4\u0100ci\u16c2\u16c8onin\xf4\u0272nt;\u6a11\u0800Nabcdefiklnoprsu\u16ed\u16f1\u1730\u173c\u1743\u1748\u1778\u177d\u17e0\u17e6\u1839\u1850\u170d\u193d\u1948\u1970ot;\u6aed\u0100cr\u16f6\u171ek\u0200ceps\u1700\u1705\u170d\u1713ong;\u624cpsilon;\u43f6rime;\u6035im\u0100;e\u171a\u171b\u623dq;\u62cd\u0176\u1722\u1726ee;\u62bded\u0100;g\u172c\u172d\u6305e\xbb\u172drk\u0100;t\u135c\u1737brk;\u63b6\u0100oy\u1701\u1741;\u4431quo;\u601e\u0280cmprt\u1753\u175b\u1761\u1764\u1768aus\u0100;e\u010a\u0109ptyv;\u69b0s\xe9\u170cno\xf5\u0113\u0180ahw\u176f\u1771\u1773;\u43b2;\u6136een;\u626cr;\uc000\ud835\udd1fg\u0380costuvw\u178d\u179d\u17b3\u17c1\u17d5\u17db\u17de\u0180aiu\u1794\u1796\u179a\xf0\u0760rc;\u65efp\xbb\u1371\u0180dpt\u17a4\u17a8\u17adot;\u6a00lus;\u6a01imes;\u6a02\u0271\u17b9\0\0\u17becup;\u6a06ar;\u6605riangle\u0100du\u17cd\u17d2own;\u65bdp;\u65b3plus;\u6a04e\xe5\u1444\xe5\u14adarow;\u690d\u0180ako\u17ed\u1826\u1835\u0100cn\u17f2\u1823k\u0180lst\u17fa\u05ab\u1802ozenge;\u69ebriangle\u0200;dlr\u1812\u1813\u1818\u181d\u65b4own;\u65beeft;\u65c2ight;\u65b8k;\u6423\u01b1\u182b\0\u1833\u01b2\u182f\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183e\u184d\u0100;q\u1843\u1846\uc000=\u20e5uiv;\uc000\u2261\u20e5t;\u6310\u0200ptwx\u1859\u185e\u1867\u186cf;\uc000\ud835\udd53\u0100;t\u13cb\u1863om\xbb\u13cctie;\u62c8\u0600DHUVbdhmptuv\u1885\u1896\u18aa\u18bb\u18d7\u18db\u18ec\u18ff\u1905\u190a\u1910\u1921\u0200LRlr\u188e\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18a1\u18a2\u18a4\u18a6\u18a8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18b3\u18b5\u18b7\u18b9;\u655d;\u655a;\u655c;\u6559\u0380;HLRhlr\u18ca\u18cb\u18cd\u18cf\u18d1\u18d3\u18d5\u6551;\u656c;\u6563;\u6560;\u656b;\u6562;\u655fox;\u69c9\u0200LRlr\u18e4\u18e6\u18e8\u18ea;\u6555;\u6552;\u6510;\u650c\u0280;DUdu\u06bd\u18f7\u18f9\u18fb\u18fd;\u6565;\u6568;\u652c;\u6534inus;\u629flus;\u629eimes;\u62a0\u0200LRlr\u1919\u191b\u191d\u191f;\u655b;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193b\u6502;\u656a;\u6561;\u655e;\u653c;\u6524;\u651c\u0100ev\u0123\u1942bar\u803b\xa6\u40a6\u0200ceio\u1951\u1956\u195a\u1960r;\uc000\ud835\udcb7mi;\u604fm\u0100;e\u171a\u171cl\u0180;bh\u1968\u1969\u196b\u405c;\u69c5sub;\u67c8\u016c\u1974\u197el\u0100;e\u1979\u197a\u6022t\xbb\u197ap\u0180;Ee\u012f\u1985\u1987;\u6aae\u0100;q\u06dc\u06db\u0ce1\u19a7\0\u19e8\u1a11\u1a15\u1a32\0\u1a37\u1a50\0\0\u1ab4\0\0\u1ac1\0\0\u1b21\u1b2e\u1b4d\u1b52\0\u1bfd\0\u1c0c\u0180cpr\u19ad\u19b2\u19ddute;\u4107\u0300;abcds\u19bf\u19c0\u19c4\u19ca\u19d5\u19d9\u6229nd;\u6a44rcup;\u6a49\u0100au\u19cf\u19d2p;\u6a4bp;\u6a47ot;\u6a40;\uc000\u2229\ufe00\u0100eo\u19e2\u19e5t;\u6041\xee\u0693\u0200aeiu\u19f0\u19fb\u1a01\u1a05\u01f0\u19f5\0\u19f8s;\u6a4don;\u410ddil\u803b\xe7\u40e7rc;\u4109ps\u0100;s\u1a0c\u1a0d\u6a4cm;\u6a50ot;\u410b\u0180dmn\u1a1b\u1a20\u1a26il\u80bb\xb8\u01adptyv;\u69b2t\u8100\xa2;e\u1a2d\u1a2e\u40a2r\xe4\u01b2r;\uc000\ud835\udd20\u0180cei\u1a3d\u1a40\u1a4dy;\u4447ck\u0100;m\u1a47\u1a48\u6713ark\xbb\u1a48;\u43c7r\u0380;Ecefms\u1a5f\u1a60\u1a62\u1a6b\u1aa4\u1aaa\u1aae\u65cb;\u69c3\u0180;el\u1a69\u1a6a\u1a6d\u42c6q;\u6257e\u0261\u1a74\0\0\u1a88rrow\u0100lr\u1a7c\u1a81eft;\u61baight;\u61bb\u0280RSacd\u1a92\u1a94\u1a96\u1a9a\u1a9f\xbb\u0f47;\u64c8st;\u629birc;\u629aash;\u629dnint;\u6a10id;\u6aefcir;\u69c2ubs\u0100;u\u1abb\u1abc\u6663it\xbb\u1abc\u02ec\u1ac7\u1ad4\u1afa\0\u1b0aon\u0100;e\u1acd\u1ace\u403a\u0100;q\xc7\xc6\u026d\u1ad9\0\0\u1ae2a\u0100;t\u1ade\u1adf\u402c;\u4040\u0180;fl\u1ae8\u1ae9\u1aeb\u6201\xee\u1160e\u0100mx\u1af1\u1af6ent\xbb\u1ae9e\xf3\u024d\u01e7\u1afe\0\u1b07\u0100;d\u12bb\u1b02ot;\u6a6dn\xf4\u0246\u0180fry\u1b10\u1b14\u1b17;\uc000\ud835\udd54o\xe4\u0254\u8100\xa9;s\u0155\u1b1dr;\u6117\u0100ao\u1b25\u1b29rr;\u61b5ss;\u6717\u0100cu\u1b32\u1b37r;\uc000\ud835\udcb8\u0100bp\u1b3c\u1b44\u0100;e\u1b41\u1b42\u6acf;\u6ad1\u0100;e\u1b49\u1b4a\u6ad0;\u6ad2dot;\u62ef\u0380delprvw\u1b60\u1b6c\u1b77\u1b82\u1bac\u1bd4\u1bf9arr\u0100lr\u1b68\u1b6a;\u6938;\u6935\u0270\u1b72\0\0\u1b75r;\u62dec;\u62dfarr\u0100;p\u1b7f\u1b80\u61b6;\u693d\u0300;bcdos\u1b8f\u1b90\u1b96\u1ba1\u1ba5\u1ba8\u622arcap;\u6a48\u0100au\u1b9b\u1b9ep;\u6a46p;\u6a4aot;\u628dr;\u6a45;\uc000\u222a\ufe00\u0200alrv\u1bb5\u1bbf\u1bde\u1be3rr\u0100;m\u1bbc\u1bbd\u61b7;\u693cy\u0180evw\u1bc7\u1bd4\u1bd8q\u0270\u1bce\0\0\u1bd2re\xe3\u1b73u\xe3\u1b75ee;\u62ceedge;\u62cfen\u803b\xa4\u40a4earrow\u0100lr\u1bee\u1bf3eft\xbb\u1b80ight\xbb\u1bbde\xe4\u1bdd\u0100ci\u1c01\u1c07onin\xf4\u01f7nt;\u6231lcty;\u632d\u0980AHabcdefhijlorstuwz\u1c38\u1c3b\u1c3f\u1c5d\u1c69\u1c75\u1c8a\u1c9e\u1cac\u1cb7\u1cfb\u1cff\u1d0d\u1d7b\u1d91\u1dab\u1dbb\u1dc6\u1dcdr\xf2\u0381ar;\u6965\u0200glrs\u1c48\u1c4d\u1c52\u1c54ger;\u6020eth;\u6138\xf2\u1133h\u0100;v\u1c5a\u1c5b\u6010\xbb\u090a\u016b\u1c61\u1c67arow;\u690fa\xe3\u0315\u0100ay\u1c6e\u1c73ron;\u410f;\u4434\u0180;ao\u0332\u1c7c\u1c84\u0100gr\u02bf\u1c81r;\u61catseq;\u6a77\u0180glm\u1c91\u1c94\u1c98\u803b\xb0\u40b0ta;\u43b4ptyv;\u69b1\u0100ir\u1ca3\u1ca8sht;\u697f;\uc000\ud835\udd21ar\u0100lr\u1cb3\u1cb5\xbb\u08dc\xbb\u101e\u0280aegsv\u1cc2\u0378\u1cd6\u1cdc\u1ce0m\u0180;os\u0326\u1cca\u1cd4nd\u0100;s\u0326\u1cd1uit;\u6666amma;\u43ddin;\u62f2\u0180;io\u1ce7\u1ce8\u1cf8\u40f7de\u8100\xf7;o\u1ce7\u1cf0ntimes;\u62c7n\xf8\u1cf7cy;\u4452c\u026f\u1d06\0\0\u1d0arn;\u631eop;\u630d\u0280lptuw\u1d18\u1d1d\u1d22\u1d49\u1d55lar;\u4024f;\uc000\ud835\udd55\u0280;emps\u030b\u1d2d\u1d37\u1d3d\u1d42q\u0100;d\u0352\u1d33ot;\u6251inus;\u6238lus;\u6214quare;\u62a1blebarwedg\xe5\xfan\u0180adh\u112e\u1d5d\u1d67ownarrow\xf3\u1c83arpoon\u0100lr\u1d72\u1d76ef\xf4\u1cb4igh\xf4\u1cb6\u0162\u1d7f\u1d85karo\xf7\u0f42\u026f\u1d8a\0\0\u1d8ern;\u631fop;\u630c\u0180cot\u1d98\u1da3\u1da6\u0100ry\u1d9d\u1da1;\uc000\ud835\udcb9;\u4455l;\u69f6rok;\u4111\u0100dr\u1db0\u1db4ot;\u62f1i\u0100;f\u1dba\u1816\u65bf\u0100ah\u1dc0\u1dc3r\xf2\u0429a\xf2\u0fa6angle;\u69a6\u0100ci\u1dd2\u1dd5y;\u445fgrarr;\u67ff\u0900Dacdefglmnopqrstux\u1e01\u1e09\u1e19\u1e38\u0578\u1e3c\u1e49\u1e61\u1e7e\u1ea5\u1eaf\u1ebd\u1ee1\u1f2a\u1f37\u1f44\u1f4e\u1f5a\u0100Do\u1e06\u1d34o\xf4\u1c89\u0100cs\u1e0e\u1e14ute\u803b\xe9\u40e9ter;\u6a6e\u0200aioy\u1e22\u1e27\u1e31\u1e36ron;\u411br\u0100;c\u1e2d\u1e2e\u6256\u803b\xea\u40ealon;\u6255;\u444dot;\u4117\u0100Dr\u1e41\u1e45ot;\u6252;\uc000\ud835\udd22\u0180;rs\u1e50\u1e51\u1e57\u6a9aave\u803b\xe8\u40e8\u0100;d\u1e5c\u1e5d\u6a96ot;\u6a98\u0200;ils\u1e6a\u1e6b\u1e72\u1e74\u6a99nters;\u63e7;\u6113\u0100;d\u1e79\u1e7a\u6a95ot;\u6a97\u0180aps\u1e85\u1e89\u1e97cr;\u4113ty\u0180;sv\u1e92\u1e93\u1e95\u6205et\xbb\u1e93p\u01001;\u1e9d\u1ea4\u0133\u1ea1\u1ea3;\u6004;\u6005\u6003\u0100gs\u1eaa\u1eac;\u414bp;\u6002\u0100gp\u1eb4\u1eb8on;\u4119f;\uc000\ud835\udd56\u0180als\u1ec4\u1ece\u1ed2r\u0100;s\u1eca\u1ecb\u62d5l;\u69e3us;\u6a71i\u0180;lv\u1eda\u1edb\u1edf\u43b5on\xbb\u1edb;\u43f5\u0200csuv\u1eea\u1ef3\u1f0b\u1f23\u0100io\u1eef\u1e31rc\xbb\u1e2e\u0269\u1ef9\0\0\u1efb\xed\u0548ant\u0100gl\u1f02\u1f06tr\xbb\u1e5dess\xbb\u1e7a\u0180aei\u1f12\u1f16\u1f1als;\u403dst;\u625fv\u0100;D\u0235\u1f20D;\u6a78parsl;\u69e5\u0100Da\u1f2f\u1f33ot;\u6253rr;\u6971\u0180cdi\u1f3e\u1f41\u1ef8r;\u612fo\xf4\u0352\u0100ah\u1f49\u1f4b;\u43b7\u803b\xf0\u40f0\u0100mr\u1f53\u1f57l\u803b\xeb\u40ebo;\u60ac\u0180cip\u1f61\u1f64\u1f67l;\u4021s\xf4\u056e\u0100eo\u1f6c\u1f74ctatio\xee\u0559nential\xe5\u0579\u09e1\u1f92\0\u1f9e\0\u1fa1\u1fa7\0\0\u1fc6\u1fcc\0\u1fd3\0\u1fe6\u1fea\u2000\0\u2008\u205allingdotse\xf1\u1e44y;\u4444male;\u6640\u0180ilr\u1fad\u1fb3\u1fc1lig;\u8000\ufb03\u0269\u1fb9\0\0\u1fbdg;\u8000\ufb00ig;\u8000\ufb04;\uc000\ud835\udd23lig;\u8000\ufb01lig;\uc000fj\u0180alt\u1fd9\u1fdc\u1fe1t;\u666dig;\u8000\ufb02ns;\u65b1of;\u4192\u01f0\u1fee\0\u1ff3f;\uc000\ud835\udd57\u0100ak\u05bf\u1ff7\u0100;v\u1ffc\u1ffd\u62d4;\u6ad9artint;\u6a0d\u0100ao\u200c\u2055\u0100cs\u2011\u2052\u03b1\u201a\u2030\u2038\u2045\u2048\0\u2050\u03b2\u2022\u2025\u2027\u202a\u202c\0\u202e\u803b\xbd\u40bd;\u6153\u803b\xbc\u40bc;\u6155;\u6159;\u615b\u01b3\u2034\0\u2036;\u6154;\u6156\u02b4\u203e\u2041\0\0\u2043\u803b\xbe\u40be;\u6157;\u615c5;\u6158\u01b6\u204c\0\u204e;\u615a;\u615d8;\u615el;\u6044wn;\u6322cr;\uc000\ud835\udcbb\u0880Eabcdefgijlnorstv\u2082\u2089\u209f\u20a5\u20b0\u20b4\u20f0\u20f5\u20fa\u20ff\u2103\u2112\u2138\u0317\u213e\u2152\u219e\u0100;l\u064d\u2087;\u6a8c\u0180cmp\u2090\u2095\u209dute;\u41f5ma\u0100;d\u209c\u1cda\u43b3;\u6a86reve;\u411f\u0100iy\u20aa\u20aerc;\u411d;\u4433ot;\u4121\u0200;lqs\u063e\u0642\u20bd\u20c9\u0180;qs\u063e\u064c\u20c4lan\xf4\u0665\u0200;cdl\u0665\u20d2\u20d5\u20e5c;\u6aa9ot\u0100;o\u20dc\u20dd\u6a80\u0100;l\u20e2\u20e3\u6a82;\u6a84\u0100;e\u20ea\u20ed\uc000\u22db\ufe00s;\u6a94r;\uc000\ud835\udd24\u0100;g\u0673\u061bmel;\u6137cy;\u4453\u0200;Eaj\u065a\u210c\u210e\u2110;\u6a92;\u6aa5;\u6aa4\u0200Eaes\u211b\u211d\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6a8arox\xbb\u2124\u0100;q\u212e\u212f\u6a88\u0100;q\u212e\u211bim;\u62e7pf;\uc000\ud835\udd58\u0100ci\u2143\u2146r;\u610am\u0180;el\u066b\u214e\u2150;\u6a8e;\u6a90\u8300>;cdlqr\u05ee\u2160\u216a\u216e\u2173\u2179\u0100ci\u2165\u2167;\u6aa7r;\u6a7aot;\u62d7Par;\u6995uest;\u6a7c\u0280adels\u2184\u216a\u2190\u0656\u219b\u01f0\u2189\0\u218epro\xf8\u209er;\u6978q\u0100lq\u063f\u2196les\xf3\u2088i\xed\u066b\u0100en\u21a3\u21adrtneqq;\uc000\u2269\ufe00\xc5\u21aa\u0500Aabcefkosy\u21c4\u21c7\u21f1\u21f5\u21fa\u2218\u221d\u222f\u2268\u227dr\xf2\u03a0\u0200ilmr\u21d0\u21d4\u21d7\u21dbrs\xf0\u1484f\xbb\u2024il\xf4\u06a9\u0100dr\u21e0\u21e4cy;\u444a\u0180;cw\u08f4\u21eb\u21efir;\u6948;\u61adar;\u610firc;\u4125\u0180alr\u2201\u220e\u2213rts\u0100;u\u2209\u220a\u6665it\xbb\u220alip;\u6026con;\u62b9r;\uc000\ud835\udd25s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223a\u223e\u2243\u225e\u2263rr;\u61fftht;\u623bk\u0100lr\u2249\u2253eftarrow;\u61a9ightarrow;\u61aaf;\uc000\ud835\udd59bar;\u6015\u0180clt\u226f\u2274\u2278r;\uc000\ud835\udcbdas\xe8\u21f4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xbb\u1c5b\u0ae1\u22a3\0\u22aa\0\u22b8\u22c5\u22ce\0\u22d5\u22f3\0\0\u22f8\u2322\u2367\u2362\u237f\0\u2386\u23aa\u23b4cute\u803b\xed\u40ed\u0180;iy\u0771\u22b0\u22b5rc\u803b\xee\u40ee;\u4438\u0100cx\u22bc\u22bfy;\u4435cl\u803b\xa1\u40a1\u0100fr\u039f\u22c9;\uc000\ud835\udd26rave\u803b\xec\u40ec\u0200;ino\u073e\u22dd\u22e9\u22ee\u0100in\u22e2\u22e6nt;\u6a0ct;\u622dfin;\u69dcta;\u6129lig;\u4133\u0180aop\u22fe\u231a\u231d\u0180cgt\u2305\u2308\u2317r;\u412b\u0180elp\u071f\u230f\u2313in\xe5\u078ear\xf4\u0720h;\u4131f;\u62b7ed;\u41b5\u0280;cfot\u04f4\u232c\u2331\u233d\u2341are;\u6105in\u0100;t\u2338\u2339\u621eie;\u69dddo\xf4\u2319\u0280;celp\u0757\u234c\u2350\u235b\u2361al;\u62ba\u0100gr\u2355\u2359er\xf3\u1563\xe3\u234darhk;\u6a17rod;\u6a3c\u0200cgpt\u236f\u2372\u2376\u237by;\u4451on;\u412ff;\uc000\ud835\udd5aa;\u43b9uest\u803b\xbf\u40bf\u0100ci\u238a\u238fr;\uc000\ud835\udcben\u0280;Edsv\u04f4\u239b\u239d\u23a1\u04f3;\u62f9ot;\u62f5\u0100;v\u23a6\u23a7\u62f4;\u62f3\u0100;i\u0777\u23aelde;\u4129\u01eb\u23b8\0\u23bccy;\u4456l\u803b\xef\u40ef\u0300cfmosu\u23cc\u23d7\u23dc\u23e1\u23e7\u23f5\u0100iy\u23d1\u23d5rc;\u4135;\u4439r;\uc000\ud835\udd27ath;\u4237pf;\uc000\ud835\udd5b\u01e3\u23ec\0\u23f1r;\uc000\ud835\udcbfrcy;\u4458kcy;\u4454\u0400acfghjos\u240b\u2416\u2422\u2427\u242d\u2431\u2435\u243bppa\u0100;v\u2413\u2414\u43ba;\u43f0\u0100ey\u241b\u2420dil;\u4137;\u443ar;\uc000\ud835\udd28reen;\u4138cy;\u4445cy;\u445cpf;\uc000\ud835\udd5ccr;\uc000\ud835\udcc0\u0b80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248d\u2491\u250e\u253d\u255a\u2580\u264e\u265e\u2665\u2679\u267d\u269a\u26b2\u26d8\u275d\u2768\u278b\u27c0\u2801\u2812\u0180art\u2477\u247a\u247cr\xf2\u09c6\xf2\u0395ail;\u691barr;\u690e\u0100;g\u0994\u248b;\u6a8bar;\u6962\u0963\u24a5\0\u24aa\0\u24b1\0\0\0\0\0\u24b5\u24ba\0\u24c6\u24c8\u24cd\0\u24f9ute;\u413amptyv;\u69b4ra\xee\u084cbda;\u43bbg\u0180;dl\u088e\u24c1\u24c3;\u6991\xe5\u088e;\u6a85uo\u803b\xab\u40abr\u0400;bfhlpst\u0899\u24de\u24e6\u24e9\u24eb\u24ee\u24f1\u24f5\u0100;f\u089d\u24e3s;\u691fs;\u691d\xeb\u2252p;\u61abl;\u6939im;\u6973l;\u61a2\u0180;ae\u24ff\u2500\u2504\u6aabil;\u6919\u0100;s\u2509\u250a\u6aad;\uc000\u2aad\ufe00\u0180abr\u2515\u2519\u251drr;\u690crk;\u6772\u0100ak\u2522\u252cc\u0100ek\u2528\u252a;\u407b;\u405b\u0100es\u2531\u2533;\u698bl\u0100du\u2539\u253b;\u698f;\u698d\u0200aeuy\u2546\u254b\u2556\u2558ron;\u413e\u0100di\u2550\u2554il;\u413c\xec\u08b0\xe2\u2529;\u443b\u0200cqrs\u2563\u2566\u256d\u257da;\u6936uo\u0100;r\u0e19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694bh;\u61b2\u0280;fgqs\u258b\u258c\u0989\u25f3\u25ff\u6264t\u0280ahlrt\u2598\u25a4\u25b7\u25c2\u25e8rrow\u0100;t\u0899\u25a1a\xe9\u24f6arpoon\u0100du\u25af\u25b4own\xbb\u045ap\xbb\u0966eftarrows;\u61c7ight\u0180ahs\u25cd\u25d6\u25derrow\u0100;s\u08f4\u08a7arpoon\xf3\u0f98quigarro\xf7\u21f0hreetimes;\u62cb\u0180;qs\u258b\u0993\u25falan\xf4\u09ac\u0280;cdgs\u09ac\u260a\u260d\u261d\u2628c;\u6aa8ot\u0100;o\u2614\u2615\u6a7f\u0100;r\u261a\u261b\u6a81;\u6a83\u0100;e\u2622\u2625\uc000\u22da\ufe00s;\u6a93\u0280adegs\u2633\u2639\u263d\u2649\u264bppro\xf8\u24c6ot;\u62d6q\u0100gq\u2643\u2645\xf4\u0989gt\xf2\u248c\xf4\u099bi\xed\u09b2\u0180ilr\u2655\u08e1\u265asht;\u697c;\uc000\ud835\udd29\u0100;E\u099c\u2663;\u6a91\u0161\u2669\u2676r\u0100du\u25b2\u266e\u0100;l\u0965\u2673;\u696alk;\u6584cy;\u4459\u0280;acht\u0a48\u2688\u268b\u2691\u2696r\xf2\u25c1orne\xf2\u1d08ard;\u696bri;\u65fa\u0100io\u269f\u26a4dot;\u4140ust\u0100;a\u26ac\u26ad\u63b0che\xbb\u26ad\u0200Eaes\u26bb\u26bd\u26c9\u26d4;\u6268p\u0100;p\u26c3\u26c4\u6a89rox\xbb\u26c4\u0100;q\u26ce\u26cf\u6a87\u0100;q\u26ce\u26bbim;\u62e6\u0400abnoptwz\u26e9\u26f4\u26f7\u271a\u272f\u2741\u2747\u2750\u0100nr\u26ee\u26f1g;\u67ecr;\u61fdr\xeb\u08c1g\u0180lmr\u26ff\u270d\u2714eft\u0100ar\u09e6\u2707ight\xe1\u09f2apsto;\u67fcight\xe1\u09fdparrow\u0100lr\u2725\u2729ef\xf4\u24edight;\u61ac\u0180afl\u2736\u2739\u273dr;\u6985;\uc000\ud835\udd5dus;\u6a2dimes;\u6a34\u0161\u274b\u274fst;\u6217\xe1\u134e\u0180;ef\u2757\u2758\u1800\u65cange\xbb\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277c\u2785\u2787r\xf2\u08a8orne\xf2\u1d8car\u0100;d\u0f98\u2783;\u696d;\u600eri;\u62bf\u0300achiqt\u2798\u279d\u0a40\u27a2\u27ae\u27bbquo;\u6039r;\uc000\ud835\udcc1m\u0180;eg\u09b2\u27aa\u27ac;\u6a8d;\u6a8f\u0100bu\u252a\u27b3o\u0100;r\u0e1f\u27b9;\u601arok;\u4142\u8400<;cdhilqr\u082b\u27d2\u2639\u27dc\u27e0\u27e5\u27ea\u27f0\u0100ci\u27d7\u27d9;\u6aa6r;\u6a79re\xe5\u25f2mes;\u62c9arr;\u6976uest;\u6a7b\u0100Pi\u27f5\u27f9ar;\u6996\u0180;ef\u2800\u092d\u181b\u65c3r\u0100du\u2807\u280dshar;\u694ahar;\u6966\u0100en\u2817\u2821rtneqq;\uc000\u2268\ufe00\xc5\u281e\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288e\u2893\u28a0\u28a5\u28a8\u28da\u28e2\u28e4\u0a83\u28f3\u2902Dot;\u623a\u0200clpr\u284e\u2852\u2863\u287dr\u803b\xaf\u40af\u0100et\u2857\u2859;\u6642\u0100;e\u285e\u285f\u6720se\xbb\u285f\u0100;s\u103b\u2868to\u0200;dlu\u103b\u2873\u2877\u287bow\xee\u048cef\xf4\u090f\xf0\u13d1ker;\u65ae\u0100oy\u2887\u288cmma;\u6a29;\u443cash;\u6014asuredangle\xbb\u1626r;\uc000\ud835\udd2ao;\u6127\u0180cdn\u28af\u28b4\u28c9ro\u803b\xb5\u40b5\u0200;acd\u1464\u28bd\u28c0\u28c4s\xf4\u16a7ir;\u6af0ot\u80bb\xb7\u01b5us\u0180;bd\u28d2\u1903\u28d3\u6212\u0100;u\u1d3c\u28d8;\u6a2a\u0163\u28de\u28e1p;\u6adb\xf2\u2212\xf0\u0a81\u0100dp\u28e9\u28eeels;\u62a7f;\uc000\ud835\udd5e\u0100ct\u28f8\u28fdr;\uc000\ud835\udcc2pos\xbb\u159d\u0180;lm\u2909\u290a\u290d\u43bctimap;\u62b8\u0c00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297e\u2989\u2998\u29da\u29e9\u2a15\u2a1a\u2a58\u2a5d\u2a83\u2a95\u2aa4\u2aa8\u2b04\u2b07\u2b44\u2b7f\u2bae\u2c34\u2c67\u2c7c\u2ce9\u0100gt\u2947\u294b;\uc000\u22d9\u0338\u0100;v\u2950\u0bcf\uc000\u226b\u20d2\u0180elt\u295a\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61cdightarrow;\u61ce;\uc000\u22d8\u0338\u0100;v\u297b\u0c47\uc000\u226a\u20d2ightarrow;\u61cf\u0100Dd\u298e\u2993ash;\u62afash;\u62ae\u0280bcnpt\u29a3\u29a7\u29ac\u29b1\u29ccla\xbb\u02deute;\u4144g;\uc000\u2220\u20d2\u0280;Eiop\u0d84\u29bc\u29c0\u29c5\u29c8;\uc000\u2a70\u0338d;\uc000\u224b\u0338s;\u4149ro\xf8\u0d84ur\u0100;a\u29d3\u29d4\u666el\u0100;s\u29d3\u0b38\u01f3\u29df\0\u29e3p\u80bb\xa0\u0b37mp\u0100;e\u0bf9\u0c00\u0280aeouy\u29f4\u29fe\u2a03\u2a10\u2a13\u01f0\u29f9\0\u29fb;\u6a43on;\u4148dil;\u4146ng\u0100;d\u0d7e\u2a0aot;\uc000\u2a6d\u0338p;\u6a42;\u443dash;\u6013\u0380;Aadqsx\u0b92\u2a29\u2a2d\u2a3b\u2a41\u2a45\u2a50rr;\u61d7r\u0100hr\u2a33\u2a36k;\u6924\u0100;o\u13f2\u13f0ot;\uc000\u2250\u0338ui\xf6\u0b63\u0100ei\u2a4a\u2a4ear;\u6928\xed\u0b98ist\u0100;s\u0ba0\u0b9fr;\uc000\ud835\udd2b\u0200Eest\u0bc5\u2a66\u2a79\u2a7c\u0180;qs\u0bbc\u2a6d\u0be1\u0180;qs\u0bbc\u0bc5\u2a74lan\xf4\u0be2i\xed\u0bea\u0100;r\u0bb6\u2a81\xbb\u0bb7\u0180Aap\u2a8a\u2a8d\u2a91r\xf2\u2971rr;\u61aear;\u6af2\u0180;sv\u0f8d\u2a9c\u0f8c\u0100;d\u2aa1\u2aa2\u62fc;\u62facy;\u445a\u0380AEadest\u2ab7\u2aba\u2abe\u2ac2\u2ac5\u2af6\u2af9r\xf2\u2966;\uc000\u2266\u0338rr;\u619ar;\u6025\u0200;fqs\u0c3b\u2ace\u2ae3\u2aeft\u0100ar\u2ad4\u2ad9rro\xf7\u2ac1ightarro\xf7\u2a90\u0180;qs\u0c3b\u2aba\u2aealan\xf4\u0c55\u0100;s\u0c55\u2af4\xbb\u0c36i\xed\u0c5d\u0100;r\u0c35\u2afei\u0100;e\u0c1a\u0c25i\xe4\u0d90\u0100pt\u2b0c\u2b11f;\uc000\ud835\udd5f\u8180\xac;in\u2b19\u2b1a\u2b36\u40acn\u0200;Edv\u0b89\u2b24\u2b28\u2b2e;\uc000\u22f9\u0338ot;\uc000\u22f5\u0338\u01e1\u0b89\u2b33\u2b35;\u62f7;\u62f6i\u0100;v\u0cb8\u2b3c\u01e1\u0cb8\u2b41\u2b43;\u62fe;\u62fd\u0180aor\u2b4b\u2b63\u2b69r\u0200;ast\u0b7b\u2b55\u2b5a\u2b5flle\xec\u0b7bl;\uc000\u2afd\u20e5;\uc000\u2202\u0338lint;\u6a14\u0180;ce\u0c92\u2b70\u2b73u\xe5\u0ca5\u0100;c\u0c98\u2b78\u0100;e\u0c92\u2b7d\xf1\u0c98\u0200Aait\u2b88\u2b8b\u2b9d\u2ba7r\xf2\u2988rr\u0180;cw\u2b94\u2b95\u2b99\u619b;\uc000\u2933\u0338;\uc000\u219d\u0338ghtarrow\xbb\u2b95ri\u0100;e\u0ccb\u0cd6\u0380chimpqu\u2bbd\u2bcd\u2bd9\u2b04\u0b78\u2be4\u2bef\u0200;cer\u0d32\u2bc6\u0d37\u2bc9u\xe5\u0d45;\uc000\ud835\udcc3ort\u026d\u2b05\0\0\u2bd6ar\xe1\u2b56m\u0100;e\u0d6e\u2bdf\u0100;q\u0d74\u0d73su\u0100bp\u2beb\u2bed\xe5\u0cf8\xe5\u0d0b\u0180bcp\u2bf6\u2c11\u2c19\u0200;Ees\u2bff\u2c00\u0d22\u2c04\u6284;\uc000\u2ac5\u0338et\u0100;e\u0d1b\u2c0bq\u0100;q\u0d23\u2c00c\u0100;e\u0d32\u2c17\xf1\u0d38\u0200;Ees\u2c22\u2c23\u0d5f\u2c27\u6285;\uc000\u2ac6\u0338et\u0100;e\u0d58\u2c2eq\u0100;q\u0d60\u2c23\u0200gilr\u2c3d\u2c3f\u2c45\u2c47\xec\u0bd7lde\u803b\xf1\u40f1\xe7\u0c43iangle\u0100lr\u2c52\u2c5ceft\u0100;e\u0c1a\u2c5a\xf1\u0c26ight\u0100;e\u0ccb\u2c65\xf1\u0cd7\u0100;m\u2c6c\u2c6d\u43bd\u0180;es\u2c74\u2c75\u2c79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2c8f\u2c94\u2c99\u2c9e\u2ca3\u2cb0\u2cb6\u2cd3\u2ce3ash;\u62adarr;\u6904p;\uc000\u224d\u20d2ash;\u62ac\u0100et\u2ca8\u2cac;\uc000\u2265\u20d2;\uc000>\u20d2nfin;\u69de\u0180Aet\u2cbd\u2cc1\u2cc5rr;\u6902;\uc000\u2264\u20d2\u0100;r\u2cca\u2ccd\uc000<\u20d2ie;\uc000\u22b4\u20d2\u0100At\u2cd8\u2cdcrr;\u6903rie;\uc000\u22b5\u20d2im;\uc000\u223c\u20d2\u0180Aan\u2cf0\u2cf4\u2d02rr;\u61d6r\u0100hr\u2cfa\u2cfdk;\u6923\u0100;o\u13e7\u13e5ear;\u6927\u1253\u1a95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2d2d\0\u2d38\u2d48\u2d60\u2d65\u2d72\u2d84\u1b07\0\0\u2d8d\u2dab\0\u2dc8\u2dce\0\u2ddc\u2e19\u2e2b\u2e3e\u2e43\u0100cs\u2d31\u1a97ute\u803b\xf3\u40f3\u0100iy\u2d3c\u2d45r\u0100;c\u1a9e\u2d42\u803b\xf4\u40f4;\u443e\u0280abios\u1aa0\u2d52\u2d57\u01c8\u2d5alac;\u4151v;\u6a38old;\u69bclig;\u4153\u0100cr\u2d69\u2d6dir;\u69bf;\uc000\ud835\udd2c\u036f\u2d79\0\0\u2d7c\0\u2d82n;\u42dbave\u803b\xf2\u40f2;\u69c1\u0100bm\u2d88\u0df4ar;\u69b5\u0200acit\u2d95\u2d98\u2da5\u2da8r\xf2\u1a80\u0100ir\u2d9d\u2da0r;\u69beoss;\u69bbn\xe5\u0e52;\u69c0\u0180aei\u2db1\u2db5\u2db9cr;\u414dga;\u43c9\u0180cdn\u2dc0\u2dc5\u01cdron;\u43bf;\u69b6pf;\uc000\ud835\udd60\u0180ael\u2dd4\u2dd7\u01d2r;\u69b7rp;\u69b9\u0380;adiosv\u2dea\u2deb\u2dee\u2e08\u2e0d\u2e10\u2e16\u6228r\xf2\u1a86\u0200;efm\u2df7\u2df8\u2e02\u2e05\u6a5dr\u0100;o\u2dfe\u2dff\u6134f\xbb\u2dff\u803b\xaa\u40aa\u803b\xba\u40bagof;\u62b6r;\u6a56lope;\u6a57;\u6a5b\u0180clo\u2e1f\u2e21\u2e27\xf2\u2e01ash\u803b\xf8\u40f8l;\u6298i\u016c\u2e2f\u2e34de\u803b\xf5\u40f5es\u0100;a\u01db\u2e3as;\u6a36ml\u803b\xf6\u40f6bar;\u633d\u0ae1\u2e5e\0\u2e7d\0\u2e80\u2e9d\0\u2ea2\u2eb9\0\0\u2ecb\u0e9c\0\u2f13\0\0\u2f2b\u2fbc\0\u2fc8r\u0200;ast\u0403\u2e67\u2e72\u0e85\u8100\xb6;l\u2e6d\u2e6e\u40b6le\xec\u0403\u0269\u2e78\0\0\u2e7bm;\u6af3;\u6afdy;\u443fr\u0280cimpt\u2e8b\u2e8f\u2e93\u1865\u2e97nt;\u4025od;\u402eil;\u6030enk;\u6031r;\uc000\ud835\udd2d\u0180imo\u2ea8\u2eb0\u2eb4\u0100;v\u2ead\u2eae\u43c6;\u43d5ma\xf4\u0a76ne;\u660e\u0180;tv\u2ebf\u2ec0\u2ec8\u43c0chfork\xbb\u1ffd;\u43d6\u0100au\u2ecf\u2edfn\u0100ck\u2ed5\u2eddk\u0100;h\u21f4\u2edb;\u610e\xf6\u21f4s\u0480;abcdemst\u2ef3\u2ef4\u1908\u2ef9\u2efd\u2f04\u2f06\u2f0a\u2f0e\u402bcir;\u6a23ir;\u6a22\u0100ou\u1d40\u2f02;\u6a25;\u6a72n\u80bb\xb1\u0e9dim;\u6a26wo;\u6a27\u0180ipu\u2f19\u2f20\u2f25ntint;\u6a15f;\uc000\ud835\udd61nd\u803b\xa3\u40a3\u0500;Eaceinosu\u0ec8\u2f3f\u2f41\u2f44\u2f47\u2f81\u2f89\u2f92\u2f7e\u2fb6;\u6ab3p;\u6ab7u\xe5\u0ed9\u0100;c\u0ece\u2f4c\u0300;acens\u0ec8\u2f59\u2f5f\u2f66\u2f68\u2f7eppro\xf8\u2f43urlye\xf1\u0ed9\xf1\u0ece\u0180aes\u2f6f\u2f76\u2f7approx;\u6ab9qq;\u6ab5im;\u62e8i\xed\u0edfme\u0100;s\u2f88\u0eae\u6032\u0180Eas\u2f78\u2f90\u2f7a\xf0\u2f75\u0180dfp\u0eec\u2f99\u2faf\u0180als\u2fa0\u2fa5\u2faalar;\u632eine;\u6312urf;\u6313\u0100;t\u0efb\u2fb4\xef\u0efbrel;\u62b0\u0100ci\u2fc0\u2fc5r;\uc000\ud835\udcc5;\u43c8ncsp;\u6008\u0300fiopsu\u2fda\u22e2\u2fdf\u2fe5\u2feb\u2ff1r;\uc000\ud835\udd2epf;\uc000\ud835\udd62rime;\u6057cr;\uc000\ud835\udcc6\u0180aeo\u2ff8\u3009\u3013t\u0100ei\u2ffe\u3005rnion\xf3\u06b0nt;\u6a16st\u0100;e\u3010\u3011\u403f\xf1\u1f19\xf4\u0f14\u0a80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30e0\u310e\u312b\u3147\u3162\u3172\u318e\u3206\u3215\u3224\u3229\u3258\u326e\u3272\u3290\u32b0\u32b7\u0180art\u3047\u304a\u304cr\xf2\u10b3\xf2\u03ddail;\u691car\xf2\u1c65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307f\u308f\u3094\u30cc\u0100eu\u306d\u3071;\uc000\u223d\u0331te;\u4155i\xe3\u116emptyv;\u69b3g\u0200;del\u0fd1\u3089\u308b\u308d;\u6992;\u69a5\xe5\u0fd1uo\u803b\xbb\u40bbr\u0580;abcfhlpstw\u0fdc\u30ac\u30af\u30b7\u30b9\u30bc\u30be\u30c0\u30c3\u30c7\u30cap;\u6975\u0100;f\u0fe0\u30b4s;\u6920;\u6933s;\u691e\xeb\u225d\xf0\u272el;\u6945im;\u6974l;\u61a3;\u619d\u0100ai\u30d1\u30d5il;\u691ao\u0100;n\u30db\u30dc\u6236al\xf3\u0f1e\u0180abr\u30e7\u30ea\u30eer\xf2\u17e5rk;\u6773\u0100ak\u30f3\u30fdc\u0100ek\u30f9\u30fb;\u407d;\u405d\u0100es\u3102\u3104;\u698cl\u0100du\u310a\u310c;\u698e;\u6990\u0200aeuy\u3117\u311c\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xec\u0ff2\xe2\u30fa;\u4440\u0200clqs\u3134\u3137\u313d\u3144a;\u6937dhar;\u6969uo\u0100;r\u020e\u020dh;\u61b3\u0180acg\u314e\u315f\u0f44l\u0200;ips\u0f78\u3158\u315b\u109cn\xe5\u10bbar\xf4\u0fa9t;\u65ad\u0180ilr\u3169\u1023\u316esht;\u697d;\uc000\ud835\udd2f\u0100ao\u3177\u3186r\u0100du\u317d\u317f\xbb\u047b\u0100;l\u1091\u3184;\u696c\u0100;v\u318b\u318c\u43c1;\u43f1\u0180gns\u3195\u31f9\u31fcht\u0300ahlrst\u31a4\u31b0\u31c2\u31d8\u31e4\u31eerrow\u0100;t\u0fdc\u31ada\xe9\u30c8arpoon\u0100du\u31bb\u31bfow\xee\u317ep\xbb\u1092eft\u0100ah\u31ca\u31d0rrow\xf3\u0feaarpoon\xf3\u0551ightarrows;\u61c9quigarro\xf7\u30cbhreetimes;\u62ccg;\u42daingdotse\xf1\u1f32\u0180ahm\u320d\u3210\u3213r\xf2\u0feaa\xf2\u0551;\u600foust\u0100;a\u321e\u321f\u63b1che\xbb\u321fmid;\u6aee\u0200abpt\u3232\u323d\u3240\u3252\u0100nr\u3237\u323ag;\u67edr;\u61fer\xeb\u1003\u0180afl\u3247\u324a\u324er;\u6986;\uc000\ud835\udd63us;\u6a2eimes;\u6a35\u0100ap\u325d\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6a12ar\xf2\u31e3\u0200achq\u327b\u3280\u10bc\u3285quo;\u603ar;\uc000\ud835\udcc7\u0100bu\u30fb\u328ao\u0100;r\u0214\u0213\u0180hir\u3297\u329b\u32a0re\xe5\u31f8mes;\u62cai\u0200;efl\u32aa\u1059\u1821\u32ab\u65b9tri;\u69celuhar;\u6968;\u611e\u0d61\u32d5\u32db\u32df\u332c\u3338\u3371\0\u337a\u33a4\0\0\u33ec\u33f0\0\u3428\u3448\u345a\u34ad\u34b1\u34ca\u34f1\0\u3616\0\0\u3633cute;\u415bqu\xef\u27ba\u0500;Eaceinpsy\u11ed\u32f3\u32f5\u32ff\u3302\u330b\u330f\u331f\u3326\u3329;\u6ab4\u01f0\u32fa\0\u32fc;\u6ab8on;\u4161u\xe5\u11fe\u0100;d\u11f3\u3307il;\u415frc;\u415d\u0180Eas\u3316\u3318\u331b;\u6ab6p;\u6abaim;\u62e9olint;\u6a13i\xed\u1204;\u4441ot\u0180;be\u3334\u1d47\u3335\u62c5;\u6a66\u0380Aacmstx\u3346\u334a\u3357\u335b\u335e\u3363\u336drr;\u61d8r\u0100hr\u3350\u3352\xeb\u2228\u0100;o\u0a36\u0a34t\u803b\xa7\u40a7i;\u403bwar;\u6929m\u0100in\u3369\xf0nu\xf3\xf1t;\u6736r\u0100;o\u3376\u2055\uc000\ud835\udd30\u0200acoy\u3382\u3386\u3391\u33a0rp;\u666f\u0100hy\u338b\u338fcy;\u4449;\u4448rt\u026d\u3399\0\0\u339ci\xe4\u1464ara\xec\u2e6f\u803b\xad\u40ad\u0100gm\u33a8\u33b4ma\u0180;fv\u33b1\u33b2\u33b2\u43c3;\u43c2\u0400;deglnpr\u12ab\u33c5\u33c9\u33ce\u33d6\u33de\u33e1\u33e6ot;\u6a6a\u0100;q\u12b1\u12b0\u0100;E\u33d3\u33d4\u6a9e;\u6aa0\u0100;E\u33db\u33dc\u6a9d;\u6a9fe;\u6246lus;\u6a24arr;\u6972ar\xf2\u113d\u0200aeit\u33f8\u3408\u340f\u3417\u0100ls\u33fd\u3404lsetm\xe9\u336ahp;\u6a33parsl;\u69e4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341c\u341d\u6aaa\u0100;s\u3422\u3423\u6aac;\uc000\u2aac\ufe00\u0180flp\u342e\u3433\u3442tcy;\u444c\u0100;b\u3438\u3439\u402f\u0100;a\u343e\u343f\u69c4r;\u633ff;\uc000\ud835\udd64a\u0100dr\u344d\u0402es\u0100;u\u3454\u3455\u6660it\xbb\u3455\u0180csu\u3460\u3479\u349f\u0100au\u3465\u346fp\u0100;s\u1188\u346b;\uc000\u2293\ufe00p\u0100;s\u11b4\u3475;\uc000\u2294\ufe00u\u0100bp\u347f\u348f\u0180;es\u1197\u119c\u3486et\u0100;e\u1197\u348d\xf1\u119d\u0180;es\u11a8\u11ad\u3496et\u0100;e\u11a8\u349d\xf1\u11ae\u0180;af\u117b\u34a6\u05b0r\u0165\u34ab\u05b1\xbb\u117car\xf2\u1148\u0200cemt\u34b9\u34be\u34c2\u34c5r;\uc000\ud835\udcc8tm\xee\xf1i\xec\u3415ar\xe6\u11be\u0100ar\u34ce\u34d5r\u0100;f\u34d4\u17bf\u6606\u0100an\u34da\u34edight\u0100ep\u34e3\u34eapsilo\xee\u1ee0h\xe9\u2eafs\xbb\u2852\u0280bcmnp\u34fb\u355e\u1209\u358b\u358e\u0480;Edemnprs\u350e\u350f\u3511\u3515\u351e\u3523\u352c\u3531\u3536\u6282;\u6ac5ot;\u6abd\u0100;d\u11da\u351aot;\u6ac3ult;\u6ac1\u0100Ee\u3528\u352a;\u6acb;\u628alus;\u6abfarr;\u6979\u0180eiu\u353d\u3552\u3555t\u0180;en\u350e\u3545\u354bq\u0100;q\u11da\u350feq\u0100;q\u352b\u3528m;\u6ac7\u0100bp\u355a\u355c;\u6ad5;\u6ad3c\u0300;acens\u11ed\u356c\u3572\u3579\u357b\u3326ppro\xf8\u32faurlye\xf1\u11fe\xf1\u11f3\u0180aes\u3582\u3588\u331bppro\xf8\u331aq\xf1\u3317g;\u666a\u0680123;Edehlmnps\u35a9\u35ac\u35af\u121c\u35b2\u35b4\u35c0\u35c9\u35d5\u35da\u35df\u35e8\u35ed\u803b\xb9\u40b9\u803b\xb2\u40b2\u803b\xb3\u40b3;\u6ac6\u0100os\u35b9\u35bct;\u6abeub;\u6ad8\u0100;d\u1222\u35c5ot;\u6ac4s\u0100ou\u35cf\u35d2l;\u67c9b;\u6ad7arr;\u697bult;\u6ac2\u0100Ee\u35e4\u35e6;\u6acc;\u628blus;\u6ac0\u0180eiu\u35f4\u3609\u360ct\u0180;en\u121c\u35fc\u3602q\u0100;q\u1222\u35b2eq\u0100;q\u35e7\u35e4m;\u6ac8\u0100bp\u3611\u3613;\u6ad4;\u6ad6\u0180Aan\u361c\u3620\u362drr;\u61d9r\u0100hr\u3626\u3628\xeb\u222e\u0100;o\u0a2b\u0a29war;\u692alig\u803b\xdf\u40df\u0be1\u3651\u365d\u3660\u12ce\u3673\u3679\0\u367e\u36c2\0\0\0\0\0\u36db\u3703\0\u3709\u376c\0\0\0\u3787\u0272\u3656\0\0\u365bget;\u6316;\u43c4r\xeb\u0e5f\u0180aey\u3666\u366b\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uc000\ud835\udd31\u0200eiko\u3686\u369d\u36b5\u36bc\u01f2\u368b\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369b\u43b8ym;\u43d1\u0100cn\u36a2\u36b2k\u0100as\u36a8\u36aeppro\xf8\u12c1im\xbb\u12acs\xf0\u129e\u0100as\u36ba\u36ae\xf0\u12c1rn\u803b\xfe\u40fe\u01ec\u031f\u36c6\u22e7es\u8180\xd7;bd\u36cf\u36d0\u36d8\u40d7\u0100;a\u190f\u36d5r;\u6a31;\u6a30\u0180eps\u36e1\u36e3\u3700\xe1\u2a4d\u0200;bcf\u0486\u36ec\u36f0\u36f4ot;\u6336ir;\u6af1\u0100;o\u36f9\u36fc\uc000\ud835\udd65rk;\u6ada\xe1\u3362rime;\u6034\u0180aip\u370f\u3712\u3764d\xe5\u1248\u0380adempst\u3721\u374d\u3740\u3751\u3757\u375c\u375fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65b5own\xbb\u1dbbeft\u0100;e\u2800\u373e\xf1\u092e;\u625cight\u0100;e\u32aa\u374b\xf1\u105aot;\u65ecinus;\u6a3alus;\u6a39b;\u69cdime;\u6a3bezium;\u63e2\u0180cht\u3772\u377d\u3781\u0100ry\u3777\u377b;\uc000\ud835\udcc9;\u4446cy;\u445brok;\u4167\u0100io\u378b\u378ex\xf4\u1777head\u0100lr\u3797\u37a0eftarro\xf7\u084fightarrow\xbb\u0f5d\u0900AHabcdfghlmoprstuw\u37d0\u37d3\u37d7\u37e4\u37f0\u37fc\u380e\u381c\u3823\u3834\u3851\u385d\u386b\u38a9\u38cc\u38d2\u38ea\u38f6r\xf2\u03edar;\u6963\u0100cr\u37dc\u37e2ute\u803b\xfa\u40fa\xf2\u1150r\u01e3\u37ea\0\u37edy;\u445eve;\u416d\u0100iy\u37f5\u37farc\u803b\xfb\u40fb;\u4443\u0180abh\u3803\u3806\u380br\xf2\u13adlac;\u4171a\xf2\u13c3\u0100ir\u3813\u3818sht;\u697e;\uc000\ud835\udd32rave\u803b\xf9\u40f9\u0161\u3827\u3831r\u0100lr\u382c\u382e\xbb\u0957\xbb\u1083lk;\u6580\u0100ct\u3839\u384d\u026f\u383f\0\0\u384arn\u0100;e\u3845\u3846\u631cr\xbb\u3846op;\u630fri;\u65f8\u0100al\u3856\u385acr;\u416b\u80bb\xa8\u0349\u0100gp\u3862\u3866on;\u4173f;\uc000\ud835\udd66\u0300adhlsu\u114b\u3878\u387d\u1372\u3891\u38a0own\xe1\u13b3arpoon\u0100lr\u3888\u388cef\xf4\u382digh\xf4\u382fi\u0180;hl\u3899\u389a\u389c\u43c5\xbb\u13faon\xbb\u389aparrows;\u61c8\u0180cit\u38b0\u38c4\u38c8\u026f\u38b6\0\0\u38c1rn\u0100;e\u38bc\u38bd\u631dr\xbb\u38bdop;\u630eng;\u416fri;\u65f9cr;\uc000\ud835\udcca\u0180dir\u38d9\u38dd\u38e2ot;\u62f0lde;\u4169i\u0100;f\u3730\u38e8\xbb\u1813\u0100am\u38ef\u38f2r\xf2\u38a8l\u803b\xfc\u40fcangle;\u69a7\u0780ABDacdeflnoprsz\u391c\u391f\u3929\u392d\u39b5\u39b8\u39bd\u39df\u39e4\u39e8\u39f3\u39f9\u39fd\u3a01\u3a20r\xf2\u03f7ar\u0100;v\u3926\u3927\u6ae8;\u6ae9as\xe8\u03e1\u0100nr\u3932\u3937grt;\u699c\u0380eknprst\u34e3\u3946\u394b\u3952\u395d\u3964\u3996app\xe1\u2415othin\xe7\u1e96\u0180hir\u34eb\u2ec8\u3959op\xf4\u2fb5\u0100;h\u13b7\u3962\xef\u318d\u0100iu\u3969\u396dgm\xe1\u33b3\u0100bp\u3972\u3984setneq\u0100;q\u397d\u3980\uc000\u228a\ufe00;\uc000\u2acb\ufe00setneq\u0100;q\u398f\u3992\uc000\u228b\ufe00;\uc000\u2acc\ufe00\u0100hr\u399b\u399fet\xe1\u369ciangle\u0100lr\u39aa\u39afeft\xbb\u0925ight\xbb\u1051y;\u4432ash\xbb\u1036\u0180elr\u39c4\u39d2\u39d7\u0180;be\u2dea\u39cb\u39cfar;\u62bbq;\u625alip;\u62ee\u0100bt\u39dc\u1468a\xf2\u1469r;\uc000\ud835\udd33tr\xe9\u39aesu\u0100bp\u39ef\u39f1\xbb\u0d1c\xbb\u0d59pf;\uc000\ud835\udd67ro\xf0\u0efbtr\xe9\u39b4\u0100cu\u3a06\u3a0br;\uc000\ud835\udccb\u0100bp\u3a10\u3a18n\u0100Ee\u3980\u3a16\xbb\u397en\u0100Ee\u3992\u3a1e\xbb\u3990igzag;\u699a\u0380cefoprs\u3a36\u3a3b\u3a56\u3a5b\u3a54\u3a61\u3a6airc;\u4175\u0100di\u3a40\u3a51\u0100bg\u3a45\u3a49ar;\u6a5fe\u0100;q\u15fa\u3a4f;\u6259erp;\u6118r;\uc000\ud835\udd34pf;\uc000\ud835\udd68\u0100;e\u1479\u3a66at\xe8\u1479cr;\uc000\ud835\udccc\u0ae3\u178e\u3a87\0\u3a8b\0\u3a90\u3a9b\0\0\u3a9d\u3aa8\u3aab\u3aaf\0\0\u3ac3\u3ace\0\u3ad8\u17dc\u17dftr\xe9\u17d1r;\uc000\ud835\udd35\u0100Aa\u3a94\u3a97r\xf2\u03c3r\xf2\u09f6;\u43be\u0100Aa\u3aa1\u3aa4r\xf2\u03b8r\xf2\u09eba\xf0\u2713is;\u62fb\u0180dpt\u17a4\u3ab5\u3abe\u0100fl\u3aba\u17a9;\uc000\ud835\udd69im\xe5\u17b2\u0100Aa\u3ac7\u3acar\xf2\u03cer\xf2\u0a01\u0100cq\u3ad2\u17b8r;\uc000\ud835\udccd\u0100pt\u17d6\u3adcr\xe9\u17d4\u0400acefiosu\u3af0\u3afd\u3b08\u3b0c\u3b11\u3b15\u3b1b\u3b21c\u0100uy\u3af6\u3afbte\u803b\xfd\u40fd;\u444f\u0100iy\u3b02\u3b06rc;\u4177;\u444bn\u803b\xa5\u40a5r;\uc000\ud835\udd36cy;\u4457pf;\uc000\ud835\udd6acr;\uc000\ud835\udcce\u0100cm\u3b26\u3b29y;\u444el\u803b\xff\u40ff\u0500acdefhiosw\u3b42\u3b48\u3b54\u3b58\u3b64\u3b69\u3b6d\u3b74\u3b7a\u3b80cute;\u417a\u0100ay\u3b4d\u3b52ron;\u417e;\u4437ot;\u417c\u0100et\u3b5d\u3b61tr\xe6\u155fa;\u43b6r;\uc000\ud835\udd37cy;\u4436grarr;\u61ddpf;\uc000\ud835\udd6bcr;\uc000\ud835\udccf\u0100jn\u3b85\u3b87;\u600dj;\u600c'.split("").map((e=>e.charCodeAt(0)))),_f=new Uint16Array("\u0200aglq\t\x15\x18\x1b\u026d\x0f\0\0\x12p;\u4026os;\u4027t;\u403et;\u403cuot;\u4022".split("").map((e=>e.charCodeAt(0))));var Df;const xf=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Mf=null!==(Df=String.fromCodePoint)&&void 0!==Df?Df:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function Of(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=xf.get(e))&&void 0!==t?t:e}var Nf;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(Nf||(Nf={}));var Lf,zf,Ff;function qf(e){return e>=Nf.ZERO&&e<=Nf.NINE}function Bf(e){return e>=Nf.UPPER_A&&e<=Nf.UPPER_F||e>=Nf.LOWER_A&&e<=Nf.LOWER_F}function jf(e){return e===Nf.EQUALS||function(e){return e>=Nf.UPPER_A&&e<=Nf.UPPER_Z||e>=Nf.LOWER_A&&e<=Nf.LOWER_Z||qf(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(Lf||(Lf={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(zf||(zf={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(Ff||(Ff={}));class Uf{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=zf.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ff.Strict}startEntity(e){this.decodeMode=e,this.state=zf.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case zf.EntityStart:return e.charCodeAt(t)===Nf.NUM?(this.state=zf.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=zf.NamedEntity,this.stateNamedEntity(e,t));case zf.NumericStart:return this.stateNumericStart(e,t);case zf.NumericDecimal:return this.stateNumericDecimal(e,t);case zf.NumericHex:return this.stateNumericHex(e,t);case zf.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===Nf.LOWER_X?(this.state=zf.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=zf.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,i){if(t!==n){const r=n-t;this.result=this.result*Math.pow(i,r)+parseInt(e.substr(t,r),i),this.consumed+=r}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(!qf(i)&&!Bf(i))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(i,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(!qf(i))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(i,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Nf.SEMI)this.consumed+=1;else if(this.decodeMode===Ff.Strict)return 0;return this.emitCodePoint(Of(this.result),this.consumed),this.errors&&(e!==Nf.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let i=n[this.treeIndex],r=(i&Lf.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const o=e.charCodeAt(t);if(this.treeIndex=Hf(n,i,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return 0===this.result||this.decodeMode===Ff.Attribute&&(0===r||jf(o))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],r=(i&Lf.VALUE_LENGTH)>>14,0!==r){if(o===Nf.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==Ff.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,i=(n[t]&Lf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:i}=this;return this.emitCodePoint(1===t?i[e]&~Lf.VALUE_LENGTH:i[e+1],n),3===t&&this.emitCodePoint(i[e+2],n),n}end(){var e;switch(this.state){case zf.NamedEntity:return 0===this.result||this.decodeMode===Ff.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case zf.NumericDecimal:return this.emitNumericEntity(0,2);case zf.NumericHex:return this.emitNumericEntity(0,3);case zf.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case zf.EntityStart:return 0}}}function Vf(e){let t="";const n=new Uf(e,(e=>t+=Mf(e)));return function(e,i){let r=0,o=0;for(;(o=e.indexOf("&",o))>=0;){t+=e.slice(r,o),n.startEntity(i);const s=n.write(e,o+1);if(s<0){r=o+n.end();break}r=o+s,o=0===s?r+1:r}const s=t+e.slice(r);return t="",s}}function Hf(e,t,n,i){const r=(t&Lf.BRANCH_LENGTH)>>7,o=t&Lf.JUMP_TABLE;if(0===r)return 0!==o&&i===o?n:-1;if(o){const t=i-o;return t<0||t>=r?-1:e[n+t]-1}let s=n,a=s+r-1;for(;s<=a;){const t=s+a>>>1,n=e[t];if(n<i)s=t+1;else{if(!(n>i))return e[t+r];a=t-1}}return-1}const Wf=Vf(Rf);Vf(_f);function Gf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ff.Legacy;return Wf(e,t)}function Kf(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}new Map(Kf([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Kf([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Kf([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Kf([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const Qf=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);String.prototype.codePointAt;function Jf(e,t){return function(n){let i,r=0,o="";for(;i=e.exec(n);)r!==i.index&&(o+=n.substring(r,i.index)),o+=t.get(i[0].charCodeAt(0)),r=i.index+1;return o+n.substring(r)}}Jf(/[&<>'"]/g,Qf),Jf(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Jf(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var Yf,$f;function Xf(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(Yf||(Yf={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}($f||($f={}));const Zf=Object.prototype.hasOwnProperty;function eg(e,t){return Zf.call(e,t)}function tg(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!==typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}function ng(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function ig(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function rg(e){if(e>65535){const t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const og=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,sg=new RegExp(og.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),ag=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function cg(e){return e.indexOf("\\")<0?e:e.replace(og,"$1")}function lg(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(sg,(function(e,t,n){return t||function(e,t){if(35===t.charCodeAt(0)&&ag.test(t)){const n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return ig(n)?rg(n):e}const n=Gf(e);return n!==e?n:e}(e,n)}))}const ug=/[&<>"]/,dg=/[&<>"]/g,hg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function pg(e){return hg[e]}function fg(e){return ug.test(e)?e.replace(dg,pg):e}const gg=/[.?*+^$[\]\\(){}|-]/g;function mg(e){return e.replace(gg,"\\$&")}function vg(e){switch(e){case 9:case 32:return!0}return!1}function yg(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Sg(e){return Ef.test(e)||Pf.test(e)}function Cg(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function bg(e){return e=e.trim().replace(/\s+/g," "),"\u1e7e"==="\u1e9e".toLowerCase()&&(e=e.replace(/\u1e9e/g,"\xdf")),e.toLowerCase().toUpperCase()}const wg={mdurl:e,ucmicro:t};function Eg(e,t,n){let i,r,o,s;const a=e.posMax,c=e.pos;for(e.pos=t+1,i=1;e.pos<a;){if(o=e.src.charCodeAt(e.pos),93===o&&(i--,0===i)){r=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===o)if(s===e.pos-1)i++;else if(n)return e.pos=c,-1}let l=-1;return r&&(l=e.pos),e.pos=c,l}function Pg(e,t,n){let i,r=t;const o={ok:!1,pos:0,str:""};if(60===e.charCodeAt(r)){for(r++;r<n;){if(i=e.charCodeAt(r),10===i)return o;if(60===i)return o;if(62===i)return o.pos=r+1,o.str=lg(e.slice(t+1,r)),o.ok=!0,o;92===i&&r+1<n?r+=2:r++}return o}let s=0;for(;r<n&&(i=e.charCodeAt(r),32!==i)&&!(i<32||127===i);)if(92===i&&r+1<n){if(32===e.charCodeAt(r+1))break;r+=2}else{if(40===i&&(s++,s>32))return o;if(41===i){if(0===s)break;s--}r++}return t===r||0!==s||(o.str=lg(e.slice(t,r)),o.pos=r,o.ok=!0),o}function Ig(e,t,n,i){let r,o=t;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)s.str=i.str,s.marker=i.marker;else{if(o>=n)return s;let i=e.charCodeAt(o);if(34!==i&&39!==i&&40!==i)return s;t++,o++,40===i&&(i=41),s.marker=i}for(;o<n;){if(r=e.charCodeAt(o),r===s.marker)return s.pos=o+1,s.str+=lg(e.slice(t,o)),s.ok=!0,s;if(40===r&&41===s.marker)return s;92===r&&o+1<n&&o++,o++}return s.can_continue=!0,s.str+=lg(e.slice(t,o)),s}const Ag={};function Tg(){this.rules=tg({},Ag)}Ag.code_inline=function(e,t,n,i,r){const o=e[t];return"<code"+r.renderAttrs(o)+">"+fg(o.content)+"</code>"},Ag.code_block=function(e,t,n,i,r){const o=e[t];return"<pre"+r.renderAttrs(o)+"><code>"+fg(e[t].content)+"</code></pre>\n"},Ag.fence=function(e,t,n,i,r){const o=e[t],s=o.info?lg(o.info).trim():"";let a,c="",l="";if(s){const e=s.split(/(\s+)/g);c=e[0],l=e.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,c,l)||fg(o.content),0===a.indexOf("<pre"))return a+"\n";if(s){const e=o.attrIndex("class"),t=o.attrs?o.attrs.slice():[];e<0?t.push(["class",n.langPrefix+c]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+c);const i={attrs:t};return"<pre><code".concat(r.renderAttrs(i),">").concat(a,"</code></pre>\n")}return"<pre><code".concat(r.renderAttrs(o),">").concat(a,"</code></pre>\n")},Ag.image=function(e,t,n,i,r){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=r.renderInlineAsText(o.children,n,i),r.renderToken(e,t,n)},Ag.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},Ag.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},Ag.text=function(e,t){return fg(e[t].content)},Ag.html_block=function(e,t){return e[t].content},Ag.html_inline=function(e,t){return e[t].content},Tg.prototype.renderAttrs=function(e){let t,n,i;if(!e.attrs)return"";for(i="",t=0,n=e.attrs.length;t<n;t++)i+=" "+fg(e.attrs[t][0])+'="'+fg(e.attrs[t][1])+'"';return i},Tg.prototype.renderToken=function(e,t,n){const i=e[t];let r="";if(i.hidden)return"";i.block&&-1!==i.nesting&&t&&e[t-1].hidden&&(r+="\n"),r+=(-1===i.nesting?"</":"<")+i.tag,r+=this.renderAttrs(i),0===i.nesting&&n.xhtmlOut&&(r+=" /");let o=!1;if(i.block&&(o=!0,1===i.nesting&&t+1<e.length)){const n=e[t+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===i.tag)&&(o=!1)}return r+=o?">\n":">",r},Tg.prototype.renderInline=function(e,t,n){let i="";const r=this.rules;for(let o=0,s=e.length;o<s;o++){const s=e[o].type;"undefined"!==typeof r[s]?i+=r[s](e,o,t,n,this):i+=this.renderToken(e,o,t)}return i},Tg.prototype.renderInlineAsText=function(e,t,n){let i="";for(let r=0,o=e.length;r<o;r++)switch(e[r].type){case"text":case"html_inline":case"html_block":i+=e[r].content;break;case"image":i+=this.renderInlineAsText(e[r].children,t,n);break;case"softbreak":case"hardbreak":i+="\n"}return i},Tg.prototype.render=function(e,t,n){let i="";const r=this.rules;for(let o=0,s=e.length;o<s;o++){const s=e[o].type;"inline"===s?i+=this.renderInline(e[o].children,t,n):"undefined"!==typeof r[s]?i+=r[s](e,o,t,n,this):i+=this.renderToken(e,o,t,n)}return i};const kg=Tg;function Rg(){this.__rules__=[],this.__cache__=null}Rg.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},Rg.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},Rg.prototype.at=function(e,t,n){const i=this.__find__(e),r=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=r.alt||[],this.__cache__=null},Rg.prototype.before=function(e,t,n,i){const r=this.__find__(e),o=i||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Rg.prototype.after=function(e,t,n,i){const r=this.__find__(e),o=i||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Rg.prototype.push=function(e,t,n){const i=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null},Rg.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const i=this.__find__(e);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!0,n.push(e)}),this),this.__cache__=null,n},Rg.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},Rg.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const i=this.__find__(e);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!1,n.push(e)}),this),this.__cache__=null,n},Rg.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]};const _g=Rg;function Dg(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Dg.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,i=t.length;n<i;n++)if(t[n][0]===e)return n;return-1},Dg.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},Dg.prototype.attrSet=function(e,t){const n=this.attrIndex(e),i=[e,t];n<0?this.attrPush(i):this.attrs[n]=i},Dg.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n},Dg.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t};const xg=Dg;function Mg(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}Mg.prototype.Token=xg;const Og=Mg,Ng=/\r\n?|\n/g,Lg=/\0/g;function zg(e){return/^<\/a\s*>/i.test(e)}const Fg=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,qg=/\((c|tm|r)\)/i,Bg=/\((c|tm|r)\)/gi,jg={c:"\xa9",r:"\xae",tm:"\u2122"};function Ug(e,t){return jg[t.toLowerCase()]}function Vg(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];"text"!==i.type||t||(i.content=i.content.replace(Bg,Ug)),"link_open"===i.type&&"auto"===i.info&&t--,"link_close"===i.type&&"auto"===i.info&&t++}}function Hg(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];"text"!==i.type||t||Fg.test(i.content)&&(i.content=i.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1\u2014").replace(/(^|\s)--(?=\s|$)/gm,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1\u2013")),"link_open"===i.type&&"auto"===i.info&&t--,"link_close"===i.type&&"auto"===i.info&&t++}}const Wg=/['"]/,Gg=/['"]/g,Kg="\u2019";function Qg(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function Jg(e,t){let n;const i=[];for(let r=0;r<e.length;r++){const o=e[r],s=e[r].level;for(n=i.length-1;n>=0&&!(i[n].level<=s);n--);if(i.length=n+1,"text"!==o.type)continue;let a=o.content,c=0,l=a.length;e:for(;c<l;){Gg.lastIndex=c;const u=Gg.exec(a);if(!u)break;let d=!0,h=!0;c=u.index+1;const p="'"===u[0];let f=32;if(u.index-1>=0)f=a.charCodeAt(u.index-1);else for(n=r-1;n>=0&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n--)if(e[n].content){f=e[n].content.charCodeAt(e[n].content.length-1);break}let g=32;if(c<l)g=a.charCodeAt(c);else for(n=r+1;n<e.length&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n++)if(e[n].content){g=e[n].content.charCodeAt(0);break}const m=Cg(f)||Sg(String.fromCharCode(f)),v=Cg(g)||Sg(String.fromCharCode(g)),y=yg(f),S=yg(g);if(S?d=!1:v&&(y||m||(d=!1)),y?h=!1:m&&(S||v||(h=!1)),34===g&&'"'===u[0]&&f>=48&&f<=57&&(h=d=!1),d&&h&&(d=m,h=v),d||h){if(h)for(n=i.length-1;n>=0;n--){let d=i[n];if(i[n].level<s)break;if(d.single===p&&i[n].level===s){let s,h;d=i[n],p?(s=t.md.options.quotes[2],h=t.md.options.quotes[3]):(s=t.md.options.quotes[0],h=t.md.options.quotes[1]),o.content=Qg(o.content,u.index,h),e[d.token].content=Qg(e[d.token].content,d.pos,s),c+=h.length-1,d.token===r&&(c+=s.length-1),a=o.content,l=a.length,i.length=n;continue e}}d?i.push({token:r,pos:u.index,single:p,level:s}):h&&p&&(o.content=Qg(o.content,u.index,Kg))}else p&&(o.content=Qg(o.content,u.index,Kg))}}}const Yg=[["normalize",function(e){let t;t=e.src.replace(Ng,"\n"),t=t.replace(Lg,"\ufffd"),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let n=0,i=t.length;n<i;n++){const i=t[n];"inline"===i.type&&e.md.inline.parse(i.content,e.md,e.env,i.children)}}],["linkify",function(e){const t=e.tokens;var n;if(e.md.options.linkify)for(let i=0,r=t.length;i<r;i++){if("inline"!==t[i].type||!e.md.linkify.pretest(t[i].content))continue;let r=t[i].children,o=0;for(let s=r.length-1;s>=0;s--){const a=r[s];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,zg(a.content)&&o++),!(o>0)&&"text"===a.type&&e.md.linkify.test(a.content)){const n=a.content;let o=e.md.linkify.match(n);const c=[];let l=a.level,u=0;o.length>0&&0===o[0].index&&s>0&&"text_special"===r[s-1].type&&(o=o.slice(1));for(let t=0;t<o.length;t++){const i=o[t].url,r=e.md.normalizeLink(i);if(!e.md.validateLink(r))continue;let s=o[t].text;s=o[t].schema?"mailto:"!==o[t].schema||/^mailto:/i.test(s)?e.md.normalizeLinkText(s):e.md.normalizeLinkText("mailto:"+s).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+s).replace(/^http:\/\//,"");const a=o[t].index;if(a>u){const t=new e.Token("text","",0);t.content=n.slice(u,a),t.level=l,c.push(t)}const d=new e.Token("link_open","a",1);d.attrs=[["href",r]],d.level=l++,d.markup="linkify",d.info="auto",c.push(d);const h=new e.Token("text","",0);h.content=s,h.level=l,c.push(h);const p=new e.Token("link_close","a",-1);p.level=--l,p.markup="linkify",p.info="auto",c.push(p),u=o[t].lastIndex}if(u<n.length){const t=new e.Token("text","",0);t.content=n.slice(u),t.level=l,c.push(t)}t[i].children=r=ng(r,s,c)}}else for(s--;r[s].level!==a.level&&"link_open"!==r[s].type;)s--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(qg.test(e.tokens[t].content)&&Vg(e.tokens[t].children),Fg.test(e.tokens[t].content)&&Hg(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&Wg.test(e.tokens[t].content)&&Jg(e.tokens[t].children,e)}],["text_join",function(e){let t,n;const i=e.tokens,r=i.length;for(let o=0;o<r;o++){if("inline"!==i[o].type)continue;const e=i[o].children,r=e.length;for(t=0;t<r;t++)"text_special"===e[t].type&&(e[t].type="text");for(t=n=0;t<r;t++)"text"===e[t].type&&t+1<r&&"text"===e[t+1].type?e[t+1].content=e[t].content+e[t+1].content:(t!==n&&(e[n]=e[t]),n++);t!==n&&(e.length=n)}}]];function $g(){this.ruler=new _g;for(let e=0;e<Yg.length;e++)this.ruler.push(Yg[e][0],Yg[e][1])}$g.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,i=t.length;n<i;n++)t[n](e)},$g.prototype.State=Og;const Xg=$g;function Zg(e,t,n,i){this.src=e,this.md=t,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let o=0,s=0,a=0,c=0,l=r.length,u=!1;s<l;s++){const e=r.charCodeAt(s);if(!u){if(vg(e)){a++,9===e?c+=4-c%4:c++;continue}u=!0}10!==e&&s!==l-1||(10!==e&&s++,this.bMarks.push(o),this.eMarks.push(s),this.tShift.push(a),this.sCount.push(c),this.bsCount.push(0),u=!1,a=0,c=0,o=s+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Zg.prototype.push=function(e,t,n){const i=new xg(e,t,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i},Zg.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},Zg.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},Zg.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){if(!vg(this.src.charCodeAt(e)))break}return e},Zg.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!vg(this.src.charCodeAt(--e)))return e+1;return e},Zg.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},Zg.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},Zg.prototype.getLines=function(e,t,n,i){if(e>=t)return"";const r=new Array(t-e);for(let o=0,s=e;s<t;s++,o++){let e=0;const a=this.bMarks[s];let c,l=a;for(c=s+1<t||i?this.eMarks[s]+1:this.eMarks[s];l<c&&e<n;){const t=this.src.charCodeAt(l);if(vg(t))9===t?e+=4-(e+this.bsCount[s])%4:e++;else{if(!(l-a<this.tShift[s]))break;e++}l++}r[o]=e>n?new Array(e-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return r.join("")},Zg.prototype.Token=xg;const em=Zg;function tm(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.slice(n,i)}function nm(e){const t=[],n=e.length;let i=0,r=e.charCodeAt(i),o=!1,s=0,a="";for(;i<n;)124===r&&(o?(a+=e.substring(s,i-1),s=i):(t.push(a+e.substring(s,i)),a="",s=i+1)),o=92===r,i++,r=e.charCodeAt(i);return t.push(a+e.substring(s)),t}function im(e,t){const n=e.eMarks[t];let i=e.bMarks[t]+e.tShift[t];const r=e.src.charCodeAt(i++);if(42!==r&&45!==r&&43!==r)return-1;if(i<n){if(!vg(e.src.charCodeAt(i)))return-1}return i}function rm(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];let r=n;if(r+1>=i)return-1;let o=e.src.charCodeAt(r++);if(o<48||o>57)return-1;for(;;){if(r>=i)return-1;if(o=e.src.charCodeAt(r++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(r-n>=10)return-1}return r<i&&(o=e.src.charCodeAt(r),!vg(o))?-1:r}const om="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",sm="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",am=new RegExp("^(?:"+om+"|"+sm+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),cm=new RegExp("^(?:"+om+"|"+sm+")"),lm=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(cm.source+"\\s*$"),/^$/,!1]];const um=[["table",function(e,t,n,i){if(t+2>n)return!1;let r=t+1;if(e.sCount[r]<e.blkIndent)return!1;if(e.sCount[r]-e.blkIndent>=4)return!1;let o=e.bMarks[r]+e.tShift[r];if(o>=e.eMarks[r])return!1;const s=e.src.charCodeAt(o++);if(124!==s&&45!==s&&58!==s)return!1;if(o>=e.eMarks[r])return!1;const a=e.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!vg(a))return!1;if(45===s&&vg(a))return!1;for(;o<e.eMarks[r];){const t=e.src.charCodeAt(o);if(124!==t&&45!==t&&58!==t&&!vg(t))return!1;o++}let c=tm(e,t+1),l=c.split("|");const u=[];for(let v=0;v<l.length;v++){const e=l[v].trim();if(!e){if(0===v||v===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?u.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?u.push("left"):u.push("")}if(c=tm(e,t).trim(),-1===c.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;l=nm(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop();const d=l.length;if(0===d||d!==u.length)return!1;if(i)return!0;const h=e.parentType;e.parentType="table";const p=e.md.block.ruler.getRules("blockquote"),f=[t,0];e.push("table_open","table",1).map=f,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let v=0;v<l.length;v++){const t=e.push("th_open","th",1);u[v]&&(t.attrs=[["style","text-align:"+u[v]]]);const n=e.push("inline","",0);n.content=l[v].trim(),n.children=[],e.push("th_close","th",-1)}let g;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let m=0;for(r=t+2;r<n&&!(e.sCount[r]<e.blkIndent);r++){let i=!1;for(let t=0,o=p.length;t<o;t++)if(p[t](e,r,n,!0)){i=!0;break}if(i)break;if(c=tm(e,r).trim(),!c)break;if(e.sCount[r]-e.blkIndent>=4)break;if(l=nm(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop(),m+=d-l.length,m>65536)break;if(r===t+2){e.push("tbody_open","tbody",1).map=g=[t+2,0]}e.push("tr_open","tr",1).map=[r,r+1];for(let t=0;t<d;t++){const n=e.push("td_open","td",1);u[t]&&(n.attrs=[["style","text-align:"+u[t]]]);const i=e.push("inline","",0);i.content=l[t]?l[t].trim():"",i.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return g&&(e.push("tbody_close","tbody",-1),g[1]=r),e.push("table_close","table",-1),f[1]=r,e.parentType=h,e.line=r,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let i=t+1,r=i;for(;i<n;)if(e.isEmpty(i))i++;else{if(!(e.sCount[i]-e.blkIndent>=4))break;i++,r=i}e.line=r;const o=e.push("code_block","code",0);return o.content=e.getLines(t,r,4+e.blkIndent,!1)+"\n",o.map=[t,e.line],!0}],["fence",function(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(r+3>o)return!1;const s=e.src.charCodeAt(r);if(126!==s&&96!==s)return!1;let a=r;r=e.skipChars(r,s);let c=r-a;if(c<3)return!1;const l=e.src.slice(a,r),u=e.src.slice(r,o);if(96===s&&u.indexOf(String.fromCharCode(s))>=0)return!1;if(i)return!0;let d=t,h=!1;for(;(d++,!(d>=n))&&(r=a=e.bMarks[d]+e.tShift[d],o=e.eMarks[d],!(r<o&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(r)===s&&!(e.sCount[d]-e.blkIndent>=4)&&(r=e.skipChars(r,s),!(r-a<c)&&(r=e.skipSpaces(r),!(r<o)))){h=!0;break}c=e.sCount[t],e.line=d+(h?1:0);const p=e.push("fence","code",0);return p.info=u,p.content=e.getLines(t+1,d,c,!0),p.markup=l,p.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const s=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(r))return!1;if(i)return!0;const a=[],c=[],l=[],u=[],d=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let p,f=!1;for(p=t;p<n;p++){const t=e.sCount[p]<e.blkIndent;if(r=e.bMarks[p]+e.tShift[p],o=e.eMarks[p],r>=o)break;if(62===e.src.charCodeAt(r++)&&!t){let t,n,i=e.sCount[p]+1;32===e.src.charCodeAt(r)?(r++,i++,n=!1,t=!0):9===e.src.charCodeAt(r)?(t=!0,(e.bsCount[p]+i)%4===3?(r++,i++,n=!1):n=!0):t=!1;let s=i;for(a.push(e.bMarks[p]),e.bMarks[p]=r;r<o;){const t=e.src.charCodeAt(r);if(!vg(t))break;9===t?s+=4-(s+e.bsCount[p]+(n?1:0))%4:s++,r++}f=r>=o,c.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(t?1:0),l.push(e.sCount[p]),e.sCount[p]=s-i,u.push(e.tShift[p]),e.tShift[p]=r-e.bMarks[p];continue}if(f)break;let i=!1;for(let r=0,o=d.length;r<o;r++)if(d[r](e,p,n,!0)){i=!0;break}if(i){e.lineMax=p,0!==e.blkIndent&&(a.push(e.bMarks[p]),c.push(e.bsCount[p]),u.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}a.push(e.bMarks[p]),c.push(e.bsCount[p]),u.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]=-1}const g=e.blkIndent;e.blkIndent=0;const m=e.push("blockquote_open","blockquote",1);m.markup=">";const v=[t,0];m.map=v,e.md.block.tokenize(e,t,p),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=s,e.parentType=h,v[1]=e.line;for(let y=0;y<u.length;y++)e.bMarks[y+t]=a[y],e.tShift[y+t]=u[y],e.sCount[y+t]=l[y],e.bsCount[y+t]=c[y];return e.blkIndent=g,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,i){const r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(o++);if(42!==s&&45!==s&&95!==s)return!1;let a=1;for(;o<r;){const t=e.src.charCodeAt(o++);if(t!==s&&!vg(t))return!1;t===s&&a++}if(a<3)return!1;if(i)return!0;e.line=t+1;const c=e.push("hr","hr",0);return c.map=[t,e.line],c.markup=Array(a+1).join(String.fromCharCode(s)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,i){let r,o,s,a,c=t,l=!0;if(e.sCount[c]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[c]-e.listIndent>=4&&e.sCount[c]<e.blkIndent)return!1;let u,d,h,p=!1;if(i&&"paragraph"===e.parentType&&e.sCount[c]>=e.blkIndent&&(p=!0),(h=rm(e,c))>=0){if(u=!0,s=e.bMarks[c]+e.tShift[c],d=Number(e.src.slice(s,h-1)),p&&1!==d)return!1}else{if(!((h=im(e,c))>=0))return!1;u=!1}if(p&&e.skipSpaces(h)>=e.eMarks[c])return!1;if(i)return!0;const f=e.src.charCodeAt(h-1),g=e.tokens.length;u?(a=e.push("ordered_list_open","ol",1),1!==d&&(a.attrs=[["start",d]])):a=e.push("bullet_list_open","ul",1);const m=[c,0];a.map=m,a.markup=String.fromCharCode(f);let v=!1;const y=e.md.block.ruler.getRules("list"),S=e.parentType;for(e.parentType="list";c<n;){o=h,r=e.eMarks[c];const t=e.sCount[c]+h-(e.bMarks[c]+e.tShift[c]);let i=t;for(;o<r;){const t=e.src.charCodeAt(o);if(9===t)i+=4-(i+e.bsCount[c])%4;else{if(32!==t)break;i++}o++}const d=o;let p;p=d>=r?1:i-t,p>4&&(p=1);const g=t+p;a=e.push("list_item_open","li",1),a.markup=String.fromCharCode(f);const m=[c,0];a.map=m,u&&(a.info=e.src.slice(s,h-1));const S=e.tight,C=e.tShift[c],b=e.sCount[c],w=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=g,e.tight=!0,e.tShift[c]=d-e.bMarks[c],e.sCount[c]=i,d>=r&&e.isEmpty(c+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,c,n,!0),e.tight&&!v||(l=!1),v=e.line-c>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=w,e.tShift[c]=C,e.sCount[c]=b,e.tight=S,a=e.push("list_item_close","li",-1),a.markup=String.fromCharCode(f),c=e.line,m[1]=c,c>=n)break;if(e.sCount[c]<e.blkIndent)break;if(e.sCount[c]-e.blkIndent>=4)break;let E=!1;for(let r=0,o=y.length;r<o;r++)if(y[r](e,c,n,!0)){E=!0;break}if(E)break;if(u){if(h=rm(e,c),h<0)break;s=e.bMarks[c]+e.tShift[c]}else if(h=im(e,c),h<0)break;if(f!==e.src.charCodeAt(h-1))break}return a=u?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(f),m[1]=c,e.line=c,e.parentType=S,l&&function(e,t){const n=e.level+2;for(let i=t+2,r=e.tokens.length-2;i<r;i++)e.tokens[i].level===n&&"paragraph_open"===e.tokens[i].type&&(e.tokens[i+2].hidden=!0,e.tokens[i].hidden=!0,i+=2)}(e,g),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],s=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(r))return!1;function a(t){const n=e.lineMax;if(t>=n||e.isEmpty(t))return null;let i=!1;if(e.sCount[t]-e.blkIndent>3&&(i=!0),e.sCount[t]<0&&(i=!0),!i){const i=e.md.block.ruler.getRules("reference"),r=e.parentType;e.parentType="reference";let o=!1;for(let s=0,a=i.length;s<a;s++)if(i[s](e,t,n,!0)){o=!0;break}if(e.parentType=r,o)return null}const r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(r,o+1)}let c=e.src.slice(r,o+1);o=c.length;let l=-1;for(r=1;r<o;r++){const e=c.charCodeAt(r);if(91===e)return!1;if(93===e){l=r;break}if(10===e){const e=a(s);null!==e&&(c+=e,o=c.length,s++)}else if(92===e&&(r++,r<o&&10===c.charCodeAt(r))){const e=a(s);null!==e&&(c+=e,o=c.length,s++)}}if(l<0||58!==c.charCodeAt(l+1))return!1;for(r=l+2;r<o;r++){const e=c.charCodeAt(r);if(10===e){const e=a(s);null!==e&&(c+=e,o=c.length,s++)}else if(!vg(e))break}const u=e.md.helpers.parseLinkDestination(c,r,o);if(!u.ok)return!1;const d=e.md.normalizeLink(u.str);if(!e.md.validateLink(d))return!1;r=u.pos;const h=r,p=s,f=r;for(;r<o;r++){const e=c.charCodeAt(r);if(10===e){const e=a(s);null!==e&&(c+=e,o=c.length,s++)}else if(!vg(e))break}let g,m=e.md.helpers.parseLinkTitle(c,r,o);for(;m.can_continue;){const t=a(s);if(null===t)break;c+=t,r=o,o=c.length,s++,m=e.md.helpers.parseLinkTitle(c,r,o,m)}for(r<o&&f!==r&&m.ok?(g=m.str,r=m.pos):(g="",r=h,s=p);r<o;){if(!vg(c.charCodeAt(r)))break;r++}if(r<o&&10!==c.charCodeAt(r)&&g)for(g="",r=h,s=p;r<o;){if(!vg(c.charCodeAt(r)))break;r++}if(r<o&&10!==c.charCodeAt(r))return!1;const v=bg(c.slice(1,l));return!!v&&(i||("undefined"===typeof e.env.references&&(e.env.references={}),"undefined"===typeof e.env.references[v]&&(e.env.references[v]={title:g,href:d}),e.line=s),!0)}],["html_block",function(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(r))return!1;let s=e.src.slice(r,o),a=0;for(;a<lm.length&&!lm[a][0].test(s);a++);if(a===lm.length)return!1;if(i)return lm[a][2];let c=t+1;if(!lm[a][1].test(s))for(;c<n&&!(e.sCount[c]<e.blkIndent);c++)if(r=e.bMarks[c]+e.tShift[c],o=e.eMarks[c],s=e.src.slice(r,o),lm[a][1].test(s)){0!==s.length&&c++;break}e.line=c;const l=e.push("html_block","",0);return l.map=[t,c],l.content=e.getLines(t,c,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.src.charCodeAt(r);if(35!==s||r>=o)return!1;let a=1;for(s=e.src.charCodeAt(++r);35===s&&r<o&&a<=6;)a++,s=e.src.charCodeAt(++r);if(a>6||r<o&&!vg(s))return!1;if(i)return!0;o=e.skipSpacesBack(o,r);const c=e.skipCharsBack(o,35,r);c>r&&vg(e.src.charCodeAt(c-1))&&(o=c),e.line=t+1;const l=e.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[t,e.line];const u=e.push("inline","",0);return u.content=e.src.slice(r,o).trim(),u.map=[t,e.line],u.children=[],e.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){const i=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const r=e.parentType;e.parentType="paragraph";let o,s=0,a=t+1;for(;a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]>=e.blkIndent){let t=e.bMarks[a]+e.tShift[a];const n=e.eMarks[a];if(t<n&&(o=e.src.charCodeAt(t),(45===o||61===o)&&(t=e.skipChars(t,o),t=e.skipSpaces(t),t>=n))){s=61===o?1:2;break}}if(e.sCount[a]<0)continue;let t=!1;for(let r=0,o=i.length;r<o;r++)if(i[r](e,a,n,!0)){t=!0;break}if(t)break}if(!s)return!1;const c=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a+1;const l=e.push("heading_open","h"+String(s),1);l.markup=String.fromCharCode(o),l.map=[t,e.line];const u=e.push("inline","",0);return u.content=c,u.map=[t,e.line-1],u.children=[],e.push("heading_close","h"+String(s),-1).markup=String.fromCharCode(o),e.parentType=r,!0}],["paragraph",function(e,t,n){const i=e.md.block.ruler.getRules("paragraph"),r=e.parentType;let o=t+1;for(e.parentType="paragraph";o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3)continue;if(e.sCount[o]<0)continue;let t=!1;for(let r=0,s=i.length;r<s;r++)if(i[r](e,o,n,!0)){t=!0;break}if(t)break}const s=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o,e.push("paragraph_open","p",1).map=[t,e.line];const a=e.push("inline","",0);return a.content=s,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=r,!0}]];function dm(){this.ruler=new _g;for(let e=0;e<um.length;e++)this.ruler.push(um[e][0],um[e][1],{alt:(um[e][2]||[]).slice()})}dm.prototype.tokenize=function(e,t,n){const i=this.ruler.getRules(""),r=i.length,o=e.md.options.maxNesting;let s=t,a=!1;for(;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=o){e.line=n;break}const t=e.line;let c=!1;for(let o=0;o<r;o++)if(c=i[o](e,s,n,!1),c){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),s=e.line,s<n&&e.isEmpty(s)&&(a=!0,s++,e.line=s)}},dm.prototype.parse=function(e,t,n,i){if(!e)return;const r=new this.State(e,t,n,i);this.tokenize(r,r.line,r.lineMax)},dm.prototype.State=em;const hm=dm;function pm(e,t,n,i){this.src=e,this.env=n,this.md=t,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}pm.prototype.pushPending=function(){const e=new xg("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},pm.prototype.push=function(e,t,n){this.pending&&this.pushPending();const i=new xg(e,t,n);let r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(r),i},pm.prototype.scanDelims=function(e,t){const n=this.posMax,i=this.src.charCodeAt(e),r=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<n&&this.src.charCodeAt(o)===i;)o++;const s=o-e,a=o<n?this.src.charCodeAt(o):32,c=Cg(r)||Sg(String.fromCharCode(r)),l=Cg(a)||Sg(String.fromCharCode(a)),u=yg(r),d=yg(a),h=!d&&(!l||u||c),p=!u&&(!c||d||l);return{can_open:h&&(t||!p||c),can_close:p&&(t||!h||l),length:s}},pm.prototype.Token=xg;const fm=pm;function gm(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}const mm=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const vm=[];for(let n=0;n<256;n++)vm.push(0);function ym(e,t){let n;const i=[],r=t.length;for(let o=0;o<r;o++){const r=t[o];if(126!==r.marker)continue;if(-1===r.end)continue;const s=t[r.end];n=e.tokens[r.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[s.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[s.token-1].type&&"~"===e.tokens[s.token-1].content&&i.push(s.token-1)}for(;i.length;){const t=i.pop();let r=t+1;for(;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;r--,t!==r&&(n=e.tokens[r],e.tokens[r]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){vm[e.charCodeAt(0)]=1}));const Sm={tokenize:function(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t)return!1;if(126!==i)return!1;const r=e.scanDelims(e.pos,!0);let o=r.length;const s=String.fromCharCode(i);if(o<2)return!1;let a;o%2&&(a=e.push("text","",0),a.content=s,o--);for(let c=0;c<o;c+=2)a=e.push("text","",0),a.content=s+s,e.delimiters.push({marker:i,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;ym(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&ym(e,t[i].delimiters)}};function Cm(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];if(95!==i.marker&&42!==i.marker)continue;if(-1===i.end)continue;const r=t[i.end],o=n>0&&t[n-1].end===i.end+1&&t[n-1].marker===i.marker&&t[n-1].token===i.token-1&&t[i.end+1].token===r.token+1,s=String.fromCharCode(i.marker),a=e.tokens[i.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?s+s:s,a.content="";const c=e.tokens[r.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?s+s:s,c.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[i.end+1].token].content="",n--)}}const bm={tokenize:function(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t)return!1;if(95!==i&&42!==i)return!1;const r=e.scanDelims(e.pos,42===i);for(let o=0;o<r.length;o++){e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return e.pos+=r.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Cm(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&Cm(e,t[i].delimiters)}};const wm=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Em=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const Pm=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Im=/^&([a-z][a-z0-9]{1,31});/i;function Am(e){const t={},n=e.length;if(!n)return;let i=0,r=-2;const o=[];for(let s=0;s<n;s++){const n=e[s];if(o.push(0),e[i].marker===n.marker&&r===n.token-1||(i=s),r=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[n.marker][(n.open?3:0)+n.length%3];let c=i-o[i]-1,l=c;for(;c>a;c-=o[c]+1){const t=e[c];if(t.marker===n.marker&&(t.open&&t.end<0)){let i=!1;if((t.close||n.open)&&(t.length+n.length)%3===0&&(t.length%3===0&&n.length%3===0||(i=!0)),!i){const i=c>0&&!e[c-1].open?o[c-1]+1:0;o[s]=s-c+i,o[c]=i,n.open=!1,t.end=s,t.close=!1,l=-1,r=-2;break}}}-1!==l&&(t[n.marker][(n.open?3:0)+(n.length||0)%3]=l)}}const Tm=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!gm(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const n=e.pos;if(n+3>e.posMax)return!1;if(58!==e.src.charCodeAt(n))return!1;if(47!==e.src.charCodeAt(n+1))return!1;if(47!==e.src.charCodeAt(n+2))return!1;const i=e.pending.match(mm);if(!i)return!1;const r=i[1],o=e.md.linkify.matchAtStart(e.src.slice(n-r.length));if(!o)return!1;let s=o.url;if(s.length<=r.length)return!1;s=s.replace(/\*+$/,"");const a=e.md.normalizeLink(s);if(!e.md.validateLink(a))return!1;if(!t){e.pending=e.pending.slice(0,-r.length);const t=e.push("link_open","a",1);t.attrs=[["href",a]],t.markup="linkify",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(s);const n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=s.length-r.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;const i=e.pending.length-1,r=e.posMax;if(!t)if(i>=0&&32===e.pending.charCodeAt(i))if(i>=1&&32===e.pending.charCodeAt(i-1)){let t=i-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<r&&vg(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos;const i=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n>=i)return!1;let r=e.src.charCodeAt(n);if(10===r){for(t||e.push("hardbreak","br",0),n++;n<i&&(r=e.src.charCodeAt(n),vg(r));)n++;return e.pos=n,!0}let o=e.src[n];if(r>=55296&&r<=56319&&n+1<i){const t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(o+=e.src[n+1],n++)}const s="\\"+o;if(!t){const t=e.push("text_special","",0);r<256&&0!==vm[r]?t.content=o:t.content=s,t.markup=s,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n=e.pos;if(96!==e.src.charCodeAt(n))return!1;const i=n;n++;const r=e.posMax;for(;n<r&&96===e.src.charCodeAt(n);)n++;const o=e.src.slice(i,n),s=o.length;if(e.backticksScanned&&(e.backticks[s]||0)<=i)return t||(e.pending+=o),e.pos+=s,!0;let a,c=n;for(;-1!==(a=e.src.indexOf("`",c));){for(c=a+1;c<r&&96===e.src.charCodeAt(c);)c++;const i=c-a;if(i===s){if(!t){const t=e.push("code_inline","code",0);t.markup=o,t.content=e.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=c,!0}e.backticks[i]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=s,!0}],["strikethrough",Sm.tokenize],["emphasis",bm.tokenize],["link",function(e,t){let n,i,r,o,s="",a="",c=e.pos,l=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const u=e.pos,d=e.posMax,h=e.pos+1,p=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(p<0)return!1;let f=p+1;if(f<d&&40===e.src.charCodeAt(f)){for(l=!1,f++;f<d&&(n=e.src.charCodeAt(f),vg(n)||10===n);f++);if(f>=d)return!1;if(c=f,r=e.md.helpers.parseLinkDestination(e.src,f,e.posMax),r.ok){for(s=e.md.normalizeLink(r.str),e.md.validateLink(s)?f=r.pos:s="",c=f;f<d&&(n=e.src.charCodeAt(f),vg(n)||10===n);f++);if(r=e.md.helpers.parseLinkTitle(e.src,f,e.posMax),f<d&&c!==f&&r.ok)for(a=r.str,f=r.pos;f<d&&(n=e.src.charCodeAt(f),vg(n)||10===n);f++);}(f>=d||41!==e.src.charCodeAt(f))&&(l=!0),f++}if(l){if("undefined"===typeof e.env.references)return!1;if(f<d&&91===e.src.charCodeAt(f)?(c=f+1,f=e.md.helpers.parseLinkLabel(e,f),f>=0?i=e.src.slice(c,f++):f=p+1):f=p+1,i||(i=e.src.slice(h,p)),o=e.env.references[bg(i)],!o)return e.pos=u,!1;s=o.href,a=o.title}if(!t){e.pos=h,e.posMax=p;const t=[["href",s]];e.push("link_open","a",1).attrs=t,a&&t.push(["title",a]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=f,e.posMax=d,!0}],["image",function(e,t){let n,i,r,o,s,a,c,l,u="";const d=e.pos,h=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const p=e.pos+2,f=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(f<0)return!1;if(o=f+1,o<h&&40===e.src.charCodeAt(o)){for(o++;o<h&&(n=e.src.charCodeAt(o),vg(n)||10===n);o++);if(o>=h)return!1;for(l=o,a=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),a.ok&&(u=e.md.normalizeLink(a.str),e.md.validateLink(u)?o=a.pos:u=""),l=o;o<h&&(n=e.src.charCodeAt(o),vg(n)||10===n);o++);if(a=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<h&&l!==o&&a.ok)for(c=a.str,o=a.pos;o<h&&(n=e.src.charCodeAt(o),vg(n)||10===n);o++);else c="";if(o>=h||41!==e.src.charCodeAt(o))return e.pos=d,!1;o++}else{if("undefined"===typeof e.env.references)return!1;if(o<h&&91===e.src.charCodeAt(o)?(l=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?r=e.src.slice(l,o++):o=f+1):o=f+1,r||(r=e.src.slice(p,f)),s=e.env.references[bg(r)],!s)return e.pos=d,!1;u=s.href,c=s.title}if(!t){i=e.src.slice(p,f);const t=[];e.md.inline.parse(i,e.md,e.env,t);const n=e.push("image","img",0),r=[["src",u],["alt",""]];n.attrs=r,n.children=t,n.content=i,c&&r.push(["title",c])}return e.pos=o,e.posMax=h,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;const i=e.pos,r=e.posMax;for(;;){if(++n>=r)return!1;const t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}const o=e.src.slice(i+1,n);if(Em.test(o)){const n=e.md.normalizeLink(o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const i=e.push("link_close","a",-1);i.markup="autolink",i.info="auto"}return e.pos+=o.length+2,!0}if(wm.test(o)){const n=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const i=e.push("link_close","a",-1);i.markup="autolink",i.info="auto"}return e.pos+=o.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const n=e.posMax,i=e.pos;if(60!==e.src.charCodeAt(i)||i+2>=n)return!1;const r=e.src.charCodeAt(i+1);if(33!==r&&63!==r&&47!==r&&!function(e){const t=32|e;return t>=97&&t<=122}(r))return!1;const o=e.src.slice(i).match(am);if(!o)return!1;if(!t){const t=e.push("html_inline","",0);t.content=o[0],s=t.content,/^<a[>\s]/i.test(s)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(t.content)&&e.linkLevel--}var s;return e.pos+=o[0].length,!0}],["entity",function(e,t){const n=e.pos,i=e.posMax;if(38!==e.src.charCodeAt(n))return!1;if(n+1>=i)return!1;if(35===e.src.charCodeAt(n+1)){const i=e.src.slice(n).match(Pm);if(i){if(!t){const t="x"===i[1][0].toLowerCase()?parseInt(i[1].slice(1),16):parseInt(i[1],10),n=e.push("text_special","",0);n.content=ig(t)?rg(t):rg(65533),n.markup=i[0],n.info="entity"}return e.pos+=i[0].length,!0}}else{const i=e.src.slice(n).match(Im);if(i){const n=Gf(i[0]);if(n!==i[0]){if(!t){const t=e.push("text_special","",0);t.content=n,t.markup=i[0],t.info="entity"}return e.pos+=i[0].length,!0}}}return!1}]],km=[["balance_pairs",function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Am(e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&Am(t[i].delimiters)}],["strikethrough",Sm.postProcess],["emphasis",bm.postProcess],["fragments_join",function(e){let t,n,i=0;const r=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)r[t].nesting<0&&i--,r[t].level=i,r[t].nesting>0&&i++,"text"===r[t].type&&t+1<o&&"text"===r[t+1].type?r[t+1].content=r[t].content+r[t+1].content:(t!==n&&(r[n]=r[t]),n++);t!==n&&(r.length=n)}]];function Rm(){this.ruler=new _g;for(let e=0;e<Tm.length;e++)this.ruler.push(Tm[e][0],Tm[e][1]);this.ruler2=new _g;for(let e=0;e<km.length;e++)this.ruler2.push(km[e][0],km[e][1])}Rm.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),i=n.length,r=e.md.options.maxNesting,o=e.cache;if("undefined"!==typeof o[t])return void(e.pos=o[t]);let s=!1;if(e.level<r){for(let a=0;a<i;a++)if(e.level++,s=n[a](e,!0),e.level--,s){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;s||e.pos++,o[t]=e.pos},Rm.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,i=e.posMax,r=e.md.options.maxNesting;for(;e.pos<i;){const o=e.pos;let s=!1;if(e.level<r)for(let i=0;i<n;i++)if(s=t[i](e,!1),s){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(s){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Rm.prototype.parse=function(e,t,n,i){const r=new this.State(e,t,n,i);this.tokenize(r);const o=this.ruler2.getRules(""),s=o.length;for(let a=0;a<s;a++)o[a](r)},Rm.prototype.State=fm;const _m=Rm;function Dm(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function xm(e){return Object.prototype.toString.call(e)}function Mm(e){return"[object Function]"===xm(e)}function Om(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Nm={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const Lm={"http:":{validate:function(e,t,n){const i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},zm="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Fm="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function qm(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=If.source,t.src_Cc=Af.source,t.src_Z=kf.source,t.src_P=Ef.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><\uff5c]";return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function i(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push(zm),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(i(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(i(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(i(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(i(t.tpl_host_fuzzy_test),"i");const r=[];function o(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){const n=e.__schemas__[t];if(null===n)return;const i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===xm(n))return!function(e){return"[object RegExp]"===xm(e)}(n.validate)?Mm(n.validate)?i.validate=n.validate:o(t,n):i.validate=function(e){return function(t,n){const i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}(n.validate),void(Mm(n.normalize)?i.normalize=n.normalize:n.normalize?o(t,n):i.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===xm(e)}(n)?o(t,n):r.push(t)})),r.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const s=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(Om).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function Bm(e,t){const n=e.__index__,i=e.__last_index__,r=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=r,this.text=r,this.url=r}function jm(e,t){const n=new Bm(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Um(e,t){if(!(this instanceof Um))return new Um(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||Nm.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=Dm({},Nm,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Dm({},Lm,e),this.__compiled__={},this.__tlds__=Fm,this.__tlds_replaced__=!1,this.re={},qm(this)}Um.prototype.add=function(e,t){return this.__schemas__[e]=t,qm(this),this},Um.prototype.set=function(e){return this.__opts__=Dm(this.__opts__,e),this},Um.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,i,r,o,s,a,c,l;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(r=this.testSchemaAt(e,t[2],a.lastIndex),r){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&null!==(i=e.match(this.re.email_fuzzy))&&(o=i.index+i[1].length,s=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s))),this.__index__>=0},Um.prototype.pretest=function(e){return this.re.pretest.test(e)},Um.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},Um.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(jm(this,n)),n=this.__last_index__);let i=n?e.slice(n):e;for(;this.test(i);)t.push(jm(this,n)),i=i.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},Um.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,jm(this,0)):null},Um.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),qm(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,qm(this),this)},Um.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},Um.prototype.onCompile=function(){};const Vm=Um,Hm=2147483647,Wm=36,Gm=/^xn--/,Km=/[^\0-\x7F]/,Qm=/[\x2E\u3002\uFF0E\uFF61]/g,Jm={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ym=Math.floor,$m=String.fromCharCode;function Xm(e){throw new RangeError(Jm[e])}function Zm(e,t){const n=e.split("@");let i="";n.length>1&&(i=n[0]+"@",e=n[1]);const r=function(e,t){const n=[];let i=e.length;for(;i--;)n[i]=t(e[i]);return n}((e=e.replace(Qm,".")).split("."),t).join(".");return i+r}function ev(e){const t=[];let n=0;const i=e.length;for(;n<i;){const r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t}const tv=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},nv=function(e,t,n){let i=0;for(e=n?Ym(e/700):e>>1,e+=Ym(e/t);e>455;i+=Wm)e=Ym(e/35);return Ym(i+36*e/(e+38))},iv=function(e){const t=[],n=e.length;let i=0,r=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let c=0;c<s;++c)e.charCodeAt(c)>=128&&Xm("not-basic"),t.push(e.charCodeAt(c));for(let c=s>0?s+1:0;c<n;){const s=i;for(let t=1,r=Wm;;r+=Wm){c>=n&&Xm("invalid-input");const s=(a=e.charCodeAt(c++))>=48&&a<58?a-48+26:a>=65&&a<91?a-65:a>=97&&a<123?a-97:Wm;s>=Wm&&Xm("invalid-input"),s>Ym((Hm-i)/t)&&Xm("overflow"),i+=s*t;const l=r<=o?1:r>=o+26?26:r-o;if(s<l)break;const u=Wm-l;t>Ym(Hm/u)&&Xm("overflow"),t*=u}const l=t.length+1;o=nv(i-s,l,0==s),Ym(i/l)>Hm-r&&Xm("overflow"),r+=Ym(i/l),i%=l,t.splice(i++,0,r)}var a;return String.fromCodePoint(...t)},rv=function(e){const t=[],n=(e=ev(e)).length;let i=128,r=0,o=72;for(const c of e)c<128&&t.push($m(c));const s=t.length;let a=s;for(s&&t.push("-");a<n;){let n=Hm;for(const t of e)t>=i&&t<n&&(n=t);const c=a+1;n-i>Ym((Hm-r)/c)&&Xm("overflow"),r+=(n-i)*c,i=n;for(const l of e)if(l<i&&++r>Hm&&Xm("overflow"),l===i){let e=r;for(let n=Wm;;n+=Wm){const i=n<=o?1:n>=o+26?26:n-o;if(e<i)break;const r=e-i,s=Wm-i;t.push($m(tv(i+r%s,0))),e=Ym(r/s)}t.push($m(tv(e,0))),o=nv(r,c,a===s),r=0,++a}++r,++i}return t.join("")},ov={version:"2.3.1",ucs2:{decode:ev,encode:e=>String.fromCodePoint(...e)},decode:iv,encode:rv,toASCII:function(e){return Zm(e,(function(e){return Km.test(e)?"xn--"+rv(e):e}))},toUnicode:function(e){return Zm(e,(function(e){return Gm.test(e)?iv(e.slice(4).toLowerCase()):e}))}},sv=ov,av={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},cv=/^(vbscript|javascript|file|data):/,lv=/^data:image\/(gif|png|jpeg|webp);/;function uv(e){const t=e.trim().toLowerCase();return!cv.test(t)||lv.test(t)}const dv=["http:","https:","mailto:"];function hv(e){const t=wf(e,!0);if(t.hostname&&(!t.protocol||dv.indexOf(t.protocol)>=0))try{t.hostname=sv.toASCII(t.hostname)}catch(n){}return cf(lf(t))}function pv(e){const t=wf(e,!0);if(t.hostname&&(!t.protocol||dv.indexOf(t.protocol)>=0))try{t.hostname=sv.toUnicode(t.hostname)}catch(n){}return of(lf(t),of.defaultChars+"%")}function fv(e,t){if(!(this instanceof fv))return new fv(e,t);t||Xf(e)||(t=e||{},e="default"),this.inline=new _m,this.block=new hm,this.core=new Xg,this.renderer=new kg,this.linkify=new Vm,this.validateLink=uv,this.normalizeLink=hv,this.normalizeLinkText=pv,this.utils=i,this.helpers=tg({},r),this.options={},this.configure(e),t&&this.set(t)}fv.prototype.set=function(e){return tg(this.options,e),this},fv.prototype.configure=function(e){const t=this;if(Xf(e)){const t=e;if(!(e=av[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)})),this},fv.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));const i=e.filter((function(e){return n.indexOf(e)<0}));if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this},fv.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));const i=e.filter((function(e){return n.indexOf(e)<0}));if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this},fv.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},fv.prototype.parse=function(e,t){if("string"!==typeof e)throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},fv.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},fv.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},fv.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const gv=fv;function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mv.apply(null,arguments)}function vv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yv(e,t){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yv(e,t)}function Sv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yv(e,t)}var Cv,bv=new Uint8Array(16);function wv(){if(!Cv&&!(Cv="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cv(bv)}const Ev=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const Pv=function(e){return"string"===typeof e&&Ev.test(e)};for(var Iv=[],Av=0;Av<256;++Av)Iv.push((Av+256).toString(16).substr(1));const Tv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Iv[e[t+0]]+Iv[e[t+1]]+Iv[e[t+2]]+Iv[e[t+3]]+"-"+Iv[e[t+4]]+Iv[e[t+5]]+"-"+Iv[e[t+6]]+Iv[e[t+7]]+"-"+Iv[e[t+8]]+Iv[e[t+9]]+"-"+Iv[e[t+10]]+Iv[e[t+11]]+Iv[e[t+12]]+Iv[e[t+13]]+Iv[e[t+14]]+Iv[e[t+15]]).toLowerCase();if(!Pv(n))throw TypeError("Stringified UUID is invalid");return n};const kv=function(e,t,n){var i=(e=e||{}).random||(e.rng||wv)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return Tv(i)};function Rv(e){return a.createElement("i",{className:"rmel-iconfont rmel-icon-"+e.type})}function _v(e){return a.createElement("div",{className:"rc-md-navigation "+(e.visible?"visible":"in-visible")},a.createElement("div",{className:"navigation-nav left"},a.createElement("div",{className:"button-wrap"},e.left)),a.createElement("div",{className:"navigation-nav right"},a.createElement("div",{className:"button-wrap"},e.right)))}function Dv(e){return a.createElement("div",{className:"tool-bar",style:e.style},e.children)}var xv=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).EVENT_CHANGE="a1",t.EVENT_FULL_SCREEN="a2",t.EVENT_VIEW_CHANGE="a3",t.EVENT_KEY_DOWN="a4",t.EVENT_EDITOR_KEY_DOWN="a5",t.EVENT_FOCUS="a5",t.EVENT_BLUR="a6",t.EVENT_SCROLL="a7",t.EVENT_LANG_CHANGE="b1",t}return Sv(t,e),t}(n(7283).EventEmitter),Mv=new xv;const Ov=xv,Nv={clearTip:"Are you sure you want to clear all contents?",btnHeader:"Header",btnClear:"Clear",btnBold:"Bold",btnItalic:"Italic",btnUnderline:"Underline",btnStrikethrough:"Strikethrough",btnUnordered:"Unordered list",btnOrdered:"Ordered list",btnQuote:"Quote",btnLineBreak:"Line break",btnInlineCode:"Inline code",btnCode:"Code",btnTable:"Table",btnImage:"Image",btnLink:"Link",btnUndo:"Undo",btnRedo:"Redo",btnFullScreen:"Full screen",btnExitFullScreen:"Exit full screen",btnModeEditor:"Only display editor",btnModePreview:"Only display preview",btnModeAll:"Display both editor and preview",selectTabMap:"Actual input when typing a Tab key",tab:"Tab",spaces:"Spaces"},Lv={clearTip:"\u60a8\u786e\u5b9a\u8981\u6e05\u7a7a\u6240\u6709\u5185\u5bb9\u5417\uff1f",btnHeader:"\u6807\u9898",btnClear:"\u6e05\u7a7a",btnBold:"\u52a0\u7c97",btnItalic:"\u659c\u4f53",btnUnderline:"\u4e0b\u5212\u7ebf",btnStrikethrough:"\u5220\u9664\u7ebf",btnUnordered:"\u65e0\u5e8f\u5217\u8868",btnOrdered:"\u6709\u5e8f\u5217\u8868",btnQuote:"\u5f15\u7528",btnLineBreak:"\u6362\u884c",btnInlineCode:"\u884c\u5185\u4ee3\u7801",btnCode:"\u4ee3\u7801\u5757",btnTable:"\u8868\u683c",btnImage:"\u56fe\u7247",btnLink:"\u94fe\u63a5",btnUndo:"\u64a4\u9500",btnRedo:"\u91cd\u505a",btnFullScreen:"\u5168\u5c4f",btnExitFullScreen:"\u9000\u51fa\u5168\u5c4f",btnModeEditor:"\u4ec5\u663e\u793a\u7f16\u8f91\u5668",btnModePreview:"\u4ec5\u663e\u793a\u9884\u89c8",btnModeAll:"\u663e\u793a\u7f16\u8f91\u5668\u4e0e\u9884\u89c8",selectTabMap:"\u6309\u4e0b Tab \u952e\u65f6\u5b9e\u9645\u7684\u8f93\u5165",tab:"\u5236\u8868\u7b26",spaces:"\u7a7a\u683c"};var zv=function(){function e(){this.langs={enUS:Nv,zhCN:Lv},this.current="enUS",this.setUp()}var t=e.prototype;return t.setUp=function(){if("undefined"!==typeof window){var e="enUS";if(navigator.language){var t=navigator.language.split("-");e=t[0],1!==t.length&&(e+=t[t.length-1].toUpperCase())}if(navigator.browserLanguage){var n=navigator.browserLanguage.split("-");e=n[0],n[1]&&(e+=n[1].toUpperCase())}this.current!==e&&this.isAvailable(e)&&(this.current=e,Mv.emit(Mv.EVENT_LANG_CHANGE,this,e,this.langs[e]))}},t.isAvailable=function(e){return"undefined"!==typeof this.langs[e]},t.add=function(e,t){this.langs[e]=t},t.setCurrent=function(e){if(!this.isAvailable(e))throw new Error("Language "+e+" is not exists");this.current!==e&&(this.current=e,Mv.emit(Mv.EVENT_LANG_CHANGE,this,e,this.langs[e]))},t.get=function(e,t){var n=this.langs[this.current][e]||"";return t&&Object.keys(t).forEach((function(e){n=n.replace(new RegExp("\\{"+e+"\\}","g"),t[e])})),n},t.getCurrent=function(){return this.current},e}();const Fv=new zv;function qv(e){return qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(e)}function Bv(e){var t=function(e,t){if("object"!=qv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=qv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qv(t)?t:t+""}function jv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Bv(i.key),i)}}function Uv(e,t,n){return t&&jv(e.prototype,t),n&&jv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vv=function(e){function t(){return e.apply(this,arguments)||this}return Sv(t,e),t.prototype.getConfig=function(e,t){return"undefined"!==typeof this.props.config[e]&&null!==this.props.config[e]?this.props.config[e]:t},Uv(t,[{key:"editor",get:function(){return this.props.editor}},{key:"editorConfig",get:function(){return this.props.editorConfig}}]),t}(a.Component);Vv.pluginName="",Vv.align="left",Vv.defaultConfig={};var Hv=function(e){function t(){return e.apply(this,arguments)||this}return Sv(t,e),t.prototype.render=function(){return a.createElement("span",{className:"rc-md-divider"})},t}(Vv);Hv.pluginName="divider";var Wv={start:0,end:0,text:""};function Gv(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Kv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kv(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Qv(e){return e&&(e instanceof Promise||("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then)}function Jv(e,t){for(var n="",i=t;i--;)n+=e;return n}function Yv(e,t){var n=t.withKey,i=t.keyCode,r=t.key,o=t.aliasCommand,s={ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey,keyCode:e.keyCode,key:e.key};if(o&&(s.ctrlKey=s.ctrlKey||s.metaKey),n&&n.length>0)for(var a,c=Gv(n);!(a=c()).done;){var l=a.value;if("undefined"!==typeof s[l]&&!s[l])return!1}else if(s.metaKey||s.ctrlKey||s.shiftKey||s.altKey)return!1;return s.key?s.key===r:s.keyCode===i}function $v(e,t){var n=e.split("\n"),i=e.substr(0,t).split("\n"),r=i.length,o=i[i.length-1].length,s=n[i.length-1],a=i.length>1?i[i.length-2]:null,c=n.length>i.length?n[i.length]:null;return{line:r,col:o,beforeText:e.substr(0,t),afterText:e.substr(t),curLine:s,prevLine:a,nextLine:c}}for(var Xv={bold:["**","**"],italic:["*","*"],underline:["++","++"],strikethrough:["~~","~~"],quote:["\n> ","\n"],inlinecode:["`","`"],code:["\n```\n","\n```\n"]},Zv=1;Zv<=6;Zv++)Xv["h"+Zv]=["\n"+Jv("#",Zv)+" ","\n"];function ey(e){for(var t=e.row,n=void 0===t?2:t,i=e.col,r=void 0===i?2:i,o=["|"],s=["|"],a=["|"],c="",l=1;l<=r;l++)o.push(" Head |"),a.push(" --- |"),s.push(" Data |");for(var u=1;u<=n;u++)c+="\n"+s.join("");return o.join("")+"\n"+a.join("")+c}function ty(e,t){var n=t;if("\n"!==n.substr(0,1)&&(n="\n"+n),"unordered"===e)return n.length>1?n.replace(/\n/g,"\n* ").trim():"* ";var i=1;return n.length>1?n.replace(/\n/g,(function(){return"\n"+i+++". "})).trim():"1. "}function ny(e,t){return{text:e,newBlock:t,selection:{start:e.length,end:e.length}}}const iy=function(e,t,n){if("undefined"!==typeof Xv[t])return{text:""+Xv[t][0]+e+Xv[t][1],selection:{start:Xv[t][0].length,end:Xv[t][0].length+e.length}};switch(t){case"tab":var i=1===n.tabMapValue?"\t":" ".repeat(n.tabMapValue),r=i+e.replace(/\n/g,"\n"+i),o=e.includes("\n")?e.match(/\n/g).length:0;return{text:r,selection:{start:n.tabMapValue,end:n.tabMapValue*(o+1)+e.length}};case"unordered":return ny(ty("unordered",e),!0);case"order":return ny(ty("order",e),!0);case"hr":return ny("---",!0);case"table":return{text:ey(n),newBlock:!0};case"image":return{text:"!["+(e||n.target)+"]("+(n.imageUrl||"")+")",selection:{start:2,end:e.length+2}};case"link":return{text:"["+e+"]("+(n.linkUrl||"")+")",selection:{start:1,end:e.length+1}}}return{text:e,selection:{start:0,end:e.length}}};function ry(e,t){var n={};return Object.keys(e).forEach((function(i){"undefined"!==typeof t[i]?"object"!==typeof t[i]?n[i]=t[i]:Array.isArray(t[i])?n[i]=[].concat(t[i]):n[i]=ry(e[i],t[i]):n[i]=e[i]})),n}function oy(e){for(var t=mv({},e),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(e){"object"===typeof e&&(t=ry(t,e))})),t}const sy=function(e,t){return{placeholder:iy("","image",{target:"Uploading_"+kv(),imageUrl:""}).text,uploaded:new Promise((function(n){var i=!0,r=function(t){i&&console.warn("Deprecated: onImageUpload should return a Promise, callback will be removed in future"),n(iy("","image",{target:e.name,imageUrl:t}).text)},o=t(e,r);Qv(o)&&(i=!1,o.then(r))}))}};const ay={theme:"default",view:{menu:!0,md:!0,html:!0},canView:{menu:!0,md:!0,html:!0,both:!0,fullScreen:!0,hideMenu:!0},htmlClass:"",markdownClass:"",syncScrollMode:["rightFollowLeft","leftFollowRight"],imageUrl:"",imageAccept:"",linkUrl:"",loggerMaxSize:100,loggerInterval:600,table:{maxRow:4,maxCol:6},allowPasteImage:!0,onImageUpload:void 0,onCustomImageUpload:void 0,shortcuts:!0,onChangeTrigger:"both"};var cy=function(e){function t(){return e.apply(this,arguments)||this}Sv(t,e);var n=t.prototype;return n.getHtml=function(){return"string"===typeof this.props.html?this.props.html:this.el.current?this.el.current.innerHTML:""},n.render=function(){return"string"===typeof this.props.html?a.createElement("div",{ref:this.el,dangerouslySetInnerHTML:{__html:this.props.html},className:this.props.className||"custom-html-style"}):a.createElement("div",{ref:this.el,className:this.props.className||"custom-html-style"},this.props.html)},t}(function(e){function t(t){var n;return(n=e.call(this,t)||this).el=a.createRef(),n}Sv(t,e);var n=t.prototype;return n.getElement=function(){return this.el.current},n.getHeight=function(){return this.el.current?this.el.current.offsetHeight:0},t}(a.Component));function ly(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return uy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uy(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var dy=function(e){function t(t){var n;return(n=e.call(this,t)||this).nodeMdText=a.createRef(),n.nodeMdPreview=a.createRef(),n.nodeMdPreviewWrapper=a.createRef(),n.hasContentChanged=!0,n.composing=!1,n.pluginApis=new Map,n.scrollScale=1,n.isSyncingScroll=!1,n.shouldSyncScroll="md",n.keyboardListeners=[],n.emitter=new Ov,n.config=oy(ay,n.props.config,n.props),n.state={text:(n.props.value||n.props.defaultValue||"").replace(/\u21b5/g,"\n"),html:"",view:n.config.view||ay.view,fullScreen:!1,plugins:n.getPlugins()},n.config.canView&&!n.config.canView.menu&&(n.state.view.menu=!1),n.nodeMdText=a.createRef(),n.nodeMdPreviewWrapper=a.createRef(),n.handleChange=n.handleChange.bind(vv(n)),n.handlePaste=n.handlePaste.bind(vv(n)),n.handleDrop=n.handleDrop.bind(vv(n)),n.handleToggleMenu=n.handleToggleMenu.bind(vv(n)),n.handleKeyDown=n.handleKeyDown.bind(vv(n)),n.handleEditorKeyDown=n.handleEditorKeyDown.bind(vv(n)),n.handleLocaleUpdate=n.handleLocaleUpdate.bind(vv(n)),n.handleFocus=n.handleFocus.bind(vv(n)),n.handleBlur=n.handleBlur.bind(vv(n)),n.handleInputScroll=n.handleSyncScroll.bind(vv(n),"md"),n.handlePreviewScroll=n.handleSyncScroll.bind(vv(n),"html"),n}Sv(t,e),t.use=function(e,n){void 0===n&&(n={});for(var i=0;i<t.plugins.length;i++)if(t.plugins[i].comp===e)return void t.plugins.splice(i,1,{comp:e,config:n});t.plugins.push({comp:e,config:n})},t.unuse=function(e){for(var n=0;n<t.plugins.length;n++)if(t.plugins[n].comp===e)return void t.plugins.splice(n,1)},t.unuseAll=function(){t.plugins=[]};var n=t.prototype;return n.componentDidMount=function(){var e=this.state.text;this.renderHTML(e),Mv.on(Mv.EVENT_LANG_CHANGE,this.handleLocaleUpdate),Fv.setUp()},n.componentWillUnmount=function(){Mv.off(Mv.EVENT_LANG_CHANGE,this.handleLocaleUpdate)},n.componentDidUpdate=function(e){if("undefined"!==typeof this.props.value&&this.props.value!==this.state.text){var t=this.props.value;"string"!==typeof t&&(t=String(t).toString()),t=t.replace(/\u21b5/g,"\n"),this.state.text!==t&&(this.setState({text:t}),this.renderHTML(t))}e.plugins!==this.props.plugins&&this.setState({plugins:this.getPlugins()})},n.isComposing=function(){return this.composing},n.getPlugins=function(){var e=this,n=[];if(this.props.plugins)for(var i,r=function(e){if(e!==Hv.pluginName)for(var i,r=ly(t.plugins);!(i=r()).done;){var o=i.value;if(o.comp.pluginName===e)return void n.push(o)}else n.push({comp:Hv,config:{}})},o=ly(this.props.plugins);!(i=o()).done;){var s=i.value;"fonts"===s?(r("font-bold"),r("font-italic"),r("font-underline"),r("font-strikethrough"),r("list-unordered"),r("list-ordered"),r("block-quote"),r("block-wrap"),r("block-code-inline"),r("block-code-block")):r(s)}else n=[].concat(t.plugins);var c={};return n.forEach((function(t){"undefined"===typeof c[t.comp.align]&&(c[t.comp.align]=[]);var n="divider"===t.comp.pluginName?kv():t.comp.pluginName;c[t.comp.align].push(a.createElement(t.comp,{editor:e,editorConfig:e.config,config:mv({},t.comp.defaultConfig||{},t.config||{}),key:n}))})),c},n.handleSyncScroll=function(e,t){var n=this;if(e===this.shouldSyncScroll){this.props.onScroll&&this.props.onScroll(t,e),this.emitter.emit(this.emitter.EVENT_SCROLL,t,e);var i=this.config.syncScrollMode;(void 0===i?[]:i).includes("md"===e?"rightFollowLeft":"leftFollowRight")&&(this.hasContentChanged&&this.nodeMdText.current&&this.nodeMdPreviewWrapper.current&&(this.scrollScale=this.nodeMdText.current.scrollHeight/this.nodeMdPreviewWrapper.current.scrollHeight,this.hasContentChanged=!1),this.isSyncingScroll||(this.isSyncingScroll=!0,requestAnimationFrame((function(){n.nodeMdText.current&&n.nodeMdPreviewWrapper.current&&("md"===e?n.nodeMdPreviewWrapper.current.scrollTop=n.nodeMdText.current.scrollTop/n.scrollScale:n.nodeMdText.current.scrollTop=n.nodeMdPreviewWrapper.current.scrollTop*n.scrollScale),n.isSyncingScroll=!1}))))}},n.renderHTML=function(e){var t=this;if(!this.props.renderHTML)return console.error("renderHTML props is required!"),Promise.resolve();var n=this.props.renderHTML(e);return Qv(n)?n.then((function(e){return t.setHtml(e)})):"function"===typeof n?this.setHtml(n()):this.setHtml(n)},n.setHtml=function(e){var t=this;return new Promise((function(n){t.setState({html:e},n)}))},n.handleToggleMenu=function(){this.setView({menu:!this.state.view.menu})},n.handleFocus=function(e){var t=this.props.onFocus;t&&t(e),this.emitter.emit(this.emitter.EVENT_FOCUS,e)},n.handleBlur=function(e){var t=this.props.onBlur;t&&t(e),this.emitter.emit(this.emitter.EVENT_BLUR,e)},n.handleChange=function(e){e.persist();var t=e.target.value;this.setText(t,e)},n.handlePaste=function(e){if(this.config.allowPasteImage&&this.config.onImageUpload){var t=(e.nativeEvent.clipboardData||window.clipboardData).items;t&&(e.preventDefault(),this.uploadWithDataTransfer(t))}},n.handleDrop=function(e){if(this.config.onImageUpload){var t=e.nativeEvent;if(t.dataTransfer){var n=t.dataTransfer.items;n&&(e.preventDefault(),this.uploadWithDataTransfer(n))}}},n.handleEditorKeyDown=function(e){var t=this,n=e.keyCode,i=e.key,r=e.currentTarget;if((13===n||"Enter"===i)&&!1===this.composing){var o=r.value,s=r.selectionStart,a=$v(o,s),c=function(){var n=r.value.substr(0,s-a.curLine.length)+r.value.substr(s);t.setText(n,void 0,{start:s-a.curLine.length,end:s-a.curLine.length}),e.preventDefault()},l=function(n){t.insertText("\n"+n,!1,{start:n.length+1,end:n.length+1}),e.preventDefault()},u=a.curLine.match(/^(\s*?)\* /);if(u)return/^(\s*?)\* $/.test(a.curLine)?void c():void l(u[0]);var d=a.curLine.match(/^(\s*?)(\d+)\. /);if(d)return/^(\s*?)(\d+)\. $/.test(a.curLine)?void c():void l(""+d[1]+(parseInt(d[2],10)+1)+". ")}this.emitter.emit(this.emitter.EVENT_EDITOR_KEY_DOWN,e)},n.handleLocaleUpdate=function(){this.forceUpdate()},n.getMdElement=function(){return this.nodeMdText.current},n.getHtmlElement=function(){return this.nodeMdPreviewWrapper.current},n.clearSelection=function(){this.nodeMdText.current&&this.nodeMdText.current.setSelectionRange(0,0,"none")},n.getSelection=function(){var e=this.nodeMdText.current;if(!e)return mv({},Wv);var t=e.selectionStart,n=e.selectionEnd;return{start:t,end:n,text:(e.value||"").slice(t,n)}},n.setSelection=function(e){this.nodeMdText.current&&(this.nodeMdText.current.setSelectionRange(e.start,e.end,"forward"),this.nodeMdText.current.focus())},n.insertMarkdown=function(e,t){void 0===t&&(t={});var n=this.getSelection(),i=t?mv({},t):{};if("image"===e&&(i=mv({},i,{target:t.target||n.text||"",imageUrl:t.imageUrl||this.config.imageUrl})),"link"===e&&(i=mv({},i,{linkUrl:this.config.linkUrl})),"tab"===e&&n.start!==n.end){var r=this.getMdValue().slice(0,n.start).lastIndexOf("\n")+1;this.setSelection({start:r,end:n.end})}var o=iy(n.text,e,i),s=o.text,a=o.selection;if(o.newBlock){var c=$v(this.getMdValue(),n.start),l=c.col,u=c.curLine;l>0&&u.length>0&&(s="\n"+s,a&&(a.start++,a.end++));var d=c.afterText;n.start!==n.end&&(d=$v(this.getMdValue(),n.end).afterText),""!==d.trim()&&"\n\n"!==d.substr(0,2)&&("\n"!==d.substr(0,1)&&(s+="\n"),s+="\n")}this.insertText(s,!0,a)},n.insertPlaceholder=function(e,t){var n=this;this.insertText(e,!0),t.then((function(t){var i=n.getMdValue().replace(e,t);n.setText(i)}))},n.insertText=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=!1);var i=this.state.text,r=this.getSelection(),o=i.slice(0,r.start),s=i.slice(t?r.end:r.start,i.length);this.setText(o+e+s,void 0,n?{start:n.start+o.length,end:n.end+o.length}:{start:r.start,end:r.start})},n.setText=function(e,t,n){var i=this;void 0===e&&(e="");var r=this.config.onChangeTrigger,o=void 0===r?"both":r,s=e.replace(/\u21b5/g,"\n");if(this.state.text!==e){this.setState({text:s}),!this.props.onChange||"both"!==o&&"beforeRender"!==o||this.props.onChange({text:s,html:this.getHtmlValue()},t),this.emitter.emit(this.emitter.EVENT_CHANGE,e,t,"undefined"===typeof t),n&&setTimeout((function(){return i.setSelection(n)})),this.hasContentChanged||(this.hasContentChanged=!0);var a=this.renderHTML(s);"both"!==o&&"afterRender"!==o||a.then((function(){i.props.onChange&&i.props.onChange({text:i.state.text,html:i.getHtmlValue()},t)}))}},n.getMdValue=function(){return this.state.text},n.getHtmlValue=function(){return"string"===typeof this.state.html?this.state.html:this.nodeMdPreview.current?this.nodeMdPreview.current.getHtml():""},n.onKeyboard=function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.onKeyboard(e)})):this.keyboardListeners.includes(e)||this.keyboardListeners.push(e)},n.offKeyboard=function(e){var t=this;if(Array.isArray(e))e.forEach((function(e){return t.offKeyboard(e)}));else{var n=this.keyboardListeners.indexOf(e);n>=0&&this.keyboardListeners.splice(n,1)}},n.handleKeyDown=function(e){for(var t,n=ly(this.keyboardListeners);!(t=n()).done;){var i=t.value;if(Yv(e,i))return e.preventDefault(),void i.callback(e)}this.emitter.emit(this.emitter.EVENT_KEY_DOWN,e)},n.getEventType=function(e){switch(e){case"change":return this.emitter.EVENT_CHANGE;case"fullscreen":return this.emitter.EVENT_FULL_SCREEN;case"viewchange":return this.emitter.EVENT_VIEW_CHANGE;case"keydown":return this.emitter.EVENT_KEY_DOWN;case"editor_keydown":return this.emitter.EVENT_EDITOR_KEY_DOWN;case"blur":return this.emitter.EVENT_BLUR;case"focus":return this.emitter.EVENT_FOCUS;case"scroll":return this.emitter.EVENT_SCROLL}},n.on=function(e,t){var n=this.getEventType(e);n&&this.emitter.on(n,t)},n.off=function(e,t){var n=this.getEventType(e);n&&this.emitter.off(n,t)},n.setView=function(e){var t=this,n=mv({},this.state.view,e);this.setState({view:n},(function(){t.emitter.emit(t.emitter.EVENT_VIEW_CHANGE,n)}))},n.getView=function(){return mv({},this.state.view)},n.fullScreen=function(e){var t=this;this.state.fullScreen!==e&&this.setState({fullScreen:e},(function(){t.emitter.emit(t.emitter.EVENT_FULL_SCREEN,e)}))},n.registerPluginApi=function(e,t){this.pluginApis.set(e,t)},n.unregisterPluginApi=function(e){this.pluginApis.delete(e)},n.callPluginApi=function(e){var t=this.pluginApis.get(e);if(!t)throw new Error("API "+e+" not found");for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.apply(void 0,i)},n.isFullScreen=function(){return this.state.fullScreen},n.uploadWithDataTransfer=function(e){var t=this,n=this.config.onImageUpload;if(n){var i=[];Array.prototype.forEach.call(e,(function(e){if("file"===e.kind&&e.type.includes("image")){var r=e.getAsFile();if(r){var o=sy(r,n);i.push(Promise.resolve(o.placeholder)),o.uploaded.then((function(e){var n=t.getMdValue().replace(o.placeholder,e),i=e.length-o.placeholder.length,r=t.getSelection();t.setText(n,void 0,{start:r.start+i,end:r.start+i})}))}}else"string"===e.kind&&"text/plain"===e.type&&i.push(new Promise((function(t){return e.getAsString(t)})))})),Promise.all(i).then((function(e){var n=e.join(""),i=t.getSelection();t.insertText(n,!0,{start:i.start===i.end?n.length:0,end:n.length})}))}},n.render=function(){var e=this,t=this.state,n=t.view,i=t.fullScreen,r=t.text,o=t.html,s=this.props,c=s.id,l=s.className,u=void 0===l?"":l,d=s.style,h=s.name,p=void 0===h?"textarea":h,f=s.autoFocus,g=s.placeholder,m=s.readOnly,v=this.config.canView&&this.config.canView.hideMenu&&!this.config.canView.menu,y=function(t){return e.state.plugins[t]||[]},S=!!n.menu,C=c?c+"_md":void 0,b=c?c+"_html":void 0;return a.createElement("div",{id:c,className:"rc-md-editor "+(i?"full":"")+" "+u,style:d,onKeyDown:this.handleKeyDown,onDrop:this.handleDrop},a.createElement(_v,{visible:S,left:y("left"),right:y("right")}),a.createElement("div",{className:"editor-container"},v&&a.createElement(Dv,null,a.createElement("span",{className:"button button-type-menu",title:S?"hidden menu":"show menu",onClick:this.handleToggleMenu},a.createElement(Rv,{type:"expand-"+(S?"less":"more")}))),a.createElement("section",{className:"section sec-md "+(n.md?"visible":"in-visible")},a.createElement("textarea",{id:C,ref:this.nodeMdText,name:p,autoFocus:f,placeholder:g,readOnly:m,value:r,className:"section-container input "+(this.config.markdownClass||""),wrap:"hard",onChange:this.handleChange,onScroll:this.handleInputScroll,onMouseOver:function(){return e.shouldSyncScroll="md"},onKeyDown:this.handleEditorKeyDown,onCompositionStart:function(){return e.composing=!0},onCompositionEnd:function(){return e.composing=!1},onPaste:this.handlePaste,onFocus:this.handleFocus,onBlur:this.handleBlur})),a.createElement("section",{className:"section sec-html "+(n.html?"visible":"in-visible")},a.createElement("div",{id:b,className:"section-container html-wrap",ref:this.nodeMdPreviewWrapper,onMouseOver:function(){return e.shouldSyncScroll="html"},onScroll:this.handlePreviewScroll},a.createElement(cy,{html:o,className:this.config.htmlClass,ref:this.nodeMdPreview})))))},t}(a.Component);dy.plugins=[],dy.addLocale=Fv.add.bind(Fv),dy.useLocale=Fv.setCurrent.bind(Fv),dy.getLocale=Fv.getCurrent.bind(Fv);const hy=dy;var py=function(e){function t(t){var n;return(n=e.call(this,t)||this).timer=null,n.useTimer=n.getConfig("useTimer")||"undefined"===typeof requestAnimationFrame,n.handleChange=n.handleChange.bind(vv(n)),n.doResize=n.doResize.bind(vv(n)),n}Sv(t,e);var n=t.prototype;return n.doResize=function(){var e=this,t=function(t){t.style.height="auto";var n=Math.min(Math.max(e.getConfig("min"),t.scrollHeight),e.getConfig("max"));return t.style.height=n+"px",n};this.timer=null;var n=this.editor.getView(),i=this.editor.getMdElement(),r=this.editor.getHtmlElement();if(i&&n.md){var o=t(i);r&&(r.style.height=o+"px")}else r&&n.html&&t(r)},n.handleChange=function(){null===this.timer&&(this.useTimer?this.timer=window.setTimeout(this.doResize):this.timer=requestAnimationFrame(this.doResize))},n.componentDidMount=function(){this.editor.on("change",this.handleChange),this.editor.on("viewchange",this.handleChange),this.handleChange()},n.componentWillUnmount=function(){this.editor.off("change",this.handleChange),this.editor.off("viewchange",this.handleChange),null!==this.timer&&this.useTimer&&(window.clearTimeout(this.timer),this.timer=null)},n.render=function(){return a.createElement("span",null)},t}(Vv);py.pluginName="auto-resize",py.align="left",py.defaultConfig={min:200,max:1/0,useTimer:!1};var fy=function(e){function t(){return e.apply(this,arguments)||this}return Sv(t,e),t.prototype.render=function(){var e=this;return a.createElement("span",{className:"button button-type-code-block",title:Fv.get("btnCode"),onClick:function(){return e.editor.insertMarkdown("code")}},a.createElement(Rv,{type:"code-block"}))},t}(Vv);fy.pluginName="block-code-block";var gy=function(e){function t(){return e.apply(this,arguments)||this}return Sv(t,e),t.prototype.render=function(){var e=this;return a.createElement("span",{className:"button button-type-code-inline",title:Fv.get("btnInlineCode"),onClick:function(){return e.editor.insertMarkdown("inlinecode")}},a.createElement(Rv,{type:"code"}))},t}(Vv);gy.pluginName="block-code-inline";var my=function(e){function t(){return e.apply(this,arguments)||this}return Sv(t,e),t.prototype.render=function(){var e=this;return a.createElement("span",{className:"button button-type-quote",title:Fv.get("btnQuote"),onClick:function(){return e.editor.insertMarkdown("quote")}},a.createElement(Rv,{type:"quote"}))},t}(Vv);my.pluginName="block-quote";var vy=function(e){function t(){return e.apply(this,arguments)||this}return Sv(t,e),t.prototype.render=function(){var e=this;return a.createElement("span",{className:"button button-type-wrap",title:Fv.get("btnLineBreak"),onClick:function(){return e.editor.insertMarkdown("hr")}},a.createElement(Rv,{type:"wrap"}))},t}(Vv);vy.pluginName="block-wrap";var yy=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleClick=n.handleClick.bind(vv(n)),n}Sv(t,e);var n=t.prototype;return n.handleClick=function(){""!==this.editor.getMdValue()&&(window.confirm&&"function"===typeof window.confirm&&window.confirm(Fv.get("clearTip"))&&this.editor.setText(""))},n.render=function(){return a.createElement("span",{className:"button button-type-clear",title:Fv.get("btnClear"),onClick:this.handleClick},a.createElement(Rv,{type:"delete"}))},t}(Vv);yy.pluginName="clear";var Sy=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyboard={key:"b",keyCode:66,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return n.editor.insertMarkdown("bold")}},n}Sv(t,e);var n=t.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var e=this;return a.createElement("span",{className:"button button-type-bold",title:Fv.get("btnBold"),onClick:function(){return e.editor.insertMarkdown("bold")}},a.createElement(Rv,{type:"bold"}))},t}(Vv);Sy.pluginName="font-bold";var Cy=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyboard={key:"i",keyCode:73,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return n.editor.insertMarkdown("italic")}},n}Sv(t,e);var n=t.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var e=this;return a.createElement("span",{className:"button button-type-italic",title:Fv.get("btnItalic"),onClick:function(){return e.editor.insertMarkdown("italic")}},a.createElement(Rv,{type:"italic"}))},t}(Vv);Cy.pluginName="font-italic";var by=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyboard={key:"d",keyCode:68,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return n.editor.insertMarkdown("strikethrough")}},n}Sv(t,e);var n=t.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var e=this;return a.createElement("span",{className:"button button-type-strikethrough",title:Fv.get("btnStrikethrough"),onClick:function(){return e.editor.insertMarkdown("strikethrough")}},a.createElement(Rv,{type:"strikethrough"}))},t}(Vv);by.pluginName="font-strikethrough";var wy=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyboard={key:"u",keyCode:85,withKey:["ctrlKey"],callback:function(){return n.editor.insertMarkdown("underline")}},n}Sv(t,e);var n=t.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var e=this;return a.createElement("span",{className:"button button-type-underline",title:Fv.get("btnUnderline"),onClick:function(){return e.editor.insertMarkdown("underline")}},a.createElement(Rv,{type:"underline"}))},t}(Vv);wy.pluginName="font-underline";var Ey=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleClick=n.handleClick.bind(vv(n)),n.handleChange=n.handleChange.bind(vv(n)),n.state={enable:n.editor.isFullScreen()},n}Sv(t,e);var n=t.prototype;return n.handleClick=function(){this.editor.fullScreen(!this.state.enable)},n.handleChange=function(e){this.setState({enable:e})},n.componentDidMount=function(){this.editor.on("fullscreen",this.handleChange)},n.componentWillUnmount=function(){this.editor.off("fullscreen",this.handleChange)},n.render=function(){if(this.editorConfig.canView&&this.editorConfig.canView.fullScreen){var e=this.state.enable;return a.createElement("span",{className:"button button-type-fullscreen",title:Fv.get(e?"btnExitFullScreen":"btnFullScreen"),onClick:this.handleClick},a.createElement(Rv,{type:e?"fullscreen-exit":"fullscreen"}))}return null},t}(Vv);Ey.pluginName="full-screen",Ey.align="right";const Py=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleClose=n.handleClose.bind(vv(n)),n}Sv(t,e);var n=t.prototype;return n.handleClose=function(e){e.stopPropagation();var t=this.props.onClose;"function"===typeof t&&t()},n.render=function(){return a.createElement("div",{className:"drop-wrap "+(this.props.show?"show":"hidden"),onClick:this.handleClose},this.props.children)},t}(a.Component);const Iy=function(e){function t(){return e.apply(this,arguments)||this}Sv(t,e);var n=t.prototype;return n.handleHeader=function(e){var t=this.props.onSelectHeader;"function"===typeof t&&t(e)},n.render=function(){return a.createElement("ul",{className:"header-list"},a.createElement("li",{className:"list-item"},a.createElement("h1",{onClick:this.handleHeader.bind(this,"h1")},"H1")),a.createElement("li",{className:"list-item"},a.createElement("h2",{onClick:this.handleHeader.bind(this,"h2")},"H2")),a.createElement("li",{className:"list-item"},a.createElement("h3",{onClick:this.handleHeader.bind(this,"h3")},"H3")),a.createElement("li",{className:"list-item"},a.createElement("h4",{onClick:this.handleHeader.bind(this,"h4")},"H4")),a.createElement("li",{className:"list-item"},a.createElement("h5",{onClick:this.handleHeader.bind(this,"h5")},"H5")),a.createElement("li",{className:"list-item"},a.createElement("h6",{onClick:this.handleHeader.bind(this,"h6")},"H6")))},t}(a.Component);var Ay=function(e){function t(t){var n;return(n=e.call(this,t)||this).show=n.show.bind(vv(n)),n.hide=n.hide.bind(vv(n)),n.state={show:!1},n}Sv(t,e);var n=t.prototype;return n.show=function(){this.setState({show:!0})},n.hide=function(){this.setState({show:!1})},n.render=function(){var e=this;return a.createElement("span",{className:"button button-type-header",title:Fv.get("btnHeader"),onMouseEnter:this.show,onMouseLeave:this.hide},a.createElement(Rv,{type:"font-size"}),a.createElement(Py,{show:this.state.show,onClose:this.hide},a.createElement(Iy,{onSelectHeader:function(t){return e.editor.insertMarkdown(t)}})))},t}(Vv);Ay.pluginName="header";const Ty=function(e){function t(t){var n;return(n=e.call(this,t)||this).timerId=void 0,n.locked=!1,n.input=a.createRef(),n}Sv(t,e);var n=t.prototype;return n.click=function(){var e=this;!this.locked&&this.input.current&&(this.locked=!0,this.input.current.value="",this.input.current.click(),this.timerId&&window.clearTimeout(this.timerId),this.timerId=window.setTimeout((function(){e.locked=!1,window.clearTimeout(e.timerId),e.timerId=void 0}),200))},n.componentWillUnmount=function(){this.timerId&&window.clearTimeout(this.timerId)},n.render=function(){return a.createElement("input",{type:"file",ref:this.input,accept:this.props.accept,style:{position:"absolute",zIndex:-1,left:0,top:0,width:0,height:0,opacity:0},onChange:this.props.onChange})},t}(a.Component);var ky=function(e){function t(t){var n;return(n=e.call(this,t)||this).inputFile=a.createRef(),n.onImageChanged=n.onImageChanged.bind(vv(n)),n.handleCustomImageUpload=n.handleCustomImageUpload.bind(vv(n)),n.handleImageUpload=n.handleImageUpload.bind(vv(n)),n.state={show:!1},n}Sv(t,e);var n=t.prototype;return n.handleImageUpload=function(){"function"===typeof this.editorConfig.onImageUpload?this.inputFile.current&&this.inputFile.current.click():this.editor.insertMarkdown("image")},n.onImageChanged=function(e){var t=this.editorConfig.onImageUpload;if(t){var n=sy(e,t);this.editor.insertPlaceholder(n.placeholder,n.uploaded)}},n.handleCustomImageUpload=function(e){var t=this,n=this.editorConfig.onCustomImageUpload;if(n){var i=n.call(this,e);Qv(i)&&i.then((function(e){e&&e.url&&t.editor.insertMarkdown("image",{target:e.text,imageUrl:e.url})}))}},n.render=function(){var e=this;return!!this.editorConfig.onCustomImageUpload?a.createElement("span",{className:"button button-type-image",title:Fv.get("btnImage"),onClick:this.handleCustomImageUpload},a.createElement(Rv,{type:"image"})):a.createElement("span",{className:"button button-type-image",title:Fv.get("btnImage"),onClick:this.handleImageUpload,style:{position:"relative"}},a.createElement(Rv,{type:"image"}),a.createElement(Ty,{accept:this.editorConfig.imageAccept||"",ref:this.inputFile,onChange:function(t){t.persist(),t.target.files&&t.target.files.length>0&&e.onImageChanged(t.target.files[0])}}))},t}(Vv);ky.pluginName="image";var Ry=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyboard={key:"k",keyCode:75,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return n.editor.insertMarkdown("link")}},n}Sv(t,e);var n=t.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var e=this;return a.createElement("span",{className:"button button-type-link",title:Fv.get("btnLink"),onClick:function(){return e.editor.insertMarkdown("link")}},a.createElement(Rv,{type:"link"}))},t}(Vv);Ry.pluginName="link";var _y=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyboard={key:"7",keyCode:55,withKey:["ctrlKey","shiftKey"],aliasCommand:!0,callback:function(){return n.editor.insertMarkdown("order")}},n}Sv(t,e);var n=t.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var e=this;return a.createElement("span",{className:"button button-type-ordered",title:Fv.get("btnOrdered"),onClick:function(){return e.editor.insertMarkdown("order")}},a.createElement(Rv,{type:"list-ordered"}))},t}(Vv);_y.pluginName="list-ordered";var Dy=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyboard={key:"8",keyCode:56,withKey:["ctrlKey","shiftKey"],aliasCommand:!0,callback:function(){return n.editor.insertMarkdown("unordered")}},n}Sv(t,e);var n=t.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var e=this;return a.createElement("span",{className:"button button-type-unordered",title:Fv.get("btnUnordered"),onClick:function(){return e.editor.insertMarkdown("unordered")}},a.createElement(Rv,{type:"list-unordered"}))},t}(Vv);Dy.pluginName="list-unordered";var xy=function(){function e(e){void 0===e&&(e={}),this.record=[],this.recycle=[],this.initValue="";var t=e.maxSize,n=void 0===t?100:t;this.maxSize=n}var t=e.prototype;return t.push=function(e){for(var t=this.record.push(e);this.record.length>this.maxSize;)this.record.shift();return t},t.get=function(){return this.record},t.getLast=function(){var e=this.record.length;return this.record[e-1]},t.undo=function(e){var t=this.record.pop();if("undefined"===typeof t)return this.initValue;if(t!==e)return this.recycle.push(t),t;var n=this.record.pop();return"undefined"===typeof n?(this.recycle.push(t),this.initValue):(this.recycle.push(t),n)},t.redo=function(){var e=this.recycle.pop();if("undefined"!==typeof e)return this.push(e),e},t.cleanRedo=function(){this.recycle=[]},t.getUndoCount=function(){return this.undo.length},t.getRedoCount=function(){return this.recycle.length},e}();const My=xy;var Oy,Ny=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyboards=[],n.lastPop=null,n.handleChange=n.handleChange.bind(vv(n)),n.handleRedo=n.handleRedo.bind(vv(n)),n.handleUndo=n.handleUndo.bind(vv(n)),n.handleKeyboards=[{key:"y",keyCode:89,withKey:["ctrlKey"],callback:n.handleRedo},{key:"z",keyCode:90,withKey:["metaKey","shiftKey"],callback:n.handleRedo},{key:"z",keyCode:90,aliasCommand:!0,withKey:["ctrlKey"],callback:n.handleUndo}],n.logger=new My({maxSize:n.editorConfig.loggerMaxSize}),n.editor.registerPluginApi("undo",n.handleUndo),n.editor.registerPluginApi("redo",n.handleRedo),n}Sv(t,e);var n=t.prototype;return n.handleUndo=function(){var e=this.logger.undo(this.editor.getMdValue());"undefined"!==typeof e&&(this.pause(),this.lastPop=e,this.editor.setText(e),this.forceUpdate())},n.handleRedo=function(){var e=this.logger.redo();"undefined"!==typeof e&&(this.lastPop=e,this.editor.setText(e),this.forceUpdate())},n.handleChange=function(e,t,n){var i=this;if(this.logger.getLast()!==e&&(null===this.lastPop||this.lastPop!==e)){if(this.logger.cleanRedo(),n)return this.logger.push(e),this.lastPop=null,void this.forceUpdate();this.timerId&&(window.clearTimeout(this.timerId),this.timerId=0),this.timerId=window.setTimeout((function(){i.logger.getLast()!==e&&(i.logger.push(e),i.lastPop=null,i.forceUpdate()),window.clearTimeout(i.timerId),i.timerId=0}),this.editorConfig.loggerInterval)}},n.componentDidMount=function(){var e=this;this.editor.on("change",this.handleChange),this.handleKeyboards.forEach((function(t){return e.editor.onKeyboard(t)})),this.logger.initValue=this.editor.getMdValue(),this.forceUpdate()},n.componentWillUnmount=function(){var e=this;this.timerId&&window.clearTimeout(this.timerId),this.editor.off("change",this.handleChange),this.editor.unregisterPluginApi("undo"),this.editor.unregisterPluginApi("redo"),this.handleKeyboards.forEach((function(t){return e.editor.offKeyboard(t)}))},n.pause=function(){this.timerId&&(window.clearTimeout(this.timerId),this.timerId=void 0)},n.render=function(){var e=this.logger.getUndoCount()>1||this.logger.initValue!==this.editor.getMdValue(),t=this.logger.getRedoCount()>0;return a.createElement(a.Fragment,null,a.createElement("span",{className:"button button-type-undo "+(e?"":"disabled"),title:Fv.get("btnUndo"),onClick:this.handleUndo},a.createElement(Rv,{type:"undo"})),a.createElement("span",{className:"button button-type-redo "+(t?"":"disabled"),title:Fv.get("btnRedo"),onClick:this.handleRedo},a.createElement(Rv,{type:"redo"})))},t}(Vv);Ny.pluginName="logger",function(e){e[e.SHOW_ALL=0]="SHOW_ALL",e[e.SHOW_MD=1]="SHOW_MD",e[e.SHOW_HTML=2]="SHOW_HTML"}(Oy||(Oy={}));var Ly=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleClick=n.handleClick.bind(vv(n)),n.handleChange=n.handleChange.bind(vv(n)),n.state={view:n.editor.getView()},n}Sv(t,e);var n=t.prototype;return n.handleClick=function(){switch(this.next){case Oy.SHOW_ALL:this.editor.setView({html:!0,md:!0});break;case Oy.SHOW_HTML:this.editor.setView({html:!0,md:!1});break;case Oy.SHOW_MD:this.editor.setView({html:!1,md:!0})}},n.handleChange=function(e){this.setState({view:e})},n.componentDidMount=function(){this.editor.on("viewchange",this.handleChange)},n.componentWillUnmount=function(){this.editor.off("viewchange",this.handleChange)},n.getDisplayInfo=function(){switch(this.next){case Oy.SHOW_ALL:return{icon:"view-split",title:"All"};case Oy.SHOW_HTML:return{icon:"visibility",title:"Preview"};default:return{icon:"keyboard",title:"Editor"}}},n.render=function(){if(this.isDisplay){var e=this.getDisplayInfo();return a.createElement("span",{className:"button button-type-mode",title:Fv.get("btnMode"+e.title),onClick:this.handleClick},a.createElement(Rv,{type:e.icon}))}return null},Uv(t,[{key:"isDisplay",get:function(){var e=this.editorConfig.canView;return!!e&&[e.html,e.md,e.both].filter((function(e){return e})).length>=2}},{key:"next",get:function(){var e=this.editorConfig.canView,t=this.state.view,n=[Oy.SHOW_ALL,Oy.SHOW_MD,Oy.SHOW_HTML];e&&(e.both||n.splice(n.indexOf(Oy.SHOW_ALL),1),e.md||n.splice(n.indexOf(Oy.SHOW_MD),1),e.html||n.splice(n.indexOf(Oy.SHOW_HTML),1));var i=Oy.SHOW_MD;if(t.html&&(i=Oy.SHOW_HTML),t.html&&t.md&&(i=Oy.SHOW_ALL),0===n.length)return i;if(1===n.length)return n[0];var r=n.indexOf(i);return r<n.length-1?n[r+1]:n[0]}}]),t}(Vv);Ly.pluginName="mode-toggle",Ly.align="right";const zy=Ly;var Fy=function(e){function t(t){var n;(n=e.call(this,t)||this).config={padding:3,width:20,height:20};var i=t.maxRow,r=void 0===i?5:i,o=t.maxCol,s=void 0===o?6:o;return n.state={maxRow:r,maxCol:s,list:n.formatTableModel(r,s)},n}Sv(t,e);var n=t.prototype;return n.formatTableModel=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),new Array(e).fill(void 0).map((function(e){return new Array(t).fill(0)}))},n.calcWrapStyle=function(){var e=this.state,t=e.maxRow,n=e.maxCol,i=this.config,r=i.width,o=i.height,s=i.padding;return{width:(r+s)*n-s+"px",height:(o+s)*t-s+"px"}},n.calcItemStyle=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.config,i=n.width,r=n.height,o=n.padding;return{top:(r+o)*e+"px",left:(i+o)*t+"px"}},n.getList=function(e,t){return this.state.list.map((function(n,i){return n.map((function(n,r){return i<=e&&r<=t?1:0}))}))},n.handleHover=function(e,t){this.setState({list:this.getList(e,t)})},n.handleSetTable=function(e,t){var n=this.props.onSetTable;"function"===typeof n&&n({row:e+1,col:t+1})},n.componentDidUpdate=function(e){!1===this.props.visibility&&e.visibility!==this.props.visibility&&this.setState({list:this.getList(-1,-1)})},n.render=function(){var e=this;return a.createElement("ul",{className:"table-list wrap",style:this.calcWrapStyle()},this.state.list.map((function(t,n){return t.map((function(t,i){return a.createElement("li",{className:"list-item "+(1===t?"active":""),key:n+"-"+i,style:e.calcItemStyle(n,i),onMouseOver:e.handleHover.bind(e,n,i),onClick:e.handleSetTable.bind(e,n,i)})}))})))},t}(a.Component);const qy=Fy;var By=function(e){function t(t){var n;return(n=e.call(this,t)||this).show=n.show.bind(vv(n)),n.hide=n.hide.bind(vv(n)),n.state={show:!1},n}Sv(t,e);var n=t.prototype;return n.show=function(){this.setState({show:!0})},n.hide=function(){this.setState({show:!1})},n.render=function(){var e=this,t=this.editorConfig.table||this.props.config;return a.createElement("span",{className:"button button-type-table",title:Fv.get("btnTable"),onMouseEnter:this.show,onMouseLeave:this.hide},a.createElement(Rv,{type:"grid"}),a.createElement(Py,{show:this.state.show,onClose:this.hide},a.createElement(qy,{visibility:this.state.show,maxRow:t.maxRow,maxCol:t.maxCol,onSetTable:function(t){return e.editor.insertMarkdown("table",t)}})))},t}(Vv);By.pluginName="table",By.defaultConfig={maxRow:6,maxCol:6};var jy=n(8139),Uy=n.n(jy);const Vy=function(e){function t(){return e.apply(this,arguments)||this}Sv(t,e);var n=t.prototype;return n.handleSelectMapValue=function(e){var t=this.props.onSelectMapValue;"function"===typeof t&&t(e)},n.render=function(){var e=this,t=this.props.value;return a.createElement("ul",{className:"tab-map-list"},[1,2,4,8].map((function(n){return a.createElement("li",{key:n,className:Uy()("list-item",{active:t===n})},a.createElement("div",{onClick:e.handleSelectMapValue.bind(e,n)},1===n?Fv.get("tab"):n+" "+Fv.get("spaces")))})))},t}(a.Component);var Hy=function(e){function t(t){var n;return(n=e.call(this,t)||this).show=n.show.bind(vv(n)),n.hide=n.hide.bind(vv(n)),n.handleChangeMapValue=n.handleChangeMapValue.bind(vv(n)),n.state={tabMapValue:n.getConfig("tabMapValue"),show:!1},n.handleKeyboard={key:"Tab",keyCode:9,aliasCommand:!0,withKey:[],callback:function(){return n.editor.insertMarkdown("tab",{tabMapValue:n.state.tabMapValue})}},n}Sv(t,e);var n=t.prototype;return n.show=function(){this.setState({show:!0})},n.hide=function(){this.setState({show:!1})},n.handleChangeMapValue=function(e){this.setState({tabMapValue:e})},n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){return a.createElement("span",{className:"button button-type-header",title:Fv.get("selectTabMap"),onClick:this.show,onMouseLeave:this.hide},a.createElement(Rv,{type:"tab"}),a.createElement(Py,{show:this.state.show,onClose:this.hide},a.createElement(Vy,{value:this.state.tabMapValue,onSelectMapValue:this.handleChangeMapValue})))},t}(Vv);Hy.pluginName="tab-insert",Hy.defaultConfig={tabMapValue:1},hy.use(Ay),hy.use(Sy),hy.use(Cy),hy.use(wy),hy.use(by),hy.use(Dy),hy.use(_y),hy.use(my),hy.use(vy),hy.use(gy),hy.use(fy),hy.use(By),hy.use(ky),hy.use(Ry),hy.use(yy),hy.use(Ny),hy.use(zy),hy.use(Ey);const Wy=hy;const Gy=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ky=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qy={};function Jy(e,t){return((t||Qy).jsx?Ky:Gy).test(e)}const Yy=/[ \t\n\f\r]/g;function $y(e){return""===e.replace(Yy,"")}class Xy{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function Zy(e,t){const n={},i={};let r=-1;for(;++r<e.length;)Object.assign(n,e[r].property),Object.assign(i,e[r].normal);return new Xy(n,i,t)}function eS(e){return e.toLowerCase()}Xy.prototype.property={},Xy.prototype.normal={},Xy.prototype.space=null;class tS{constructor(e,t){this.property=e,this.attribute=t}}tS.prototype.space=null,tS.prototype.boolean=!1,tS.prototype.booleanish=!1,tS.prototype.overloadedBoolean=!1,tS.prototype.number=!1,tS.prototype.commaSeparated=!1,tS.prototype.spaceSeparated=!1,tS.prototype.commaOrSpaceSeparated=!1,tS.prototype.mustUseProperty=!1,tS.prototype.defined=!1;let nS=0;const iS=uS(),rS=uS(),oS=uS(),sS=uS(),aS=uS(),cS=uS(),lS=uS();function uS(){return 2**++nS}const dS=Object.keys(o);class hS extends tS{constructor(e,t,n,i){let r=-1;if(super(e,t),pS(this,"space",i),"number"===typeof n)for(;++r<dS.length;){const e=dS[r];pS(this,dS[r],(n&o[e])===o[e])}}}function pS(e,t,n){n&&(e[t]=n)}hS.prototype.defined=!0;const fS={}.hasOwnProperty;function gS(e){const t={},n={};let i;for(i in e.properties)if(fS.call(e.properties,i)){const r=e.properties[i],o=new hS(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,n[eS(i)]=i,n[eS(o.attribute)]=i}return new Xy(t,n,e.space)}const mS=gS({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),vS=gS({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function yS(e,t){return t in e?e[t]:t}function SS(e,t){return yS(e,t.toLowerCase())}const CS=gS({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:SS,properties:{xmlns:null,xmlnsXLink:null}}),bS=gS({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:rS,ariaAutoComplete:null,ariaBusy:rS,ariaChecked:rS,ariaColCount:sS,ariaColIndex:sS,ariaColSpan:sS,ariaControls:aS,ariaCurrent:null,ariaDescribedBy:aS,ariaDetails:null,ariaDisabled:rS,ariaDropEffect:aS,ariaErrorMessage:null,ariaExpanded:rS,ariaFlowTo:aS,ariaGrabbed:rS,ariaHasPopup:null,ariaHidden:rS,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:aS,ariaLevel:sS,ariaLive:null,ariaModal:rS,ariaMultiLine:rS,ariaMultiSelectable:rS,ariaOrientation:null,ariaOwns:aS,ariaPlaceholder:null,ariaPosInSet:sS,ariaPressed:rS,ariaReadOnly:rS,ariaRelevant:null,ariaRequired:rS,ariaRoleDescription:aS,ariaRowCount:sS,ariaRowIndex:sS,ariaRowSpan:sS,ariaSelected:rS,ariaSetSize:sS,ariaSort:null,ariaValueMax:sS,ariaValueMin:sS,ariaValueNow:sS,ariaValueText:null,role:null}}),wS=gS({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:SS,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cS,acceptCharset:aS,accessKey:aS,action:null,allow:null,allowFullScreen:iS,allowPaymentRequest:iS,allowUserMedia:iS,alt:null,as:null,async:iS,autoCapitalize:null,autoComplete:aS,autoFocus:iS,autoPlay:iS,blocking:aS,capture:null,charSet:null,checked:iS,cite:null,className:aS,cols:sS,colSpan:null,content:null,contentEditable:rS,controls:iS,controlsList:aS,coords:sS|cS,crossOrigin:null,data:null,dateTime:null,decoding:null,default:iS,defer:iS,dir:null,dirName:null,disabled:iS,download:oS,draggable:rS,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:iS,formTarget:null,headers:aS,height:sS,hidden:iS,high:sS,href:null,hrefLang:null,htmlFor:aS,httpEquiv:aS,id:null,imageSizes:null,imageSrcSet:null,inert:iS,inputMode:null,integrity:null,is:null,isMap:iS,itemId:null,itemProp:aS,itemRef:aS,itemScope:iS,itemType:aS,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:iS,low:sS,manifest:null,max:null,maxLength:sS,media:null,method:null,min:null,minLength:sS,multiple:iS,muted:iS,name:null,nonce:null,noModule:iS,noValidate:iS,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:iS,optimum:sS,pattern:null,ping:aS,placeholder:null,playsInline:iS,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:iS,referrerPolicy:null,rel:aS,required:iS,reversed:iS,rows:sS,rowSpan:sS,sandbox:aS,scope:null,scoped:iS,seamless:iS,selected:iS,shadowRootClonable:iS,shadowRootDelegatesFocus:iS,shadowRootMode:null,shape:null,size:sS,sizes:null,slot:null,span:sS,spellCheck:rS,src:null,srcDoc:null,srcLang:null,srcSet:null,start:sS,step:null,style:null,tabIndex:sS,target:null,title:null,translate:null,type:null,typeMustMatch:iS,useMap:null,value:rS,width:sS,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:aS,axis:null,background:null,bgColor:null,border:sS,borderColor:null,bottomMargin:sS,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:iS,declare:iS,event:null,face:null,frame:null,frameBorder:null,hSpace:sS,leftMargin:sS,link:null,longDesc:null,lowSrc:null,marginHeight:sS,marginWidth:sS,noResize:iS,noHref:iS,noShade:iS,noWrap:iS,object:null,profile:null,prompt:null,rev:null,rightMargin:sS,rules:null,scheme:null,scrolling:rS,standby:null,summary:null,text:null,topMargin:sS,valueType:null,version:null,vAlign:null,vLink:null,vSpace:sS,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:iS,disableRemotePlayback:iS,prefix:null,property:null,results:sS,security:null,unselectable:null}}),ES=gS({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:yS,properties:{about:lS,accentHeight:sS,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:sS,amplitude:sS,arabicForm:null,ascent:sS,attributeName:null,attributeType:null,azimuth:sS,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:sS,by:null,calcMode:null,capHeight:sS,className:aS,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:sS,diffuseConstant:sS,direction:null,display:null,dur:null,divisor:sS,dominantBaseline:null,download:iS,dx:null,dy:null,edgeMode:null,editable:null,elevation:sS,enableBackground:null,end:null,event:null,exponent:sS,externalResourcesRequired:null,fill:null,fillOpacity:sS,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cS,g2:cS,glyphName:cS,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:sS,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:sS,horizOriginX:sS,horizOriginY:sS,id:null,ideographic:sS,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:sS,k:sS,k1:sS,k2:sS,k3:sS,k4:sS,kernelMatrix:lS,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:sS,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:sS,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:sS,overlineThickness:sS,paintOrder:null,panose1:null,path:null,pathLength:sS,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:aS,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:sS,pointsAtY:sS,pointsAtZ:sS,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lS,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lS,rev:lS,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lS,requiredFeatures:lS,requiredFonts:lS,requiredFormats:lS,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:sS,specularExponent:sS,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:sS,strikethroughThickness:sS,string:null,stroke:null,strokeDashArray:lS,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:sS,strokeOpacity:sS,strokeWidth:null,style:null,surfaceScale:sS,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lS,tabIndex:sS,tableValues:null,target:null,targetX:sS,targetY:sS,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lS,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:sS,underlineThickness:sS,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:sS,values:null,vAlphabetic:sS,vMathematical:sS,vectorEffect:null,vHanging:sS,vIdeographic:sS,version:null,vertAdvY:sS,vertOriginX:sS,vertOriginY:sS,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:sS,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),PS=Zy([vS,mS,CS,bS,wS],"html"),IS=Zy([vS,mS,CS,bS,ES],"svg"),AS=/^data[-\w.:]+$/i,TS=/-[a-z]/g,kS=/[A-Z]/g;function RS(e){return"-"+e.toLowerCase()}function _S(e){return e.charAt(1).toUpperCase()}const DS={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var xS=n(4222);const MS=xS.default||xS,OS=LS("end"),NS=LS("start");function LS(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function zS(e){return e&&"object"===typeof e?"position"in e||"type"in e?qS(e.position):"start"in e||"end"in e?qS(e):"line"in e||"column"in e?FS(e):"":""}function FS(e){return BS(e&&e.line)+":"+BS(e&&e.column)}function qS(e){return FS(e&&e.start)+"-"+FS(e&&e.end)}function BS(e){return e&&"number"===typeof e?e:1}class jS extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let i="",r={},o=!1;if(t&&(r="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?i=e:!r.cause&&e&&(o=!0,i=e.message,r.cause=e),!r.ruleId&&!r.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?r.ruleId=n:(r.source=n.slice(0,e),r.ruleId=n.slice(e+1))}if(!r.place&&r.ancestors&&r.ancestors){const e=r.ancestors[r.ancestors.length-1];e&&(r.place=e.position)}const s=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=zS(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=o&&r.cause&&"string"===typeof r.cause.stack?r.cause.stack:"",this.actual,this.expected,this.note,this.url}}jS.prototype.file="",jS.prototype.name="",jS.prototype.reason="",jS.prototype.message="",jS.prototype.stack="",jS.prototype.column=void 0,jS.prototype.line=void 0,jS.prototype.ancestors=void 0,jS.prototype.cause=void 0,jS.prototype.fatal=void 0,jS.prototype.place=void 0,jS.prototype.ruleId=void 0,jS.prototype.source=void 0;const US={}.hasOwnProperty,VS=new Map,HS=/[A-Z]/g,WS=/-([a-z])/g,GS=new Set(["table","tbody","thead","tfoot","tr"]),KS=new Set(["td","th"]),QS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function JS(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=function(e,t){return n;function n(n,i,r,o){const s=Array.isArray(r.children),a=NS(n);return t(i,r,o,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");i=function(e,t,n){return i;function i(e,i,r,o){const s=Array.isArray(r.children)?n:t;return o?s(i,r,o):s(i,r)}}(0,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?IS:PS,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},o=YS(r,e,void 0);return o&&"string"!==typeof o?o:r.create(e,r.Fragment,{children:o||void 0},void 0)}function YS(e,t,n){return"element"===t.type?function(e,t,n){const i=e.schema;let r=i;"svg"===t.tagName.toLowerCase()&&"html"===i.space&&(r=IS,e.schema=r);e.ancestors.push(t);const o=tC(e,t.tagName,!1),s=function(e,t){const n={};let i,r;for(r in t.properties)if("children"!==r&&US.call(t.properties,r)){const o=eC(e,r,t.properties[r]);if(o){const[r,s]=o;e.tableCellAlignToStyle&&"align"===r&&"string"===typeof s&&KS.has(t.tagName)?i=s:n[r]=s}}if(i){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=i}return n}(e,t);let a=ZS(e,t);GS.has(t.tagName)&&(a=a.filter((function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&$y(t.value):$y(t));var t})));return $S(e,s,o,t),XS(s,a),e.ancestors.pop(),e.schema=i,e.create(t,o,s,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}nC(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const i=e.schema;let r=i;"svg"===t.name&&"html"===i.space&&(r=IS,e.schema=r);e.ancestors.push(t);const o=null===t.name?e.Fragment:tC(e,t.name,!0),s=function(e,t){const n={};for(const i of t.attributes)if("mdxJsxExpressionAttribute"===i.type)if(i.data&&i.data.estree&&e.evaluater){const t=i.data.estree.body[0];t.type;const r=t.expression;r.type;const o=r.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else nC(e,t.position);else{const r=i.name;let o;if(i.value&&"object"===typeof i.value)if(i.value.data&&i.value.data.estree&&e.evaluater){const t=i.value.data.estree.body[0];t.type,o=e.evaluater.evaluateExpression(t.expression)}else nC(e,t.position);else o=null===i.value||i.value;n[r]=o}return n}(e,t),a=ZS(e,t);return $S(e,s,o,t),XS(s,a),e.ancestors.pop(),e.schema=i,e.create(t,o,s,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);nC(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const i={};return XS(i,ZS(e,t)),e.create(t,e.Fragment,i,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function $S(e,t,n,i){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=i)}function XS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ZS(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:VS;for(;++i<t.children.length;){const o=t.children[i];let s;if(e.passKeys){const e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){const t=r.get(e)||0;s=e+"-"+t,r.set(e,t+1)}}const a=YS(e,o,s);void 0!==a&&n.push(a)}return n}function eC(e,t,n){const i=function(e,t){const n=eS(t);let i=t,r=tS;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&AS.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(TS,_S);i="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!TS.test(e)){let n=e.replace(kS,RS);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}r=hS}return new r(i,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===i.property){let t="object"===typeof n?n:function(e,t){const n={};try{MS(t,i)}catch(Xm){if(!e.ignoreInvalidStyle){const n=Xm,i=new jS("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=QS+"#cannot-parse-style-attribute",i}}return n;function i(e,t){let i=e;"--"!==i.slice(0,2)&&("-ms-"===i.slice(0,4)&&(i="ms-"+i.slice(4)),i=i.replace(WS,rC)),n[i]=t}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)US.call(e,n)&&(t[iC(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&i.space?DS[i.property]||i.property:i.attribute,n]}}function tC(e,t,n){let i;if(n)if(t.includes(".")){const e=t.split(".");let n,r=-1;for(;++r<e.length;){const t=Jy(e[r])?{type:"Identifier",name:e[r]}:{type:"Literal",value:e[r]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(r&&"Literal"===t.type),optional:!1}:t}i=n}else i=Jy(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else i={type:"Literal",value:t};if("Literal"===i.type){const t=i.value;return US.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(i);nC(e)}function nC(e,t){const n=new jS("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=QS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function iC(e){let t=e.replace(HS,oC);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function rC(e,t){return t.toUpperCase()}function oC(e){return"-"+e.toLowerCase()}const sC={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var aC=n(579);const cC={};function lC(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return uC(e.children,t,n)}return Array.isArray(e)?uC(e,t,n):""}function uC(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=lC(e[r],t,n);return i.join("")}function dC(e,t,n,i){const r=e.length;let o,s=0;if(t=t<0?-t>r?0:r+t:t>r?r:t,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<i.length;)o=i.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function hC(e,t){return e.length>0?(dC(e,e.length,0,t),e):t}class pC{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const i=t||0;this.setCursor(Math.trunc(e));const r=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&fC(this.left,n),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),fC(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),fC(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);fC(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);fC(this.left,t.reverse())}}}function fC(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function gC(e){const t={};let n,i,r,o,s,a,c,l=-1;const u=new pC(e);for(;++l<u.length;){for(;l in t;)l=t[l];if(n=u.get(l),l&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(l-1)[1].type&&(a=n[1]._tokenizer.events,r=0,r<a.length&&"lineEndingBlank"===a[r][1].type&&(r+=2),r<a.length&&"content"===a[r][1].type))for(;++r<a.length&&"content"!==a[r][1].type;)"chunkText"===a[r][1].type&&(a[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,mC(u,l)),l=t[l],c=!0);else if(n[1]._container){for(r=l,i=void 0;r--&&(o=u.get(r),"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=r);i&&(n[1].end=Object.assign({},u.get(i)[1].start),s=u.slice(i,l),s.unshift(n),u.splice(i,l-i+1,s))}}return dC(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function mC(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const o=[],s=n._tokenizer||i.parser[n.contentType](n.start),a=s.events,c=[],l={};let u,d,h=-1,p=n,f=0,g=0;const m=[g];for(;p;){for(;e.get(++r)[1]!==p;);o.push(r),p._tokenizer||(u=i.sliceStream(p),p.next||u.push(null),d&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<a.length;)"exit"===a[h][0]&&"enter"===a[h-1][0]&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(g=h+1,m.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):m.pop(),h=m.length;h--;){const t=a.slice(m[h],m[h+1]),n=o.pop();c.push([n,n+t.length-1]),e.splice(n,2,t)}for(c.reverse(),h=-1;++h<c.length;)l[f+c[h][0]]=f+c[h][1],f+=c[h][1]-c[h][0]-1;return l}const vC={}.hasOwnProperty;function yC(e,t){let n;for(n in t){const i=(vC.call(e,n)?e[n]:void 0)||(e[n]={}),r=t[n];let o;if(r)for(o in r){vC.call(i,o)||(i[o]=[]);const e=r[o];SC(i[o],Array.isArray(e)?e:e?[e]:[])}}}function SC(e,t){let n=-1;const i=[];for(;++n<t.length;)("after"===t[n].add?e:i).push(t[n]);dC(e,0,0,i)}const CC=xC(/[A-Za-z]/),bC=xC(/[\dA-Za-z]/),wC=xC(/[#-'*+\--9=?A-Z^-~]/);function EC(e){return null!==e&&(e<32||127===e)}const PC=xC(/\d/),IC=xC(/[\dA-Fa-f]/),AC=xC(/[!-/:-@[-`{-~]/);function TC(e){return null!==e&&e<-2}function kC(e){return null!==e&&(e<0||32===e)}function RC(e){return-2===e||-1===e||32===e}const _C=xC(/\p{P}|\p{S}/u),DC=xC(/\s/);function xC(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function MC(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return function(i){if(RC(i))return e.enter(n),s(i);return t(i)};function s(i){return RC(i)&&o++<r?(e.consume(i),s):(e.exit(n),t(i))}}const OC={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),MC(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),i(t)}));let n;return t;function i(t){const i=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=i),n=i,r(t)}function r(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):TC(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),r)}}};const NC={tokenize:function(e){const t=this,n=[];let i,r,o,s=0;return a;function a(i){if(s<n.length){const r=n[s];return t.containerState=r[1],e.attempt(r[0].continuation,c,l)(i)}return l(i)}function c(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const n=t.events.length;let r,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){r=t.events[o][1].end;break}v(s);let a=n;for(;a<t.events.length;)t.events[a][1].end=Object.assign({},r),a++;return dC(t.events,o+1,0,t.events.slice(n)),t.events.length=a,l(e)}return a(e)}function l(r){if(s===n.length){if(!i)return h(r);if(i.currentConstruct&&i.currentConstruct.concrete)return f(r);t.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(LC,u,d)(r)}function u(e){return i&&y(),v(s),h(e)}function d(e){return t.parser.lazy[t.now().line]=s!==n.length,o=t.now().offset,f(e)}function h(n){return t.containerState={},e.attempt(LC,p,f)(n)}function p(e){return s++,n.push([t.currentConstruct,t.containerState]),h(e)}function f(n){return null===n?(i&&y(),v(0),void e.consume(n)):(i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:r,_tokenizer:i}),g(n))}function g(n){return null===n?(m(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):TC(n)?(e.consume(n),m(e.exit("chunkFlow")),s=0,t.interrupt=void 0,a):(e.consume(n),g)}function m(e,n){const a=t.sliceStream(e);if(n&&a.push(null),e.previous=r,r&&(r.next=e),r=e,i.defineSkip(e.start),i.write(a),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<o&&(!i.events[e][1].end||i.events[e][1].end.offset>o))return;const n=t.events.length;let r,a,c=n;for(;c--;)if("exit"===t.events[c][0]&&"chunkFlow"===t.events[c][1].type){if(r){a=t.events[c][1].end;break}r=!0}for(v(s),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},a),e++;dC(t.events,c+1,0,t.events.slice(n)),t.events.length=e}}function v(i){let r=n.length;for(;r-- >i;){const i=n[r];t.containerState=i[1],i[0].exit.call(t,e)}n.length=i}function y(){i.write([null]),r=void 0,i=void 0,t.containerState._closeFlow=void 0}}},LC={tokenize:function(e,t,n){return MC(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const zC={tokenize:function(e,t,n){return function(t){return RC(t)?MC(e,i,"linePrefix")(t):i(t)};function i(e){return null===e||TC(e)?t(e):n(e)}},partial:!0};const FC={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?r(t):TC(t)?e.check(qC,o,r)(t):(e.consume(t),i)}function r(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}},resolve:function(e){return gC(e),e}},qC={tokenize:function(e,t,n){const i=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),MC(e,r,"linePrefix")};function r(r){if(null===r||TC(r))return n(r);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(r):e.interrupt(i.parser.constructs.flow,n,t)(r)}},partial:!0};const BC={tokenize:function(e){const t=this,n=e.attempt(zC,(function(i){if(null===i)return void e.consume(i);return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,i,MC(e,e.attempt(this.parser.constructs.flow,i,e.attempt(FC,i)),"linePrefix")));return n;function i(i){if(null!==i)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}};const jC={resolveAll:WC()},UC=HC("string"),VC=HC("text");function HC(e){return{tokenize:function(t){const n=this,i=this.parser.constructs[e],r=t.attempt(i,o,s);return o;function o(e){return c(e)?r(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),a;t.consume(e)}function a(e){return c(e)?(t.exit("data"),r(e)):(t.consume(e),a)}function c(e){if(null===e)return!0;const t=i[e];let r=-1;if(t)for(;++r<t.length;){const e=t[r];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:WC("text"===e?GC:void 0)}}function WC(e){return function(t,n){let i,r=-1;for(;++r<=t.length;)void 0===i?t[r]&&"data"===t[r][1].type&&(i=r,r++):t[r]&&"data"===t[r][1].type||(r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(t,n):t}}function GC(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const i=e[n-1][1],r=t.sliceStream(i);let o,s=r.length,a=-1,c=0;for(;s--;){const e=r[s];if("string"===typeof e){for(a=e.length;32===e.charCodeAt(a-1);)c++,a--;if(a)break;a=-1}else if(-2===e)o=!0,c++;else if(-1!==e){s++;break}}if(c){const r={type:n===e.length||o||c<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-c,offset:i.end.offset-c,_index:i.start._index+s,_bufferIndex:s?a:i.start._bufferIndex+a},end:Object.assign({},i.end)};i.end=Object.assign({},r.start),i.start.offset===i.end.offset?Object.assign(i,r):(e.splice(n,0,["enter",r,t],["exit",r,t]),n+=2)}n++}return e}function KC(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const o=e[r].resolveAll;o&&!i.includes(o)&&(t=o(t,n),i.push(o))}return t}function QC(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},o=[];let s=[],a=[],c=!0;const l={consume:function(e){TC(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,C()):-1!==e&&(i.column++,i.offset++);i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++));u.previous=e,c=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=f(),u.events.push(["enter",n,u]),a.push(n),n},exit:function(e){const t=a.pop();return t.end=f(),u.events.push(["exit",t,u]),t},attempt:y((function(e,t){S(e,t.from)})),check:y(v),interrupt:y(v,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:p,sliceSerialize:function(e,t){return function(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const o=e[n];let s;if("string"===typeof o)s=o;else switch(o){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&r)continue;s=" ";break;default:s=String.fromCharCode(o)}r=-2===o,i.push(s)}return i.join("")}(p(e),t)},now:f,defineSkip:function(e){r[e.line]=e.column,C()},write:function(e){if(s=hC(s,e),g(),null!==s[s.length-1])return[];return S(t,0),u.events=KC(o,u.events,u),u.events}};let d,h=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function p(e){return function(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,o=t.end._bufferIndex;let s;if(n===r)s=[e[n].slice(i,o)];else{if(s=e.slice(n,r),i>-1){const e=s[0];"string"===typeof e?s[0]=e.slice(i):s.shift()}o>0&&s.push(e[r].slice(0,o))}return s}(s,e)}function f(){const{line:e,column:t,offset:n,_index:r,_bufferIndex:o}=i;return{line:e,column:t,offset:n,_index:r,_bufferIndex:o}}function g(){let e;for(;i._index<s.length;){const t=s[i._index];if("string"===typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)m(t.charCodeAt(i._bufferIndex));else m(t)}}function m(e){c=void 0,d=e,h=h(e)}function v(e,t){t.restore()}function y(e,t){return function(n,r,o){let s,d,h,p;return Array.isArray(n)?g(n):"tokenize"in n?g([n]):function(e){return t;function t(t){const n=null!==t&&e[t],i=null!==t&&e.null;return g([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(i)?i:i?[i]:[]])(t)}}(n);function g(e){return s=e,d=0,0===e.length?o:m(e[d])}function m(e){return function(n){p=function(){const e=f(),t=u.previous,n=u.currentConstruct,r=u.events.length,o=Array.from(a);return{restore:s,from:r};function s(){i=e,u.previous=t,u.currentConstruct=n,u.events.length=r,a=o,C()}}(),h=e,e.partial||(u.currentConstruct=e);if(e.name&&u.parser.constructs.disable.null.includes(e.name))return y(n);return e.tokenize.call(t?Object.assign(Object.create(u),t):u,l,v,y)(n)}}function v(t){return c=!0,e(h,p),r}function y(e){return c=!0,p.restore(),++d<s.length?m(s[d]):o}}}function S(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&dC(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function C(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}const JC={name:"thematicBreak",tokenize:function(e,t,n){let i,r=0;return function(t){return e.enter("thematicBreak"),function(e){return i=e,o(e)}(t)};function o(o){return o===i?(e.enter("thematicBreakSequence"),s(o)):r>=3&&(null===o||TC(o))?(e.exit("thematicBreak"),t(o)):n(o)}function s(t){return t===i?(e.consume(t),r++,s):(e.exit("thematicBreakSequence"),RC(t)?MC(e,o,"whitespace")(t):o(t))}}};const YC={name:"list",tokenize:function(e,t,n){const i=this,r=i.events[i.events.length-1];let o=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0,s=0;return function(t){const r=i.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===r?!i.containerState.marker||t===i.containerState.marker:PC(t)){if(i.containerState.type||(i.containerState.type=r,e.enter(r,{_container:!0})),"listUnordered"===r)return e.enter("listItemPrefix"),42===t||45===t?e.check(JC,n,c)(t):c(t);if(!i.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(t)}return n(t)};function a(t){return PC(t)&&++s<10?(e.consume(t),a):(!i.interrupt||s<2)&&(i.containerState.marker?t===i.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),c(t)):n(t)}function c(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||t,e.check(zC,i.interrupt?n:l,e.attempt($C,d,u))}function l(e){return i.containerState.initialBlankLine=!0,o++,d(e)}function u(t){return RC(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(zC,r,o);function r(n){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,MC(e,t,"listItemIndent",i.containerState.size+1)(n)}function o(n){return i.containerState.furtherBlankLines||!RC(n)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s(n)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(XC,t,s)(n))}function s(r){return i.containerState._closeFlow=!0,i.interrupt=void 0,MC(e,e.attempt(YC,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(r)}}},exit:function(e){e.exit(this.containerState.type)}},$C={tokenize:function(e,t,n){const i=this;return MC(e,(function(e){const r=i.events[i.events.length-1];return!RC(e)&&r&&"listItemPrefixWhitespace"===r[1].type?t(e):n(e)}),"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},XC={tokenize:function(e,t,n){const i=this;return MC(e,(function(e){const r=i.events[i.events.length-1];return r&&"listItemIndent"===r[1].type&&r[2].sliceSerialize(r[1],!0).length===i.containerState.size?t(e):n(e)}),"listItemIndent",i.containerState.size+1)},partial:!0};const ZC={name:"blockQuote",tokenize:function(e,t,n){const i=this;return function(t){if(62===t){const n=i.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),r}return n(t)};function r(n){return RC(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const i=this;return function(t){if(RC(t))return MC(e,r,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return r(t)};function r(i){return e.attempt(ZC,t,n)(i)}}},exit:function(e){e.exit("blockQuote")}};function eb(e,t,n,i,r,o,s,a,c){const l=c||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(i),e.enter(r),e.enter(o),e.consume(t),e.exit(o),d;if(null===t||32===t||41===t||EC(t))return n(t);return e.enter(i),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),f(t)};function d(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(r),e.exit(i),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(a),d(t)):null===t||60===t||TC(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(r){return u||null!==r&&41!==r&&!kC(r)?u<l&&40===r?(e.consume(r),u++,f):41===r?(e.consume(r),u--,f):null===r||32===r||40===r||EC(r)?n(r):(e.consume(r),92===r?g:f):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(i),t(r))}function g(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function tb(e,t,n,i,r,o){const s=this;let a,c=0;return function(t){return e.enter(i),e.enter(r),e.consume(t),e.exit(r),e.enter(o),l};function l(d){return c>999||null===d||91===d||93===d&&!a||94===d&&!c&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):93===d?(e.exit(o),e.enter(r),e.consume(d),e.exit(r),e.exit(i),t):TC(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||TC(t)||c++>999?(e.exit("chunkString"),l(t)):(e.consume(t),a||(a=!RC(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),c++,u):u(t)}}function nb(e,t,n,i,r,o){let s;return function(t){if(34===t||39===t||40===t)return e.enter(i),e.enter(r),e.consume(t),e.exit(r),s=40===t?41:t,a;return n(t)};function a(n){return n===s?(e.enter(r),e.consume(n),e.exit(r),e.exit(i),t):(e.enter(o),c(n))}function c(t){return t===s?(e.exit(o),a(s)):null===t?n(t):TC(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),MC(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(t))}function l(t){return t===s||null===t||TC(t)?(e.exit("chunkString"),c(t)):(e.consume(t),92===t?u:l)}function u(t){return t===s||92===t?(e.consume(t),l):l(t)}}function ib(e,t){let n;return function i(r){if(TC(r))return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i;if(RC(r))return MC(e,i,n?"linePrefix":"lineSuffix")(r);return t(r)}}function rb(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ob={name:"definition",tokenize:function(e,t,n){const i=this;let r;return function(t){return e.enter("definition"),function(t){return tb.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function o(t){return r=rb(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return kC(t)?ib(e,a)(t):a(t)}function a(t){return eb(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function c(t){return e.attempt(sb,l,l)(t)}function l(t){return RC(t)?MC(e,u,"whitespace")(t):u(t)}function u(o){return null===o||TC(o)?(e.exit("definition"),i.parser.defined.push(r),t(o)):n(o)}}},sb={tokenize:function(e,t,n){return function(t){return kC(t)?ib(e,i)(t):n(t)};function i(t){return nb(e,r,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function r(t){return RC(t)?MC(e,o,"whitespace")(t):o(t)}function o(e){return null===e||TC(e)?t(e):n(e)}},partial:!0};const ab={name:"codeIndented",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("codeIndented"),MC(e,r,"linePrefix",5)(t)};function r(e){const t=i.events[i.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?a(t):TC(t)?e.attempt(cb,o,a)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||TC(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),s)}function a(n){return e.exit("codeIndented"),t(n)}}},cb={tokenize:function(e,t,n){const i=this;return r;function r(t){return i.parser.lazy[i.now().line]?n(t):TC(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r):MC(e,o,"linePrefix",5)(t)}function o(e){const o=i.events[i.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):TC(e)?r(e):n(e)}},partial:!0};const lb={name:"headingAtx",tokenize:function(e,t,n){let i=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),r(t)}(t)};function r(t){return 35===t&&i++<6?(e.consume(t),r):null===t||kC(t)?(e.exit("atxHeadingSequence"),o(t)):n(t)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||TC(n)?(e.exit("atxHeading"),t(n)):RC(n)?MC(e,o,"whitespace")(n):(e.enter("atxHeadingText"),a(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),o(t))}function a(t){return null===t||35===t||kC(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),a)}},resolve:function(e,t){let n,i,r=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);r-2>o&&"whitespace"===e[r][1].type&&(r-=2);"atxHeadingSequence"===e[r][1].type&&(o===r-1||r-4>o&&"whitespace"===e[r-2][1].type)&&(r-=o+1===r?2:4);r>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[r][1].end},i={type:"chunkText",start:e[o][1].start,end:e[r][1].end,contentType:"text"},dC(e,o,r-o+1,[["enter",n,t],["enter",i,t],["exit",i,t],["exit",n,t]]));return e}};const ub={name:"setextUnderline",tokenize:function(e,t,n){const i=this;let r;return function(t){let s,a=i.events.length;for(;a--;)if("lineEnding"!==i.events[a][1].type&&"linePrefix"!==i.events[a][1].type&&"content"!==i.events[a][1].type){s="paragraph"===i.events[a][1].type;break}if(!i.parser.lazy[i.now().line]&&(i.interrupt||s))return e.enter("setextHeadingLine"),r=t,function(t){return e.enter("setextHeadingLineSequence"),o(t)}(t);return n(t)};function o(t){return t===r?(e.consume(t),o):(e.exit("setextHeadingLineSequence"),RC(t)?MC(e,s,"lineSuffix")(t):s(t))}function s(i){return null===i||TC(i)?(e.exit("setextHeadingLine"),t(i)):n(i)}},resolveTo:function(e,t){let n,i,r,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(i=o)}else"content"===e[o][1].type&&e.splice(o,1),r||"definition"!==e[o][1].type||(r=o);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};e[i][1].type="setextHeadingText",r?(e.splice(i,0,["enter",s,t]),e.splice(r+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[r][1].end)):e[n][1]=s;return e.push(["exit",s,t]),e}};const db=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hb=["pre","script","style","textarea"],pb={name:"htmlFlow",tokenize:function(e,t,n){const i=this;let r,o,s,a,c;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),l}(t)};function l(a){return 33===a?(e.consume(a),u):47===a?(e.consume(a),o=!0,p):63===a?(e.consume(a),r=3,i.interrupt?t:O):CC(a)?(e.consume(a),s=String.fromCharCode(a),f):n(a)}function u(o){return 45===o?(e.consume(o),r=2,d):91===o?(e.consume(o),r=5,a=0,h):CC(o)?(e.consume(o),r=4,i.interrupt?t:O):n(o)}function d(r){return 45===r?(e.consume(r),i.interrupt?t:O):n(r)}function h(r){const o="CDATA[";return r===o.charCodeAt(a++)?(e.consume(r),6===a?i.interrupt?t:A:h):n(r)}function p(t){return CC(t)?(e.consume(t),s=String.fromCharCode(t),f):n(t)}function f(a){if(null===a||47===a||62===a||kC(a)){const c=47===a,l=s.toLowerCase();return c||o||!hb.includes(l)?db.includes(s.toLowerCase())?(r=6,c?(e.consume(a),g):i.interrupt?t(a):A(a)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(a):o?m(a):v(a)):(r=1,i.interrupt?t(a):A(a))}return 45===a||bC(a)?(e.consume(a),s+=String.fromCharCode(a),f):n(a)}function g(r){return 62===r?(e.consume(r),i.interrupt?t:A):n(r)}function m(t){return RC(t)?(e.consume(t),m):P(t)}function v(t){return 47===t?(e.consume(t),P):58===t||95===t||CC(t)?(e.consume(t),y):RC(t)?(e.consume(t),v):P(t)}function y(t){return 45===t||46===t||58===t||95===t||bC(t)?(e.consume(t),y):S(t)}function S(t){return 61===t?(e.consume(t),C):RC(t)?(e.consume(t),S):v(t)}function C(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),c=t,b):RC(t)?(e.consume(t),C):w(t)}function b(t){return t===c?(e.consume(t),c=null,E):null===t||TC(t)?n(t):(e.consume(t),b)}function w(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||kC(t)?S(t):(e.consume(t),w)}function E(e){return 47===e||62===e||RC(e)?v(e):n(e)}function P(t){return 62===t?(e.consume(t),I):n(t)}function I(t){return null===t||TC(t)?A(t):RC(t)?(e.consume(t),I):n(t)}function A(t){return 45===t&&2===r?(e.consume(t),_):60===t&&1===r?(e.consume(t),D):62===t&&4===r?(e.consume(t),N):63===t&&3===r?(e.consume(t),O):93===t&&5===r?(e.consume(t),M):!TC(t)||6!==r&&7!==r?null===t||TC(t)?(e.exit("htmlFlowData"),T(t)):(e.consume(t),A):(e.exit("htmlFlowData"),e.check(fb,L,T)(t))}function T(t){return e.check(gb,k,L)(t)}function k(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return null===t||TC(t)?T(t):(e.enter("htmlFlowData"),A(t))}function _(t){return 45===t?(e.consume(t),O):A(t)}function D(t){return 47===t?(e.consume(t),s="",x):A(t)}function x(t){if(62===t){const n=s.toLowerCase();return hb.includes(n)?(e.consume(t),N):A(t)}return CC(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),x):A(t)}function M(t){return 93===t?(e.consume(t),O):A(t)}function O(t){return 62===t?(e.consume(t),N):45===t&&2===r?(e.consume(t),O):A(t)}function N(t){return null===t||TC(t)?(e.exit("htmlFlowData"),L(t)):(e.consume(t),N)}function L(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},fb={tokenize:function(e,t,n){return function(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(zC,t,n)}},partial:!0},gb={tokenize:function(e,t,n){const i=this;return function(t){if(TC(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r;return n(t)};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0};const mb={tokenize:function(e,t,n){const i=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0},vb={name:"codeFenced",tokenize:function(e,t,n){const i=this,r={tokenize:function(e,t,n){let r=0;return s;function s(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),c}function c(t){return e.enter("codeFencedFence"),RC(t)?MC(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===o?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===o?(r++,e.consume(t),u):r>=a?(e.exit("codeFencedFenceSequence"),RC(t)?MC(e,d,"whitespace")(t):d(t)):n(t)}function d(i){return null===i||TC(i)?(e.exit("codeFencedFence"),t(i)):n(i)}},partial:!0};let o,s=0,a=0;return function(t){return function(t){const n=i.events[i.events.length-1];return s=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,o=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(t)}(t)};function c(t){return t===o?(a++,e.consume(t),c):a<3?n(t):(e.exit("codeFencedFenceSequence"),RC(t)?MC(e,l,"whitespace")(t):l(t))}function l(n){return null===n||TC(n)?(e.exit("codeFencedFence"),i.interrupt?t(n):e.check(mb,p,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||TC(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),l(t)):RC(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),MC(e,d,"whitespace")(t)):96===t&&t===o?n(t):(e.consume(t),u)}function d(t){return null===t||TC(t)?l(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||TC(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),l(t)):96===t&&t===o?n(t):(e.consume(t),h)}function p(t){return e.attempt(r,y,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),g}function g(t){return s>0&&RC(t)?MC(e,m,"linePrefix",s+1)(t):m(t)}function m(t){return null===t||TC(t)?e.check(mb,p,y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||TC(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const yb=document.createElement("i");function Sb(e){const t="&"+e+";";yb.innerHTML=t;const n=yb.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const Cb={name:"characterReference",tokenize:function(e,t,n){const i=this;let r,o,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),a};function a(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),r=31,o=bC,l(t))}function c(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,o=IC,l):(e.enter("characterReferenceValue"),r=7,o=PC,l(t))}function l(a){if(59===a&&s){const r=e.exit("characterReferenceValue");return o!==bC||Sb(i.sliceSerialize(r))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)}return o(a)&&s++<r?(e.consume(a),l):n(a)}}};const bb={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return AC(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}};const wb={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),MC(e,t,"linePrefix")}}};const Eb={name:"labelEnd",tokenize:function(e,t,n){const i=this;let r,o,s=i.events.length;for(;s--;)if(("labelImage"===i.events[s][1].type||"labelLink"===i.events[s][1].type)&&!i.events[s][1]._balanced){r=i.events[s][1];break}return function(t){if(!r)return n(t);if(r._inactive)return u(t);return o=i.parser.defined.includes(rb(i.sliceSerialize({start:r.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),a};function a(t){return 40===t?e.attempt(Pb,l,o?l:u)(t):91===t?e.attempt(Ib,l,o?c:u)(t):o?l(t):u(t)}function c(t){return e.attempt(Ab,l,u)(t)}function l(e){return t(e)}function u(e){return r._balanced=!0,n(e)}},resolveTo:function(e,t){let n,i,r,o,s=e.length,a=0;for(;s--;)if(n=e[s][1],i){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(r){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(i=s,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(r=s);const c={type:"labelLink"===e[i][1].type?"link":"image",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[i][1].start),end:Object.assign({},e[r][1].end)},u={type:"labelText",start:Object.assign({},e[i+a+2][1].end),end:Object.assign({},e[r-2][1].start)};return o=[["enter",c,t],["enter",l,t]],o=hC(o,e.slice(i+1,i+a+3)),o=hC(o,[["enter",u,t]]),o=hC(o,KC(t.parser.constructs.insideSpan.null,e.slice(i+a+4,r-3),t)),o=hC(o,[["exit",u,t],e[r-2],e[r-1],["exit",l,t]]),o=hC(o,e.slice(r+1)),o=hC(o,[["exit",c,t]]),dC(e,i,e.length,o),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},Pb={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),i};function i(t){return kC(t)?ib(e,r)(t):r(t)}function r(t){return 41===t?l(t):eb(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return kC(t)?ib(e,a)(t):l(t)}function s(e){return n(e)}function a(t){return 34===t||39===t||40===t?nb(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):l(t)}function c(t){return kC(t)?ib(e,l)(t):l(t)}function l(i){return 41===i?(e.enter("resourceMarker"),e.consume(i),e.exit("resourceMarker"),e.exit("resource"),t):n(i)}}},Ib={tokenize:function(e,t,n){const i=this;return function(t){return tb.call(i,e,r,o,"reference","referenceMarker","referenceString")(t)};function r(e){return i.parser.defined.includes(rb(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}},Ab={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i};function i(i){return 93===i?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}};const Tb={name:"labelStartImage",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),r};function r(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}},resolveAll:Eb.resolveAll};function kb(e){return null===e||kC(e)||DC(e)?1:_C(e)?2:void 0}const Rb={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=kb(i);let o;return function(t){return o=t,e.enter("attentionSequence"),s(t)};function s(a){if(a===o)return e.consume(a),s;const c=e.exit("attentionSequence"),l=kb(a),u=!l||2===l&&r||n.includes(a),d=!r||2===r&&l||n.includes(i);return c._open=Boolean(42===o?u:u&&(r||!d)),c._close=Boolean(42===o?d:d&&(l||!u)),t(a)}},resolveAll:function(e,t){let n,i,r,o,s,a,c,l,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d=Object.assign({},e[n][1].end),h=Object.assign({},e[u][1].start);_b(d,-a),_b(h,a),o={type:a>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},s={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:h},r={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[n][1].end=Object.assign({},o.start),e[u][1].start=Object.assign({},s.end),c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=hC(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=hC(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",r,t]]),c=hC(c,KC(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),c=hC(c,[["exit",r,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[u][1].end.offset-e[u][1].start.offset?(l=2,c=hC(c,[["enter",e[u][1],t],["exit",e[u][1],t]])):l=0,dC(e,n-1,u-n+3,c),u=n+c.length-l-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e}};function _b(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Db={name:"autolink",tokenize:function(e,t,n){let i=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),r};function r(t){return CC(t)?(e.consume(t),o):64===t?n(t):c(t)}function o(e){return 43===e||45===e||46===e||bC(e)?(i=1,s(e)):c(e)}function s(t){return 58===t?(e.consume(t),i=0,a):(43===t||45===t||46===t||bC(t))&&i++<32?(e.consume(t),s):(i=0,c(t))}function a(i){return 62===i?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(i),e.exit("autolinkMarker"),e.exit("autolink"),t):null===i||32===i||60===i||EC(i)?n(i):(e.consume(i),a)}function c(t){return 64===t?(e.consume(t),l):wC(t)?(e.consume(t),c):n(t)}function l(e){return bC(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),i=0,l):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||bC(t))&&i++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const xb={name:"htmlText",tokenize:function(e,t,n){const i=this;let r,o,s;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),a};function a(t){return 33===t?(e.consume(t),c):47===t?(e.consume(t),C):63===t?(e.consume(t),y):CC(t)?(e.consume(t),E):n(t)}function c(t){return 45===t?(e.consume(t),l):91===t?(e.consume(t),o=0,p):CC(t)?(e.consume(t),v):n(t)}function l(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):TC(t)?(s=u,x(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?D(e):45===e?d(e):u(e)}function p(t){const i="CDATA[";return t===i.charCodeAt(o++)?(e.consume(t),6===o?f:p):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),g):TC(t)?(s=f,x(t)):(e.consume(t),f)}function g(t){return 93===t?(e.consume(t),m):f(t)}function m(t){return 62===t?D(t):93===t?(e.consume(t),m):f(t)}function v(t){return null===t||62===t?D(t):TC(t)?(s=v,x(t)):(e.consume(t),v)}function y(t){return null===t?n(t):63===t?(e.consume(t),S):TC(t)?(s=y,x(t)):(e.consume(t),y)}function S(e){return 62===e?D(e):y(e)}function C(t){return CC(t)?(e.consume(t),b):n(t)}function b(t){return 45===t||bC(t)?(e.consume(t),b):w(t)}function w(t){return TC(t)?(s=w,x(t)):RC(t)?(e.consume(t),w):D(t)}function E(t){return 45===t||bC(t)?(e.consume(t),E):47===t||62===t||kC(t)?P(t):n(t)}function P(t){return 47===t?(e.consume(t),D):58===t||95===t||CC(t)?(e.consume(t),I):TC(t)?(s=P,x(t)):RC(t)?(e.consume(t),P):D(t)}function I(t){return 45===t||46===t||58===t||95===t||bC(t)?(e.consume(t),I):A(t)}function A(t){return 61===t?(e.consume(t),T):TC(t)?(s=A,x(t)):RC(t)?(e.consume(t),A):P(t)}function T(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,k):TC(t)?(s=T,x(t)):RC(t)?(e.consume(t),T):(e.consume(t),R)}function k(t){return t===r?(e.consume(t),r=void 0,_):null===t?n(t):TC(t)?(s=k,x(t)):(e.consume(t),k)}function R(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||kC(t)?P(t):(e.consume(t),R)}function _(e){return 47===e||62===e||kC(e)?P(e):n(e)}function D(i){return 62===i?(e.consume(i),e.exit("htmlTextData"),e.exit("htmlText"),t):n(i)}function x(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),M}function M(t){return RC(t)?MC(e,O,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):O(t)}function O(t){return e.enter("htmlTextData"),s(t)}}};const Mb={name:"labelStartLink",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),r};function r(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}},resolveAll:Eb.resolveAll};const Ob={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),i};function i(i){return TC(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}};const Nb={name:"codeText",tokenize:function(e,t,n){let i,r,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),o++,s):(e.exit("codeTextSequence"),a(t))}function a(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),a):96===t?(r=e.enter("codeTextSequence"),i=0,l(t)):TC(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):(e.enter("codeTextData"),c(t))}function c(t){return null===t||32===t||96===t||TC(t)?(e.exit("codeTextData"),a(t)):(e.consume(t),c)}function l(n){return 96===n?(e.consume(n),i++,l):i===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(r.type="codeTextData",c(n))}},resolve:function(e){let t,n,i=e.length-4,r=3;if(("lineEnding"===e[r][1].type||"space"===e[r][1].type)&&("lineEnding"===e[i][1].type||"space"===e[i][1].type))for(t=r;++t<i;)if("codeTextData"===e[t][1].type){e[r][1].type="codeTextPadding",e[i][1].type="codeTextPadding",r+=2,i-=2;break}t=r-1,i++;for(;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};const Lb={42:YC,43:YC,45:YC,48:YC,49:YC,50:YC,51:YC,52:YC,53:YC,54:YC,55:YC,56:YC,57:YC,62:ZC},zb={91:ob},Fb={[-2]:ab,[-1]:ab,32:ab},qb={35:lb,42:JC,45:[ub,JC],60:pb,61:ub,95:JC,96:vb,126:vb},Bb={38:Cb,92:bb},jb={[-5]:wb,[-4]:wb,[-3]:wb,33:Tb,38:Cb,42:Rb,60:[Db,xb],91:Mb,92:[Ob,bb],93:Eb,95:Rb,96:Nb},Ub={null:[Rb,jC]},Vb={null:[42,95]},Hb={null:[]};function Wb(e){const t=function(e){const t={};let n=-1;for(;++n<e.length;)yC(t,e[n]);return t}([s,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:t,content:i(OC),document:i(NC),flow:i(BC),string:i(UC),text:i(VC)};return n;function i(e){return function(t){return QC(n,e,t)}}}const Gb=/[\0\t\n\r]/g;function Kb(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const Qb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Jb(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Kb(n.slice(t?2:1),t?16:10)}return Sb(n)||e}const Yb={}.hasOwnProperty;function $b(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(te),autolinkProtocol:I,autolinkEmail:I,atxHeading:o($),blockQuote:o(G),characterEscape:I,characterReference:I,codeFenced:o(K),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(K,s),codeText:o(Q,s),codeTextData:I,data:I,codeFlowValue:I,definition:o(J),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Y),hardBreakEscape:o(X),hardBreakTrailing:o(X),htmlFlow:o(Z,s),htmlFlowData:I,htmlText:o(Z,s),htmlTextData:I,image:o(ee),label:s,link:o(te),listItem:o(ie),listItemValue:h,listOrdered:o(ne,d),listUnordered:o(ne),paragraph:o(re),reference:q,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o($),strong:o(oe),thematicBreak:o(ae)},exit:{atxHeading:c(),atxHeadingSequence:b,autolink:c(),autolinkEmail:W,autolinkProtocol:H,blockQuote:c(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:j,characterReferenceMarkerNumeric:j,characterReferenceValue:U,characterReference:V,codeFenced:c(m),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:f,codeFlowValue:A,codeIndented:c(v),codeText:c(D),codeTextData:A,data:A,definition:c(),definitionDestinationString:C,definitionLabelString:y,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(k),hardBreakTrailing:c(k),htmlFlow:c(R),htmlFlowData:A,htmlText:c(_),htmlTextData:A,image:c(M),label:N,labelText:O,lineEnding:T,link:c(x),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:B,resourceDestinationString:L,resourceTitleString:z,resource:F,setextHeading:c(P),setextHeadingLineSequence:E,setextHeadingText:w,strong:c(),thematicBreak:c()}};Zb(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(e){let i={type:"root",children:[]};const o={stack:[i],tokenStack:[],config:t,enter:a,exit:l,buffer:s,resume:u,data:n},c=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])c.push(d);else{d=r(e,c.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];Yb.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},o),e[d][1])}if(o.tokenStack.length>0){const e=o.tokenStack[o.tokenStack.length-1];(e[1]||tw).call(o,void 0,e[0])}for(i.position={start:Xb(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Xb(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)i=t.transforms[d](i)||i;return i}function r(e,t,n){let i,r,o,s,a=t-1,c=-1,l=!1;for(;++a<=n;){const t=e[a];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?c++:c--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!i||s||c||o||(o=a),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!c&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===c&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(i){let s=a;for(r=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;r&&(e[r][1].type="lineEndingBlank",l=!0),t[1].type="lineEnding",r=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!r||o<r)&&(i._spread=!0),i.end=Object.assign({},r?e[r][1].start:t[1].end),e.splice(r||a,0,["exit",i,t[2]]),a++,n++}if("listItemPrefix"===t[1].type){const r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};i=r,e.splice(a,0,["enter",r,t[2]]),a++,n++,o=void 0,s=!0}}}return e[t][1]._spread=l,n}function o(e,t){return n;function n(n){a.call(this,e(n),n),t&&t.call(this,n)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:Xb(t.start),end:void 0}}function c(e){return t;function t(t){e&&e.call(this,t),l.call(this,t)}}function l(e,t){const n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+e.type+"` ("+zS({start:e.start,end:e.end})+"): it\u2019s not open");if(i[0].type!==e.type)if(t)t.call(this,e,i[0]);else{(i[1]||tw).call(this,e,i[0])}n.position.end=Xb(e.end)}function u(){return function(e,t){const n=t||cC;return lC(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function f(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=rb(this.sliceSerialize(e)).toLowerCase()}function S(){const e=this.resume();this.stack[this.stack.length-1].title=e}function C(){const e=this.resume();this.stack[this.stack.length-1].url=e}function b(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function E(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function I(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=se(),n.position={start:Xb(e.start),end:void 0},t.push(n)),this.stack.push(n)}function A(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Xb(e.end)}function T(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Xb(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(I.call(this,e),A.call(this,e))}function k(){this.data.atHardBreak=!0}function R(){const e=this.resume();this.stack[this.stack.length-1].value=e}function _(){const e=this.resume();this.stack[this.stack.length-1].value=e}function D(){const e=this.resume();this.stack[this.stack.length-1].value=e}function x(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function M(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function O(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Qb,Jb)}(t),n.identifier=rb(t).toLowerCase()}function N(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function L(){const e=this.resume();this.stack[this.stack.length-1].url=e}function z(){const e=this.resume();this.stack[this.stack.length-1].title=e}function F(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function B(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=rb(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function j(e){this.data.characterReferenceType=e.type}function U(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let i;if(n)i=Kb(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{i=Sb(t)}this.stack[this.stack.length-1].value+=i}function V(e){this.stack.pop().position.end=Xb(e.end)}function H(e){A.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function W(e){A.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function G(){return{type:"blockquote",children:[]}}function K(){return{type:"code",lang:null,meta:null,value:""}}function Q(){return{type:"inlineCode",value:""}}function J(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Y(){return{type:"emphasis",children:[]}}function $(){return{type:"heading",depth:0,children:[]}}function X(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ie(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function re(){return{type:"paragraph",children:[]}}function oe(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function ae(){return{type:"thematicBreak"}}}(n)(function(e){for(;!gC(e););return e}(Wb(n).document().write(function(){let e,t=1,n="",i=!0;return function(r,o,s){const a=[];let c,l,u,d,h;for(r=n+("string"===typeof r?r.toString():new TextDecoder(o||void 0).decode(r)),u=0,n="",i&&(65279===r.charCodeAt(0)&&u++,i=void 0);u<r.length;){if(Gb.lastIndex=u,c=Gb.exec(r),d=c&&void 0!==c.index?c.index:r.length,h=r.charCodeAt(d),!c){n=r.slice(u);break}if(10===h&&u===d&&e)a.push(-3),e=void 0;else switch(e&&(a.push(-5),e=void 0),u<d&&(a.push(r.slice(u,d)),t+=d-u),h){case 0:a.push(65533),t++;break;case 9:for(l=4*Math.ceil(t/4),a.push(-2);t++<l;)a.push(-1);break;case 10:a.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return s&&(e&&a.push(-5),n&&a.push(n),a.push(null)),a}}()(e,t,!0))))}function Xb(e){return{line:e.line,column:e.column,offset:e.offset}}function Zb(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Zb(e,i):ew(e,i)}}function ew(e,t){let n;for(n in t)if(Yb.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function tw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+zS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+zS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+zS({start:t.start,end:t.end})+") is still open")}function nw(e){const t=this;t.parser=function(n){return $b(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const iw="object"===typeof self?self:globalThis,rw=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),i=r=>{if(e.has(r))return e.get(r);const[o,s]=t[r];switch(o){case 0:case-1:return n(s,r);case 1:{const e=n([],r);for(const t of s)e.push(i(t));return e}case 2:{const e=n({},r);for(const[t,n]of s)e[i(t)]=i(n);return e}case 3:return n(new Date(s),r);case 4:{const{source:e,flags:t}=s;return n(new RegExp(e,t),r)}case 5:{const e=n(new Map,r);for(const[t,n]of s)e.set(i(t),i(n));return e}case 6:{const e=n(new Set,r);for(const t of s)e.add(i(t));return e}case 7:{const{name:e,message:t}=s;return n(new iw[e](t),r)}case 8:return n(BigInt(s),r);case"BigInt":return n(Object(BigInt(s)),r)}return n(new iw[o](s),r)};return i})(new Map,e)(0),ow="",{toString:sw}={},{keys:aw}=Object,cw=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=sw.call(e).slice(8,-1);switch(n){case"Array":return[1,ow];case"Object":return[2,ow];case"Date":return[3,ow];case"RegExp":return[4,ow];case"Map":return[5,ow];case"Set":return[6,ow]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},lw=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},uw=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[];return((e,t,n,i)=>{const r=(e,t)=>{const r=i.push(e)-1;return n.set(t,r),r},o=i=>{if(n.has(i))return n.get(i);let[s,a]=cw(i);switch(s){case 0:{let t=i;switch(a){case"bigint":s=8,t=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);t=null;break;case"undefined":return r([-1],i)}return r([s,t],i)}case 1:{if(a)return r([a,[...i]],i);const e=[],t=r([s,e],i);for(const n of i)e.push(o(n));return t}case 2:{if(a)switch(a){case"BigInt":return r([a,i.toString()],i);case"Boolean":case"Number":case"String":return r([a,i.valueOf()],i)}if(t&&"toJSON"in i)return o(i.toJSON());const n=[],c=r([s,n],i);for(const t of aw(i))!e&&lw(cw(i[t]))||n.push([o(t),o(i[t])]);return c}case 3:return r([s,i.toISOString()],i);case 4:{const{source:e,flags:t}=i;return r([s,{source:e,flags:t}],i)}case 5:{const t=[],n=r([s,t],i);for(const[r,s]of i)(e||!lw(cw(r))&&!lw(cw(s)))&&t.push([o(r),o(s)]);return n}case 6:{const t=[],n=r([s,t],i);for(const r of i)!e&&lw(cw(r))||t.push(o(r));return n}}const{message:c}=i;return r([s,{name:a,message:c}],i)};return o})(!(t||n),!!t,new Map,i)(e),i},dw="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?rw(uw(e,t)):structuredClone(e):(e,t)=>rw(uw(e,t));function hw(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(37===o&&bC(e.charCodeAt(n+1))&&bC(e.charCodeAt(n+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const t=e.charCodeAt(n+1);o<56320&&t>56319&&t<57344?(s=String.fromCharCode(o,t),r=1):s="\ufffd"}else s=String.fromCharCode(o);s&&(t.push(e.slice(i,n),encodeURIComponent(s)),i=n+r+1,s=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}function pw(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function fw(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const gw=function(e){if(null===e||void 0===e)return vw;if("function"===typeof e)return mw(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=gw(e[n]);return mw(i);function i(){let e=-1;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];for(;++e<t.length;)if(t[e].apply(this,i))return!0;return!1}}(e):function(e){const t=e;return mw(n);function n(n){const i=n;let r;for(r in e)if(i[r]!==t[r])return!1;return!0}}(e);if("string"===typeof e)return function(e){return mw(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function mw(e){return function(t,n,i){return Boolean(yw(t)&&e.call(this,t,"number"===typeof n?n:void 0,i||void 0))}}function vw(){return!0}function yw(e){return null!==e&&"object"===typeof e&&"type"in e}const Sw=[],Cw=!0,bw=!1,ww="skip";function Ew(e,t,n,i){let r;"function"===typeof t&&"function"!==typeof n?(i=n,n=t):r=t;const o=gw(r),s=i?-1:1;!function e(r,a,c){const l=r&&"object"===typeof r?r:{};if("string"===typeof l.type){const e="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0;Object.defineProperty(u,"name",{value:"node ("+r.type+(e?"<"+e+">":"")+")"})}return u;function u(){let l,u,d,h=Sw;if((!t||o(r,a,c[c.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[Cw,e];return null===e||void 0===e?Sw:[e]}(n(r,c)),h[0]===bw))return h;if("children"in r&&r.children){const t=r;if(t.children&&h[0]!==ww)for(u=(i?t.children.length:-1)+s,d=c.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(l=e(n,u,d)(),l[0]===bw)return l;u="number"===typeof l[1]?l[1]:u+s}}return h}}(e,void 0,[])()}function Pw(e,t,n,i){let r,o,s;"function"===typeof t&&"function"!==typeof n?(o=void 0,s=t,r=n):(o=t,s=n,r=i),Ew(e,o,(function(e,t){const n=t[t.length-1],i=n?n.children.indexOf(e):void 0;return s(e,i,n)}),r)}function Iw(e,t){const n=t.referenceType;let i="]";if("collapsed"===n?i+="[]":"full"===n&&(i+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),o=r[0];o&&"text"===o.type?o.value="["+o.value:r.unshift({type:"text",value:"["});const s=r[r.length-1];return s&&"text"===s.type?s.value+=i:r.push({type:"text",value:i}),r}function Aw(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}const Tw=9,kw=32;function Rw(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const o=[];for(;i;)o.push(_w(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return o.push(_w(t.slice(r),r>0,!1)),o.join("")}function _w(e,t,n){let i=0,r=e.length;if(t){let t=e.codePointAt(i);for(;t===Tw||t===kw;)i++,t=e.codePointAt(i)}if(n){let t=e.codePointAt(r-1);for(;t===Tw||t===kw;)r--,t=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}const Dw={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(r.data={meta:t.meta}),e.patch(t,r),r=e.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},e.patch(t,r),r},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=hw(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let s,a=e.footnoteCounts.get(i);void 0===a?(a=0,e.footnoteOrder.push(i),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(i,a);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,c);const l={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,l),e.applyData(t,l)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Iw(e,t);const r={src:hw(i.url||""),alt:t.alt};null!==i.title&&void 0!==i.title&&(r.title=i.title);const o={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:hw(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Iw(e,t);const r={href:hw(i.url||"")};null!==i.title&&void 0!==i.title&&(r.title=i.title);const o={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:hw(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},listItem:function(e,t,n){const i=e.all(t),r=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=Aw(n[i])}return t}(n):Aw(t),o={},s=[];if("boolean"===typeof t.checked){const e=i[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},i.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const e=i[a];(r||0!==a||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||r?s.push(e):s.push(...e.children)}const c=i[i.length-1];c&&(r||"element"!==c.type||"p"!==c.tagName)&&s.push({type:"text",value:"\n"});const l={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,l),e.applyData(t,l)},list:function(e,t){const n={},i=e.all(t);let r=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++r<i.length;){const e=i[r];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],n),r.push(n)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=NS(t.children[1]),s=OS(t.children[t.children.length-1]);o&&s&&(i.position={start:o,end:s}),r.push(i)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const i=n?n.children:void 0,r=0===(i?i.indexOf(t):1)?"th":"td",o=n&&"table"===n.type?n.align:void 0,s=o?o.length:t.children.length;let a=-1;const c=[];for(;++a<s;){const n=t.children[a],i={},s=o?o[a]:void 0;s&&(i.align=s);let l={type:"element",tagName:r,properties:i,children:[]};n&&(l.children=e.all(n),e.patch(n,l),l=e.applyData(n,l)),c.push(l)}const l={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,l),e.applyData(t,l)},text:function(e,t){const n={type:"text",value:Rw(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:xw,yaml:xw,definition:xw,footnoteDefinition:xw};function xw(){}const Mw={}.hasOwnProperty,Ow={};function Nw(e,t){e.position&&(t.position=function(e){const t=NS(e),n=OS(e);if(t&&n)return{start:t,end:n}}(e))}function Lw(e,t){let n=t;if(e&&e.data){const t=e.data.hName,i=e.data.hChildren,r=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&r&&Object.assign(n.properties,dw(r)),"children"in n&&n.children&&null!==i&&void 0!==i&&(n.children=i)}return n}function zw(e,t){const n=t.data||{},i=!("value"in t)||Mw.call(n,"hProperties")||Mw.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,i),e.applyData(t,i)}function Fw(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:"\n"});++i<e.length;)i&&n.push({type:"text",value:"\n"}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function qw(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function Bw(e,t){const n=function(e,t){const n=t||Ow,i=new Map,r=new Map,o=new Map,s={...Dw,...n.handlers},a={all:function(e){const t=[];if("children"in e){const n=e.children;let i=-1;for(;++i<n.length;){const r=a.one(n[i],e);if(r){if(i&&"break"===n[i-1].type&&(Array.isArray(r)||"text"!==r.type||(r.value=qw(r.value)),!Array.isArray(r)&&"element"===r.type)){const e=r.children[0];e&&"text"===e.type&&(e.value=qw(e.value))}Array.isArray(r)?t.push(...r):t.push(r)}}}return t},applyData:Lw,definitionById:i,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:s,one:function(e,t){const n=e.type,i=a.handlers[n];if(Mw.call(a.handlers,n)&&i)return i(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,i=dw(n);return i.children=a.all(e),i}return dw(e)}return(a.options.unknownHandler||zw)(a,e,t)},options:n,patch:Nw,wrap:Fw};return Pw(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?i:r,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),a}(e,t),i=n.one(e,void 0),r=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||pw,i=e.options.footnoteBackLabel||fw,r=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let c=-1;for(;++c<e.footnoteOrder.length;){const r=e.footnoteById.get(e.footnoteOrder[c]);if(!r)continue;const o=e.all(r),s=String(r.identifier).toUpperCase(),l=hw(s.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(s);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"===typeof n?n:n(c,u);"string"===typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+l+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof i?i:i(c,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=o[o.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else o.push(...d);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+l},children:e.wrap(o,!0)};e.patch(r,f),a.push(f)}if(0!==a.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...dw(s),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:"\n"}]}}(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&o.children.push({type:"text",value:"\n"},r),o}function jw(e,t){return e&&"run"in e?async function(n,i){const r=Bw(n,{file:i,...t});await e.run(r,i)}:function(n,i){return Bw(n,{file:i,...t||e})}}function Uw(e){if(e)throw e}var Vw=n(3240);function Hw(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ww(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];let r=-1;const o=n.pop();if("function"!==typeof o)throw new TypeError("Expected function as last argument, not "+o);!function t(i){const s=e[++r];let a=-1;if(i)o(i);else{for(var c=arguments.length,l=new Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=arguments[u];for(;++a<n.length;)null!==l[a]&&void 0!==l[a]||(l[a]=n[a]);n=l,s?function(e,t){let n;return r;function r(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];const c=e.length>r.length;let l;c&&r.push(o);try{l=e.apply(this,r)}catch(i){if(c&&n)throw i;return o(i)}c||(l&&l.then&&"function"===typeof l.then?l.then(s,o):l instanceof Error?o(l):s(l))}function o(e){if(!n){n=!0;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];t(e,...r)}}function s(e){o(null,e)}}(s,t)(...l):o(null,...l)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const Gw={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Kw(e);let n,i=0,r=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.codePointAt(o)){if(n){i=o+1;break}}else r<0&&(n=!0,r=o+1);return r<0?"":e.slice(i,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;o--;)if(47===e.codePointAt(o)){if(n){i=o+1;break}}else s<0&&(n=!0,s=o+1),a>-1&&(e.codePointAt(o)===t.codePointAt(a--)?a<0&&(r=o):(a=-1,r=s));i===r?r=s:r<0&&(r=e.length);return e.slice(i,r)},dirname:function(e){if(Kw(e),0===e.length)return".";let t,n=-1,i=e.length;for(;--i;)if(47===e.codePointAt(i)){if(t){n=i;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){Kw(e);let t,n=e.length,i=-1,r=0,o=-1,s=0;for(;n--;){const a=e.codePointAt(n);if(47!==a)i<0&&(t=!0,i=n+1),46===a?o<0?o=n:1!==s&&(s=1):o>-1&&(s=-1);else if(t){r=n+1;break}}if(o<0||i<0||0===s||1===s&&o===i-1&&o===r+1)return"";return e.slice(o,i)},join:function(){let e,t=-1;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];for(;++t<i.length;)Kw(i[t]),i[t]&&(e=void 0===e?i[t]:e+"/"+i[t]);return void 0===e?".":function(e){Kw(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,i,r="",o=0,s=-1,a=0,c=-1;for(;++c<=e.length;){if(c<e.length)n=e.codePointAt(c);else{if(47===n)break;n=47}if(47===n){if(s===c-1||1===a);else if(s!==c-1&&2===a){if(r.length<2||2!==o||46!==r.codePointAt(r.length-1)||46!==r.codePointAt(r.length-2))if(r.length>2){if(i=r.lastIndexOf("/"),i!==r.length-1){i<0?(r="",o=0):(r=r.slice(0,i),o=r.length-1-r.lastIndexOf("/")),s=c,a=0;continue}}else if(r.length>0){r="",o=0,s=c,a=0;continue}t&&(r=r.length>0?r+"/..":"..",o=2)}else r.length>0?r+="/"+e.slice(s+1,c):r=e.slice(s+1,c),o=c-s-1;s=c,a=0}else 46===n&&a>-1?a++:a=-1}return r}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function Kw(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Qw={cwd:function(){return"/"}};function Jw(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function Yw(e){if("string"===typeof e)e=new URL(e);else if(!Jw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const $w=["history","path","basename","stem","extname","dirname"];class Xw{constructor(e){let t;t=e?Jw(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd=Qw.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,i=-1;for(;++i<$w.length;){const e=$w[i];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)$w.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?Gw.basename(this.path):void 0}set basename(e){eE(e,"basename"),Zw(e,"basename"),this.path=Gw.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?Gw.dirname(this.path):void 0}set dirname(e){tE(this.basename,"dirname"),this.path=Gw.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?Gw.extname(this.path):void 0}set extname(e){if(Zw(e,"extname"),tE(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gw.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Jw(e)&&(e=Yw(e)),eE(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?Gw.basename(this.path,this.extname):void 0}set stem(e){eE(e,"stem"),Zw(e,"stem"),this.path=Gw.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=void 0,i}message(e,t,n){const i=new jS(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Zw(e,t){if(e&&e.includes(Gw.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gw.sep+"`")}function eE(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function tE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const nE=function(e){const t=this.constructor.prototype,n=t[e],i=function(){return n.apply(i,arguments)};Object.setPrototypeOf(i,t);const r=Object.getOwnPropertyNames(n);for(const o of r){const e=Object.getOwnPropertyDescriptor(n,o);e&&Object.defineProperty(i,o,e)}return i},iE={}.hasOwnProperty;class rE extends nE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ww()}copy(){const e=new rE;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(Vw(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(cE("data",this.frozen),this.namespace[e]=t,this):iE.call(this.namespace,e)&&this.namespace[e]||void 0:e?(cE("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const i=t.call(e,...n);"function"===typeof i&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=dE(e),n=this.parser||this.Parser;return sE("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),sE("process",this.parser||this.Parser),aE("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(i,r){const o=dE(e),s=n.parse(o);function a(e,n){e||!n?r(e):i?i(n):t(void 0,n)}n.run(s,o,(function(e,t,i){if(e||!t||!i)return a(e);const r=t,o=n.stringify(r,i);var s;"string"===typeof(s=o)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(s)?i.value=o:i.result=o,a(e,i)}))}}processSync(e){let t,n=!1;return this.freeze(),sE("processSync",this.parser||this.Parser),aE("processSync",this.compiler||this.Compiler),this.process(e,(function(e,i){n=!0,Uw(e),t=i})),uE("processSync","process",n),t}run(e,t,n){lE(e),this.freeze();const i=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?r(void 0,n):new Promise(r);function r(r,o){const s=dE(t);i.run(e,s,(function(t,i,s){const a=i||e;t?o(t):r?r(a):n(void 0,a,s)}))}}runSync(e,t){let n,i=!1;return this.run(e,t,(function(e,t){Uw(e),n=t,i=!0})),uE("runSync","run",i),n}stringify(e,t){this.freeze();const n=dE(t),i=this.compiler||this.Compiler;return aE("stringify",i),lE(e),i(e,n)}use(e){const t=this.attachers,n=this.namespace;if(cE("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];l(e,r)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?c(e):a(e)}return this;function s(e){if("function"===typeof e)l(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;l(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(e.plugins),e.settings&&(n.settings=Vw(!0,n.settings,e.settings))}function c(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function l(e,n){let i=-1,r=-1;for(;++i<t.length;)if(t[i][0]===e){r=i;break}if(-1===r)t.push([e,...n]);else if(n.length>0){let[i,...o]=n;const s=t[r][1];Hw(s)&&Hw(i)&&(i=Vw(!0,s,i)),t[r]=[e,i,...o]}}}}const oE=(new rE).freeze();function sE(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function aE(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function cE(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function lE(e){if(!Hw(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function uE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function dE(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Xw(e)}const hE=[],pE={allowDangerousHtml:!0},fE=/^(https?|ircs?|mailto|xmpp)$/i,gE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function mE(e){const t=e.allowedElements,n=e.allowElement,i=e.children||"",r=e.className,o=e.components,s=e.disallowedElements,a=e.rehypePlugins||hE,c=e.remarkPlugins||hE,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...pE}:pE,u=e.skipHtml,d=e.unwrapDisallowed,h=e.urlTransform||vE,p=oE().use(nw).use(c).use(jw,l).use(a),f=new Xw;"string"===typeof i&&(f.value=i);for(const v of gE)Object.hasOwn(e,v.from)&&(v.from,v.to&&v.to,v.id);const g=p.parse(f);let m=p.runSync(g,f);return r&&(m={type:"element",tagName:"div",properties:{className:r},children:"root"===m.type?m.children:[m]}),Pw(m,(function(e,i,r){if("raw"===e.type&&r&&"number"===typeof i)return u?r.children.splice(i,1):r.children[i]={type:"text",value:e.value},i;if("element"===e.type){let t;for(t in sC)if(Object.hasOwn(sC,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],i=sC[t];(null===i||i.includes(e.tagName))&&(e.properties[t]=h(String(n||""),t,e))}}if("element"===e.type){let o=t?!t.includes(e.tagName):!!s&&s.includes(e.tagName);if(!o&&n&&"number"===typeof i&&(o=!n(e,i,r)),o&&r&&"number"===typeof i)return d&&e.children?r.children.splice(i,1,...e.children):r.children.splice(i,1),i}})),JS(m,{Fragment:aC.Fragment,components:o,ignoreInvalidStyle:!0,jsx:aC.jsx,jsxs:aC.jsxs,passKeys:!0,passNode:!0})}function vE(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),r=e.indexOf("/");return t<0||r>-1&&t>r||n>-1&&t>n||i>-1&&t>i||fE.test(e.slice(0,t))?e:""}var yE=n(8685);const SE=/iPhone/i.test(navigator.userAgent);console.log(SE);let CE="",bE="",wE="All",EE="",PE=21,IE="",AE="",TE="",kE="",RE="",_E="",DE="",xE="",ME=!1,OE="",NE="",LE="For the following content, I would like to search for images for my reserach project. Please divide following content in 5-10 logical and relevant image descriptions that I can use to search in google images.::: For each image description, include clickable url to search google images ::::: below is the full content ::::: ",zE="",FE="### all the text from below is strictly for reference and prompt purpose to answer the question asked above this line. ######### ",qE="",BE=!1,jE="",UE="",VE="",HE=4e3,WE=900,GE="",KE="",QE="",JE="",YE=!1,$E="",XE="",ZE="",eP="",tP="",nP="",iP="",rP="",oP="",sP="",aP="",cP="",lP="";const uP=e=>{let{user:t,source:n,grade:i,subject:r}=e;const[o,s]=(0,a.useState)(!1),[c,l]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1),[m,v]=(0,a.useState)(!1),[y,S]=(0,a.useState)(!1),[C,b]=(0,a.useState)(!1),[w,E]=(0,a.useState)(!1),[P,I]=(0,a.useState)(!1),[A,T]=(0,a.useState)(!1),[k,R]=(0,a.useState)(!1),[_,D]=(0,a.useState)(!0),[x,M]=(0,a.useState)([]),[O,N]=(0,a.useState)(),[L,z]=(0,a.useState)(!1),[F,q]=(0,a.useState)(null),[B,j]=(0,a.useState)("en"),[U,V]=(0,a.useState)(!1),[H,W]=(0,a.useState)(!1),[G,K]=(0,a.useState)(!1),[Q,J]=(0,a.useState)(""),[Y,$]=(0,a.useState)(""),[X,Z]=(0,a.useState)(null),[ee,te]=(0,a.useState)(""),[ne,ie]=(0,a.useState)(!1),[re,oe]=(0,a.useState)(!1),[se,ae]=(0,a.useState)(!1),[ce,le]=(0,a.useState)(!1),[ue,de]=(0,a.useState)(!1),[he,pe]=(0,a.useState)(!1),[fe,ge]=(0,a.useState)(!1),[me,ve]=(0,a.useState)(!1),[ye,Se]=(0,a.useState)(!0),[Ce,be]=(0,a.useState)(!0),[we,Ee]=(0,a.useState)(!0),[Pe,Ie]=(0,a.useState)(!1),[Ae,Te]=(0,a.useState)(!1),[ke,Re]=(0,a.useState)(!1),[_e,De]=(0,a.useState)(!0),[xe,Me]=(0,a.useState)(!1),[Oe,Ne]=(0,a.useState)(!1),[Le,ze]=(0,a.useState)(!1),[Fe,qe]=(0,a.useState)(!1),[Be,je]=(0,a.useState)(!1),[Ue,Ve]=(0,a.useState)(!1),[He,We]=(0,a.useState)(!1),[Ge,Ke]=(0,a.useState)(!1),[Qe,Je]=(0,a.useState)(!1),[Ye,$e]=(0,a.useState)(!1),[Xe,Ze]=(0,a.useState)(!1),[et,tt]=(0,a.useState)(!1),[nt,it]=(0,a.useState)(!1),[rt,ot]=(0,a.useState)(!1),[st,at]=(0,a.useState)(!1),[ct,lt]=(0,a.useState)("en-US-EvelynMultilingualNeural"),[ut,dt]=(0,a.useState)([]),[ht,pt]=(0,a.useState)(!1),[ft,gt]=(0,a.useState)(""),[mt,vt]=(0,a.useState)(""),[yt,St]=(0,a.useState)(null),[Ct,bt]=(0,a.useState)(null),[wt,Et]=(0,a.useState)(null),[Pt,It]=(0,a.useState)(!1),[At,Tt]=(0,a.useState)(!1),[kt,Rt]=(0,a.useState)(.7),_t=(0,a.useRef)(kt),[Dt,xt]=(0,a.useState)(.8),Mt=(0,a.useRef)(Dt),[Ot,Nt]=(0,a.useState)(1),[Lt,zt]=(0,a.useState)(!1),[Ft,qt]=(0,a.useState)(!1),[Bt,jt]=(0,a.useState)(!1),[Ut,Vt]=(0,a.useState)(!1),[Ht,Wt]=(0,a.useState)(!1),[Gt,Kt]=(0,a.useState)(!1),[Qt,Jt]=(0,a.useState)(!1),[Yt,$t]=(0,a.useState)(!1),[Xt,Zt]=(0,a.useState)(!1),[en,tn]=(0,a.useState)(!1),[nn,rn]=(0,a.useState)(!1),[on,sn]=(0,a.useState)(!1),[an,cn]=(0,a.useState)(!1),[ln,un]=(0,a.useState)(!1),[dn,hn]=(0,a.useState)(!1),[pn,fn]=(0,a.useState)(!1),[gn,mn]=(0,a.useState)(!1),[vn,yn]=(0,a.useState)(!1),[Sn,Cn]=(0,a.useState)(!1),[bn,wn]=(0,a.useState)("claude"),[En,Pn]=(0,a.useState)("gemini"),[In,An]=(0,a.useState)("gpt-4o"),[Tn,kn]=(0,a.useState)("o1-mini"),[Rn,_n]=(0,a.useState)("o1"),[Dn,xn]=(0,a.useState)("llama"),[Mn,On]=(0,a.useState)("mistral"),[Nn,Ln]=(0,a.useState)("gpt-4o-mini"),[zn,Fn]=(0,a.useState)("gemini-search"),[qn,Bn]=(0,a.useState)("gemini-flash"),[jn,Un]=(0,a.useState)("gpt-4-turbo"),[Vn,Hn]=(0,a.useState)("dall-e-3"),[Wn,Gn]=(0,a.useState)("perplexity-fast"),[Kn,Qn]=(0,a.useState)("perplexity"),[Jn,Yn]=(0,a.useState)("mistral-codestral-api"),[$n,Xn]=(0,a.useState)("claude-haiku"),[Zn,ei]=(0,a.useState)("gemini-image"),[ti,ni]=(0,a.useState)(!1),[ii,ri]=(0,a.useState)(!0),[oi,si]=(0,a.useState)(!1),[ai,ci]=(0,a.useState)(!1),li=new gv,[ui,di]=(0,a.useState)(!1),[hi,fi]=(0,a.useState)(!1),[gi,mi]=(0,a.useState)(!1),[vi,yi]=(0,a.useState)(!1),[Si,Ci]=(0,a.useState)(!1),[bi,wi]=(0,a.useState)(!1),[Ei,Pi]=(0,a.useState)("sambanova"),[Ii,Ai]=(0,a.useState)(!1),[Ti,ki]=(0,a.useState)(!1),[Ri,_i]=(0,a.useState)(!1),[Di,xi]=(0,a.useState)("groq"),[Mi,Oi]=(0,a.useState)("Llama"),[Ni,Li]=(0,a.useState)(!1),[zi,Fi]=(0,a.useState)(!1),[qi,Bi]=(0,a.useState)(!1),[ji,Ui]=(0,a.useState)("nova"),[Vi,Hi]=(0,a.useState)("ChatGPT"),[Wi,Gi]=(0,a.useState)("Claude"),[Ki,Qi]=(0,a.useState)("Gemini"),[Ji,Yi]=(0,a.useState)("o1-mini"),[$i,Xi]=(0,a.useState)("Mistral"),[Zi,er]=(0,a.useState)("Llama(405B)"),[tr,nr]=(0,a.useState)("Gpt4Turbo"),[ir,rr]=(0,a.useState)("SearchGenAI"),[or,sr]=(0,a.useState)("Gemini Flash"),[ar,cr]=(0,a.useState)("Gpt4oMini"),[lr,ur]=(0,a.useState)("o1"),[dr,hr]=(0,a.useState)("Perplexity-Fast"),[pr,fr]=(0,a.useState)("Plxty"),[gr,mr]=(0,a.useState)("CodeStral"),[vr,yr]=(0,a.useState)("Claude-Haiku"),[Sr,Cr]=(0,a.useState)("Llama(S)"),[br,wr]=(0,a.useState)("Nova"),[Er,Pr]=(0,a.useState)(!1),[Ir,Ar]=(0,a.useState)(!1),[Tr,kr]=(0,a.useState)(!1),[Rr,_r]=(0,a.useState)(!1),[Dr,xr]=(0,a.useState)(!1),[Mr,Or]=(0,a.useState)(!1),[Nr,Lr]=(0,a.useState)(!0),[zr,Fr]=(0,a.useState)(!1),[qr,Br]=(0,a.useState)(!1),[jr,Ur]=(0,a.useState)({}),[Vr,Hr]=(0,a.useState)({}),[Wr,Gr]=(0,a.useState)({}),[Kr,Qr]=(0,a.useState)(!1),[Jr,Yr]=(0,a.useState)(null),$r=(0,a.useRef)(Jr),[Xr,Zr]=(0,a.useState)(!1),[eo,to]=(0,a.useState)(!1),[no,io]=(0,a.useState)(!1),[ro,oo]=(0,a.useState)(!1),[so,ao]=(0,a.useState)(!1),[co,lo]=(0,a.useState)(!1),[uo,ho]=(0,a.useState)(!1),[po,fo]=(0,a.useState)(!0),[go,mo]=(0,a.useState)(""),[vo,yo]=(0,a.useState)(""),[So,Co]=(0,a.useState)(""),[bo,wo]=(0,a.useState)(""),[Eo,Po]=(0,a.useState)(""),[Io,Ao]=(0,a.useState)(""),[To,ko]=(0,a.useState)(""),[Ro,_o]=(0,a.useState)("0%"),[Do,xo]=(0,a.useState)(200),[Mo,Oo]=(0,a.useState)("0%"),[No,Lo]=(0,a.useState)(200),[zo,Fo]=(0,a.useState)("-25%"),[qo,Bo]=(0,a.useState)(1200),jo=(0,a.useRef)(Ro),Uo=(0,a.useRef)(Do),Vo=(0,a.useRef)(Mo),Ho=(0,a.useRef)(No),Wo=(0,a.useRef)(zo),Go=(0,a.useRef)(qo),Ko=(0,a.useRef)(ee);(0,a.useEffect)((()=>{Vo.current=Mo,Ho.current=No,Wo.current=zo,Go.current=qo,jo.current=Ro,Uo.current=Do,Ko.current=ee,$r.current=Jr}),[Mo,No,zo,qo,Ro,Do,ee,Jr]);const[Qo,Jo]=(0,a.useState)(!1),[Yo,$o]=(0,a.useState)(!1),[Xo,Zo]=(0,a.useState)(!1),[es,ts]=(0,a.useState)(!1),[ns,is]=(0,a.useState)("llama-c"),[rs,os]=(0,a.useState)("Llama-C"),[ss,as]=(0,a.useState)("### Give me the best YouTube Title for the above content"),[cs,ls]=(0,a.useState)("#### Give me the best YouTube description for the above content, I need exactly one response and don't include any other text or URLs in the response. ----- Text from below is only prompt purpose --- YouTube description should be engaging, detailed, informative, and YouTube search engine optimized and SEO friendly, it can contain special characters, emojis, and numbers to make it more appealing and expressive. Please use the emojis, icons to make it more visually appealing.   Use relevant tags to improve the visibility and reach of your video in Youtube video Description.   Use bullet points, numbered points, lists, and paragraphs to organize Youtube video description.  Bold, italicize, underline, and highlight important information in Youtube video description.   Also, please request users to subscribe and click on bell icon for latest content at the end. "),us=(0,a.useRef)(cs),ds=(0,a.useRef)(ss);(0,a.useEffect)((()=>{_t.current=kt,Mt.current=Dt,us.current=cs,ds.current=ss}),[kt,Dt,ss,cs]);const hs=e=>{const t=window.location.search;return new URLSearchParams(t).get(e)},ps=(hs("question_limit"),hs("telugu")),fs=hs("hindi"),gs=e=>{if(!e)return"";if(e.length<=200)return e;const t=e.indexOf("###");return-1!==t?e.substring(0,Math.min(t,200)):e.substring(0,200)};(0,a.useEffect)((()=>{const e=pi(Rp,(async e=>{if(e){EE=e.uid,console.log("User is signed in:",e.uid);new URLSearchParams(window.location.search).get("genai")&&Tt(!0),Tt(!0),Z(e.uid),J(e.email),console.log("User is signed in:",e.uid),console.log("isGeneratingGeminiSearch:",Be),Ss(e.uid),ys(e.uid),await ms(),await vs(e.uid),await Ds(),lo(YE),console.log("INSIDE login grade ",i," subject ",r)}else console.log("No user is signed in")}));return()=>e()}),[ht]);const ms=async()=>{console.log("Fetching genai parameters...");const e=Yh(hh(kp,"public"),Xh("setup","==","genaiAdmin")),t=await Sp(e),n=[];t.docs.forEach((e=>{const t=e.data();t.emailAddresses&&Array.isArray(t.emailAddresses)&&n.push(...t.emailAddresses)})),n.includes(Rp.currentUser.email)?(console.log("Admin user:",Rp.currentUser.email),YE=!0):(console.log("Not an admin user:",Rp.currentUser.email),YE=!1)},vs=async e=>{try{if(!e)return void console.error("No user ID provided");let t="";if(YE){console.log("Fetching global genai parameters...");t=Yh(hh(kp,"public"),Xh("setup","==","genaiAdmin"))}else{console.log("Fetching user specific genai parameters...");t=Yh(hh(kp,"genai",e,"configuration"),Xh("setup","==","genai"))}(await Sp(t)).forEach((e=>{const t=e.data();console.log("Fully Array Data:",t),console.log("Data:",t.temperature,t.top_p),console.log("showGemini:",t.showGemini),console.log("showOpenAI:",t.showOpenAI),console.log("showGpt4Turbo:",t.showGpt4Turbo),void 0!==t.temperature&&Rt(t.temperature),void 0!==t.top_p&&xt(t.top_p),void 0!==t.autoPrompt&&ni(t.autoPrompt),void 0!==t.autoPromptLimit&&Nt(t.autoPromptLimit),void 0!==t.dataLimit&&(PE=t.dataLimit),void 0!==t.isGroq&&Ai(t.isGroq),void 0!==t.isAnthropic&&Se(t.isAnthropic),void 0!==t.isGemini&&be(t.isGemini),void 0!==t.isOpenAI&&ve(t.isOpenAI),void 0!==t.isGpto1Mini&&Ee(t.isGpto1Mini),void 0!==t.iso1&&Je(t.iso1),void 0!==t.showImageDallE3&&fn(t.showImageDallE3),void 0!==t.showTTS&&mn(t.showTTS),void 0!==t.isLlama&&Ie(t.isLlama),void 0!==t.isMistral&&Te(t.isMistral),void 0!==t.isGpt4Turbo&&Re(t.isGpt4Turbo),void 0!==t.isGpt4oMini&&pe(t.isGpt4oMini),void 0!==t.isGeminiSearch&&De(t.isGeminiSearch),void 0!==t.isGeminiFlash&&Me(t.isGeminiFlash),void 0!==t.isPerplexityFast&&Ne(t.isPerplexityFast),void 0!==t.isPerplexity&&ze(t.isPerplexity),void 0!==t.isCodestral&&qe(t.isCodestral),void 0!==t.isClaudeHaiku&&di(t.isClaudeHaiku),void 0!==t.isSambanova&&yi(t.isSambanova),void 0!==t.showAnthropic&&cn(t.showAnthropic),void 0!==t.showGemini&&sn(t.showGemini),void 0!==t.showOpenAI&&un(t.showOpenAI),void 0!==t.showGpt4Turbo&&jt(t.showGpt4Turbo),void 0!==t.showMistral&&Vt(t.showMistral),void 0!==t.showPerplexityFast&&Zt(t.showPerplexityFast),void 0!==t.showPerplexity&&tn(t.showPerplexity),void 0!==t.showGpt4oMini&&Kt(t.showGpt4oMini),void 0!==t.showGeminiSearch&&(console.log("Setting showGeminiSearch:",t.showGeminiSearch),Jt(t.showGeminiSearch)),void 0!==t.showGeminiFlash&&$t(t.showGeminiFlash),void 0!==t.showCodeStral&&rn(t.showCodeStral),void 0!==t.showLlama&&Wt(t.showLlama),void 0!==t.showo1&&hn(t.showo1),void 0!==t.showo1Mini&&yn(t.showo1Mini),void 0!==t.showClaudeHaiku&&mi(t.showClaudeHaiku),void 0!==t.showSambanova&&wi(t.showSambanova),void 0!==t.showGroq&&_i(t.showGroq),void 0!==t.showNova&&Bi(t.showNova),void 0!==t.labelGroq&&Oi(t.labelGroq),void 0!==t.labelOpenAI&&Hi(t.labelOpenAI),void 0!==t.labelAnthropic&&Gi(t.labelAnthropic),void 0!==t.labelGemini&&Qi(t.labelGemini),void 0!==t.labelGpto1Mini&&Yi(t.labelGpto1Mini),void 0!==t.labelMistral&&Xi(t.labelMistral),void 0!==t.labelLlama&&er(t.labelLlama),void 0!==t.labelGpt4Turbo&&nr(t.labelGpt4Turbo),void 0!==t.labelGeminiSearch&&rr(t.labelGeminiSearch),void 0!==t.labelGeminiFlash&&sr(t.labelGeminiFlash),void 0!==t.labelGpt4oMini&&cr(t.labelGpt4oMini),void 0!==t.labelo1&&ur(t.labelo1),void 0!==t.labelPerplexityFast&&hr(t.labelPerplexityFast),void 0!==t.labelPerplexity&&fr(t.labelPerplexity),void 0!==t.labelCodestral&&mr(t.labelCodestral),void 0!==t.labelClaudeHaiku&&yr(t.labelClaudeHaiku),void 0!==t.labelSambanova&&Cr(t.labelSambanova),void 0!==t.labelNova&&wr(t.labelNova),void 0!==t.showYouTubeButton&&ci(t.showYouTubeButton),void 0!==t.showImagesSearchWordsButton&&kr(t.showImagesSearchWordsButton),void 0!==t.showYouTubeTitleDescriptionButton&&_r(t.showYouTubeTitleDescriptionButton),void 0!==t.showhomeWorkButton&&Lr(t.showhomeWorkButton),void 0!==t.voiceName&&lt(t.voiceName),void 0!==t.chunk_size&&(HE=t.chunk_size),void 0!==t.silence_break&&(WE=t.silence_break),void 0!==t.showAISearchButton&&Br(t.showAISearchButton),void 0!==t.showGenAIButton&&Zr(t.showGenAIButton),void 0!==t.showPromptsDropDown&&to(t.showPromptsDropDown),void 0!==t.showVoiceSelect&&io(t.showVoiceSelect),void 0!==t.showEditPromptButton&&oo(t.showEditPromptButton),void 0!==t.showPromptsDropDownAfterSearch&&ao(t.showPromptsDropDownAfterSearch),void 0!==t.showSaveButton&&ri(t.showSaveButton),void 0!==t.showSourceDocument&&si(t.showSourceDocument),void 0!==t.showBackToAppButton&&lo(t.showBackToAppButton),void 0!==t.showAutoPrompt&&Cn(t.showAutoPrompt),void 0!==t.showTemp&&zt(t.showTemp),void 0!==t.showTop_p&&qt(t.showTop_p),void 0!==t.showPrint&&Jo(t.showPrint),void 0!==t.isCerebras&&$o(t.isCerebras),void 0!==t.showCerebras&&ts(t.showCerebras),void 0!==t.labelCerebras&&os(t.labelCerebras),void 0!==t.showOnlyAudioTitleDescriptionButton&&R(t.showOnlyAudioTitleDescriptionButton),void 0!==t.showDedicatedDownloadButton&&E(t.showDedicatedDownloadButton),void 0!==t.genOpenAIImage&&D(t.genOpenAIImage),void 0!==t.speechRate&&_o(t.speechRate),void 0!==t.speechSilence&&xo(t.speechSilence),void 0!==t.youtubeSpeechRate&&Oo(t.youtubeSpeechRate),void 0!==t.youtubeSpeechSilence&&Lo(t.youtubeSpeechSilence),void 0!==t.storyTellingSpeechRate&&Fo(t.storyTellingSpeechRate),void 0!==t.storyTellingSpeechSilence&&Bo(t.storyTellingSpeechSilence),void 0!==t.showDownloadTextButton&&T(t.showDownloadTextButton),void 0!==t.showBigQueryModelSearch&&I(t.showBigQueryModelSearch),void 0!==t.fetchFromPublic&&g(t.fetchFromPublic),void 0!==t.generateGeminiImage&&v(t.generateGeminiImage),void 0!==t.generateDalleImage&&S(t.generateDalleImage)}))}catch(Xm){return console.error("Error fetching genAI parameters: ",Xm),[]}},ys=async e=>{try{const t=Yh(hh(kp,"genai",e,"prompts"),ip(1e3),tp("modifiedDateTime","desc")),n=(await Sp(t)).docs.map((e=>({id:e.id,...e.data()})));dt(n)}catch(Xm){console.error("Error fetching prompts: ",Xm)}},Ss=async e=>{try{const t=hh(kp,"genai",e,"MyGenAI");let n;n=Yh(t,tp("createdDateTime","desc"),ip(PE)),fs&&(n=Yh(t,tp("createdDateTime","desc"),Xh("language","==","Hindi"),ip(PE))),ps&&(n=Yh(t,tp("createdDateTime","desc"),Xh("language","==","Telugu"),ip(PE)));const i=await Sp(n),r=i.docs.map((e=>({id:e.id,...e.data()}))),o={};r.forEach((e=>{o[e.id]=!1})),ws(o),M(r),q(i.docs[i.docs.length-1])}catch(Xm){console.error("Error fetching data: ",Xm)}},Cs=e=>{PE=parseInt(e.target.value),ks()},[bs,ws]=(0,a.useState)({}),Es=async(e,t)=>{const n=e.replace(/https?:\/\/[^\s]+/g,"").replace(/http?:\/\/[^\s]+/g,"").replace(/[#:\-*]/g," ").replace(/[&]/g," and ").replace(/[<>]/g," ").trim();if(SE)return window.scrollTo(0,0),alert("Please go to top of the page to check status and listen to the audio"),void As(n,"https://fastapi-tts-v21-892085575649.us-central1.run.app/ssml");try{try{console.log("Synthesizing speech..."+n);const e=yE.SpeechConfig.fromSubscription("55c4f5f13d764a77a683b5c225c52705","eastus");e.speechSynthesisVoiceName=ct,"Spanish"===t&&(e.speechSynthesisVoiceName="es-MX-DaliaNeural"),"Hindi"===t&&(e.speechSynthesisVoiceName="hi-IN-SwaraNeural"),"Telugu"===t&&(e.speechSynthesisVoiceName="te-IN-ShrutiNeural");const i=yE.AudioConfig.fromDefaultSpeakerOutput(),r=new yE.SpeechSynthesizer(e,i),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;const n=[];console.log("Before Splitting message:",e);for(let i=0;i<e.length;i+=t)console.log("Part ",i,"  message:",e.substring(i,i+t)),n.push(e.substring(i,i+t));return n}(n);for(const t of o)await new Promise(((e,n)=>{r.speakTextAsync(t,(i=>{if(i.reason===yE.ResultReason.SynthesizingAudioCompleted)console.log("Speech synthesized to speaker for text: [".concat(t,"]")),e();else if(i.reason===yE.ResultReason.Canceled){const e=yE.SpeechSynthesisCancellationDetails.fromResult(i);e.reason===yE.CancellationReason.Error?(console.error("Error details: ".concat(e.errorDetails)),n(new Error(e.errorDetails))):n(new Error("Speech synthesis canceled"))}}),(e=>{console.error("Error synthesizing speech: ".concat(e)),n(e)}))}))}catch(Xm){console.error("Error synthesizing speech: ".concat(Xm))}finally{Ur(!1)}}catch(Xm){console.error("Error synthesizing speech: ".concat(Xm))}finally{Ur(!1)}},Ps=async()=>{try{const e=hh(kp,"genai",t.uid,"configuration"),n=Yh(e,Xh("setup","==","genai")),i=await Sp(n);if(i.empty)return console.log("No configuration found, adding new document"),void await bp(e,{setup:"genai",isOpenAI:me,isAnthropic:ye,isGemini:Ce,isGpto1Mini:we,isLlama:Pe,isMistral:Ae,isGpt4Turbo:ke,isGeminiSearch:_e,isGeminiFlash:xe,isPerplexityFast:Oe,isPerplexity:Le,isCodestral:Fe,isClaudeHaiku:ui,iso1:Qe,isSambanova:vi,isGroq:Ii,isNova:Ni,temperature:kt,top_p:Dt,dataLimit:PE,autoPrompt:ti,lastUpdated:new Date,autoPromptLimit:Ot,voiceName:ct,chunk_size:HE,silence_break:WE,isGpt4oMini:he,labelGroq:Mi,labelOpenAI:Vi,labelAnthropic:Wi,labelGemini:Ki,labelGpto1Mini:Ji,labelLlama:Zi,labelMistral:$i,labelGpt4Turbo:tr,labelGeminiSearch:ir,labelGeminiFlash:or,labelGpt4oMini:ar,labelo1:lr,labelPerplexityFast:dr,labelPerplexity:pr,labelCodestral:gr,labelClaudeHaiku:vr,labelSambanova:Sr,labelNova:br,isCerebras:Yo,labelCerebras:rs});i.forEach((async e=>{await Cp(e.ref,{isOpenAI:me,isAnthropic:ye,isGemini:Ce,isGpto1Mini:we,isLlama:Pe,isMistral:Ae,isGpt4Turbo:ke,isGeminiSearch:_e,isGeminiFlash:xe,isPerplexityFast:Oe,isPerplexity:Le,isCodestral:Fe,isClaudeHaiku:ui,iso1:Qe,isSambanova:vi,isGroq:Ii,isNova:Ni,temperature:kt,top_p:Dt,dataLimit:PE,autoPrompt:ti,lastUpdated:new Date,autoPromptLimit:Ot,voiceName:ct,chunk_size:HE,silence_break:WE,isGpt4oMini:he,labelGroq:Mi,labelOpenAI:Vi,labelAnthropic:Wi,labelGemini:Ki,labelGpto1Mini:Ji,labelLlama:Zi,labelMistral:$i,labelGpt4Turbo:tr,labelGeminiSearch:ir,labelGeminiFlash:or,labelGpt4oMini:ar,labelo1:lr,labelPerplexityFast:dr,labelPerplexity:pr,labelCodestral:gr,labelClaudeHaiku:vr,labelSambanova:Sr,labelNova:br,isCerebras:Yo,labelCerebras:rs},{merge:!0})}))}catch(Xm){console.error("Error updating configuration:",Xm)}},Is=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GenAI";console.log("Calling API with model:",e+" URL: https://genaiapp-892085575649.us-central1.run.app/"," youtubeSelected: ",ME," youtubePromptInput:",_E,"  youtubeDescriptionPromptInput : ",DE),console.log("youtube Content Input prompt:",""),console.log("imageGenerationPromptInput :",OE),console.log("imagePromptsGenerationInput:",kE);try{let i,r,o=ee;switch(n){case"imageGeneration":o=kE;break;case"image_ai_agent":o=OE;break;case"image":o=ee;break;case"youtube":case"bedtime_stories":o="";break;case"youtubeTitle":o=_E;break;case"youtubeDescription":o=DE;break;case"imagesSearchWords":o=qE;break;case"homeWork":o=jE;break;case"quiz":o=UE;break;case"google-search":o=xE;break;case"quiz_with_choices":o=VE;break;case"explain":o=sP;break;case"lyrics":o=cP;break;default:ti?(await(async()=>{try{const e=await fetch("".concat("https://genaiapp-892085575649.us-central1.run.app/","search"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:ee,uid:t.uid,collection:"prompts",limit:Ot})});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to search prompts.")}const n=(await e.json()).document_ids,i=Yh(hh(kp,"genai",X,"prompts"),Xh("__name__","in",n)),r=await Sp(i),o=r.docs.map((e=>e.data().fullText));vt(o.join("\n"));const s=r.docs.map((e=>e.data().tag));gt(s),console.log("Edit Prompt:",ft),console.log("Select Prompt Tag:",o),bt(s),si(!0),RE=ee,RE=RE+"\n"+FE+"\n"+o.join("\n")}catch(Xm){console.error("Error searching prompts:",Xm),alert("Error: ".concat(Xm.message))}})(),o=RE):zE.length>2&&(o=ee+FE+zE)}if(console.log("temp:",_t.current.valueOf(),"top_p:",Mt.current.valueOf()),i=await fetch("https://genaiapp-892085575649.us-central1.run.app/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:o,model:e,uid:X,temperature:_t.current.valueOf(),top_p:Mt.current.valueOf(),invocationType:n})}),!i.ok){const e=await i.json();throw alert(e.error+"Failed to generate content"),new Error(e.error||"Failed to generate content.")}r=await i.json(),IE=r[0].results[0].docID,console.log("Generated Doc ID:",IE,"  invocationType:",n),["homeWork","quiz_with_choices","quiz"].includes(n)&&(Yr(r[0].results[0].docID),console.log("currenDocID:",Jr),Qr(!0))}catch(Xm){console.error("Error generating content:",Xm),alert("Error: ".concat(Xm.message))}finally{CE="",n="",wE="All",ME=!1,BE=!1,Pr(!1),Ar(!1),je(!1),Fr(!1),console.log("Fetching data after generating content"),Ss(EE),e===In&&ie(!1),e===bn&&ae(!1),e===En&&oe(!1),e===Tn&&le(!1),e===Rn&&$e(!1),e===Vn&&de(!1),e===Mn&&at(!1),e===Dn&&Ze(!1),e===jn&&tt(!1),e===Nn&&ge(!1),e===zn&&je(!1),e===qn&&Ve(!1),e===Wn&&We(!1),e===Kn&&it(!1),e===Jn&&ot(!1),e===$n&&fi(!1),e===Ei&&Ci(!1),e===Di&&ki(!1),e===ji&&Fi(!1),e===ns&&Zo(!1),console.log("isGeneratingGeminiSearch:",Be)}},As=async(e,t)=>{Ke(!0);const n=e.replace(/https?:\/\/[^\s]+/g,"").replace(/http?:\/\/[^\s]+/g,"").replace(/[#:\-*]/g," ").replace(/[&]/g," and ").replace("```json","").replace(/[<>]/g," ").trim();console.log("Calling TTS API with message:",n," voiceName:",ct),console.log("speechSilence:",Uo.current.valueOf(),"speechRate:",jo.current.valueOf()),console.log("API URL:",t);try{const e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,uid:X,source:"ai",voice_name:ct,chunk_size:HE,silence_break:Uo.current.valueOf(),prosody_rate:jo.current.valueOf()})});if(!e.ok)throw new Error(["Network response was not ok: ".concat(e.statusText)]);let r,o=12;for(;o>0;){var i;if(r=await e.json(),null!==(i=r[0])&&void 0!==i&&i.docID)break;if(await new Promise((e=>setTimeout(e,2e3))),o--,0===o)throw new Error("Failed to get document ID after multiple retries")}AE=r[0].docID}catch(Xm){console.error("Error calling TTS API:",Xm),alert(["Error: ".concat(Xm.message)])}finally{Ke(!1),Ss(X),Ps()}},Ts=async()=>{z(!0),console.log("Fetching data for Vector search query:",CE),console.log("URL:","https://genaiapp-892085575649.us-central1.run.app/search"),fetch("https://genaiapp-892085575649.us-central1.run.app/search",{method:"POST",body:JSON.stringify({uid:X,q:CE,limit:PE})}).then((e=>e.json())).then((async e=>{const t=e.document_ids,n=Yh(hh(kp,"genai",X,"MyGenAI"),Xh("__name__","in",t)),i=(await Sp(n)).docs.map((e=>({id:e.id,...e.data()})));M(i),z(!1)})).catch((e=>{console.error("Error fetching data:",e),z(!1)}))},ks=()=>{z(!0),console.log("Fetching data for search query:",CE),console.log("search model:",wE),console.log("limit:",PE),console.log("URL:","https://genaiapp-892085575649.us-central1.run.app/bigquery-search"),fetch("https://genaiapp-892085575649.us-central1.run.app/bigquery-search",{method:"POST",body:JSON.stringify({uid:X,limit:PE,q:CE,model:wE,invocationType:bE})}).then((e=>e.json())).then((e=>{e.forEach((e=>{console.log(e)})),M(e),z(!1)})).catch((e=>{console.error("Error fetching data:",e),z(!1)}))};if(Pt)return console.log("showMainApp grade ",i," subject ",r),(0,aC.jsx)(NP,{user:t,source:n,grade:i,subject:r});if(Kr)return(0,aC.jsx)(dP,{user:t,fromApp:"GenAIApp",onBack:()=>Qr(!1),sourceDocumentID:Jr});const Rs=async(e,t)=>{N(!0);try{var n;const i=null===e||void 0===e||null===(n=e.match(/\(([^)]+)\)/g))||void 0===n?void 0:n.map((e=>e.slice(1,-1))),r="https://genaiapp-892085575649.us-central1.run.app/proxy-download?url=".concat(encodeURIComponent(i)),o=await fetch(r),s=await o.blob(),a=window.URL.createObjectURL(s),c=document.createElement("a");c.href=a;const l="azure-tts"===t?"Audio_":"Image_",u=i[0].substring(i[0].lastIndexOf("."));c.download="".concat(l,"_").concat((new Date).toISOString().slice(0,19).replace(/[-:]/g,"_").replace("T","__")).concat(u),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(a)}catch(Xm){console.error("Download failed:",Xm)}finally{N(!1)}},_s=async(e,t)=>{try{const n=ph(kp,"genai",X,"MyGenAI",e);await Cp(n,{reaction:t,updatedAt:new Date});const i=x.map((n=>n.id===e?{...n,reaction:t}:n));M(i)}catch(Xm){console.error("Error saving reaction:",Xm)}},Ds=async()=>{let e;try{f?(console.log("Fetching Texts from public collection"),e=Yh(hh(kp,"public"),Xh("tag",">",""),Xh("fullText",">",""))):(console.log("Fetching Texts from user collection"),e=Yh(hh(kp,"genai","bTGBBpeYPmPJonItYpUOCYhdIlr1","prompts"),Xh("tag",">",""),Xh("fullText",">",""),tp("modifiedDateTime","asc")));(await Sp(e)).forEach((e=>{const t=e.data();switch(t.tag){case"practice-button-label":mo(t.fullText);break;case"Note":yo(t.fullText);break;case"placeholder":Co(t.fullText);break;case"placeholder-semantic-search":wo(t.fullText);break;case"placeholder-keyword-search":Po(t.fullText);break;case"practice-questions-page-button-level":Ao(t.fullText);break;case"quiz-button-label":ko(t.fullText);break;case"YouTube_title":as(t.fullText);break;case"YouTube_description":ls(t.fullText);break;case"imagesSearchPrompt":LE=t.fullText;break;case"autoPromptSeparator":FE=t.fullText;break;case"YouTube":GE=t.fullText;break;case"imageGenerationPrompt":TE=t.fullText;break;case"stories_image_generation_prompt":NE=t.fullText;break;case"quiz_with_choices":JE=t.fullText;break;case"quiz_Multiple_Choices_Label":$E=t.fullText;break;case"genai_stories_label":XE=t.fullText;break;case"genai_image_label":ZE=t.fullText;break;case"genai_youtube_label":eP=t.fullText;break;case"genai_tasks_label":tP=t.fullText;break;case"genai_search_label":nP=t.fullText;break;case"genai_audio_label":iP=t.fullText;break;case"genai_autoprompt_label":rP=t.fullText;break;case"bedtime_stories":oP=t.fullText;break;case"quiz":QE=t.fullText;break;case"practice_questions":KE=t.fullText;break;case"explain":aP=t.fullText;break;case"lyrics":lP=t.fullText}}))}catch(Xm){console.error("Error fetching texts: ",Xm)}};return G?(console.log("  source ",n," grade ",i," subject ",r),(0,aC.jsx)(NP,{user:t,source:n,grade:i,subject:r})):(0,aC.jsxs)("div",{children:[(0,aC.jsx)("button",{className:"subject-button",onClick:()=>K(!0),children:"Previous Page"}),(0,aC.jsxs)("div",{className:"main-content ".concat(ht?"dimmed":""),children:[(0,aC.jsx)("div",{children:(0,aC.jsx)("textarea",{className:"promptInput",value:ee,onChange:e=>te(e.target.value),placeholder:So||"Enter your topics here..."})}),(0,aC.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,aC.jsx)("div",{children:Nr&&!zr&&(0,aC.jsxs)(aC.Fragment,{children:[(0,aC.jsx)("button",{onClick:()=>(async e=>{e.trim()?(d(!0),Rt(.7),xt(.8),await new Promise((e=>setTimeout(e,500))),sP=e+aP,await Is(En,"explain"),Ps(),d(!1)):alert("Please enter content to explain.")})(ee),className:"practiceButton",style:{backgroundColor:"lightyellow",color:"black",marginLeft:"10px"},children:u?(0,aC.jsx)(tf,{className:"spinning"}):"Explain"}),"\xa0",(0,aC.jsx)("button",{onClick:()=>(async e=>{e.trim()?(xr(!0),Rt(.4),xt(.5),await new Promise((e=>setTimeout(e,1e3))),jE=e+KE,await Is(En,"homeWork"),Ps(),xr(!1)):alert("Please enter a prompt.")})(ee),className:"practiceButton",children:Dr?(0,aC.jsx)(tf,{className:"spinning"}):go||"Practice Questions"}),(0,aC.jsx)("button",{onClick:()=>(async e=>{e.trim()?(Rt(.3),xt(.5),Or(!0),await new Promise((e=>setTimeout(e,1e3))),UE=e+QE,await Is(En,"quiz"),Ps(),Or(!1)):alert("Please enter a message.")})(ee),className:"practiceButton",style:{backgroundColor:"lightblue",color:"black",marginLeft:"10px"},children:Mr?(0,aC.jsx)(tf,{className:"spinning"}):To||"Trivia/Quiz"}),(0,aC.jsx)("button",{onClick:()=>(async e=>{e.trim()?(Rt(.3),xt(.5),ho(!0),await new Promise((e=>setTimeout(e,1e3))),VE=e+JE,oe(!0),await Is(En,"quiz_with_choices"),Ps(),ho(!1)):alert("Please enter a message.")})(ee),className:"practiceButton",style:{backgroundColor:"lightgreen",color:"black",marginLeft:"10px"},children:uo?(0,aC.jsx)(tf,{className:"spinning"}):$E||"Quiz-Choices"})]})}),(0,aC.jsx)("br",{}),(0,aC.jsx)("div",{className:"info-text",style:{fontSize:"14px",color:"#666"},children:(0,aC.jsx)(mE,{children:vo})})]}),(0,aC.jsxs)("label",{children:["Limit:",(0,aC.jsx)("input",{className:"limitInput",type:"number",onBlur:e=>Cs(e),onKeyDown:e=>("Enter"===e.key||"Tab"===e.key)&&Cs(e),defaultValue:PE,min:1})]}),(0,aC.jsx)("input",{className:"searchInput",type:"text",onKeyDown:e=>("Enter"===e.key||"Tab"===e.key)&&(e=>{CE=e.target.value,Ts()})(e),placeholder:bo||"Semantic or Vector Search"}),(0,aC.jsx)("input",{className:"searchInput",type:"text",onKeyDown:e=>("Enter"===e.key||"Tab"===e.key)&&(e=>{CE=e.target.value,ks()})(e),placeholder:Eo||"Keyword Search"}),(0,aC.jsxs)("select",{className:"searchInput",onChange:e=>(e=>{bE=e.target.value,ks()})(e),defaultValue:"",style:{marginLeft:"2px",padding:"2px",fontSize:"16px"},children:[(0,aC.jsx)("option",{value:"",children:"Select Invocation Type"}),(0,aC.jsx)("option",{value:"homeWork",children:"Practice Questions"}),(0,aC.jsx)("option",{value:"quiz",children:"Trivia / Quiz"}),(0,aC.jsx)("option",{value:"quiz_with_choices",children:"Multiple Choice Quiz"}),(0,aC.jsx)("option",{value:"explain",children:"Explain"})]}),so&&P&&(0,aC.jsxs)("select",{className:"modelInput",value:wE,onChange:e=>{return t=e.target.value,wE=t,void ks();var t},style:{marginLeft:"2px",padding:"2px",fontSize:"16px"},children:[(0,aC.jsx)("option",{value:"All",children:"All"}),(0,aC.jsx)("option",{value:"chatgpt-4o-latest",children:"ChatGPT"}),(0,aC.jsx)("option",{value:"gemini-1.5-pro-002",children:"Gemini"}),(0,aC.jsx)("option",{value:"claude-3-5-sonnet-latest",children:"Claude"}),(0,aC.jsx)("option",{value:"o1-mini",children:"o1-mini"}),(0,aC.jsx)("option",{value:"o1-preview",children:"o1"}),(0,aC.jsx)("option",{value:"azure-tts",children:"Audio"}),(0,aC.jsx)("option",{value:"dall-e-3",children:"Image"}),(0,aC.jsx)("option",{value:"Mistral-large-2407",children:"Mistral"}),(0,aC.jsx)("option",{value:"meta-llama-3.1-405b-instruct",children:"Llama"}),(0,aC.jsx)("option",{value:"gpt-4-turbo",children:"Gpt4Turbo"}),(0,aC.jsx)("option",{value:"gpt-4o-mini",children:"Gpt4oMini"}),(0,aC.jsx)("option",{value:"gemini-search",children:"GeminiSearch"}),(0,aC.jsx)("option",{value:"gemini-flash",children:"Gemini Flash"}),(0,aC.jsx)("option",{value:"perplexity-fast",children:"PerplexityFast"}),(0,aC.jsx)("option",{value:"perplexity",children:"Perplexity"}),(0,aC.jsx)("option",{value:"codestral",children:"CodeStral"}),(0,aC.jsx)("option",{value:"Claude-Haiku",children:"Claude-Haiku"}),(0,aC.jsx)("option",{value:"sambanova-1",children:"Sambanova"}),(0,aC.jsx)("option",{value:"groq-mixtral",children:"Groq"}),(0,aC.jsx)("option",{value:"nova",children:"Nova"}),(0,aC.jsx)("option",{value:"cerebras",children:"Cerebras"})]}),ht&&(0,aC.jsx)("div",{className:"modal-overlay",children:(0,aC.jsxs)("div",{className:"modal-content",children:[(0,aC.jsx)("br",{}),(0,aC.jsx)("h3",{children:"Add/Edit Prompt"}),(0,aC.jsx)("label",{children:"Tag:"}),(0,aC.jsx)("input",{type:"text",value:ft,onChange:e=>gt(e.target.value),className:"promptTag"}),(0,aC.jsx)("br",{}),(0,aC.jsx)(Wy,{style:{height:"500px",fontSize:"2rem"},value:mt,renderHTML:e=>li.render(e),onChange:e=>{let{text:t}=e;return vt(t)},config:{view:{menu:!0,md:!0,html:!0}}}),(0,aC.jsxs)("div",{children:[ii&&(0,aC.jsx)("button",{onClick:async()=>{if(ft.trim()&&mt.trim())try{const e=Rp.currentUser;let t="";const n=new Date,i=mt.length;if(!e)return void console.error("No user is signed in");const r=hh(kp,"genai",e.uid,"prompts");if("NA"===Ct||null==Ct){console.log("Adding new prompt");t=(await bp(r,{tag:ft,fullText:mt,createdDateTime:n,modifiedDateTime:n,size:i})).id}else{console.log("Updating prompt");const o=Yh(r,Xh("tag","==",Ct),ip(1)),s=await Sp(o);if(s.empty){console.log("No existing prompt found, adding new one");t=(await bp(r,{tag:ft,fullText:mt,createdDateTime:n,modifiedDateTime:n,size:i})).id}else{const r=s.docs[0],o=ph(kp,"genai",e.uid,"prompts",r.id);await Cp(o,{tag:ft,fullText:mt,modifiedDateTime:n,size:i}),t=r.id}}t&&await(async e=>{try{console.log("Embedding prompt:",e);const t=await fetch("".concat("https://genaiapp-892085575649.us-central1.run.app/","embed-prompt"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc_id:e,uid:X})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to embed prompt.")}const n=await t.json();console.log("Embed Prompt Response:",n)}catch(Xm){console.error("Error embedding prompt:",Xm),alert("Error: ".concat(Xm.message))}})(t),gt(""),vt(""),pt(!1),await ys(e.uid)}catch(Xm){console.error("Error saving prompt: ",Xm),alert("Error saving prompt: "+Xm.message)}else alert("Please enter a prompt.")},className:"signinbutton",children:"Save"}),(0,aC.jsx)("button",{onClick:()=>pt(!1),className:"signoutbutton",children:"Cancel"})]}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{})]})}),(0,aC.jsxs)("div",{children:[L&&(0,aC.jsx)("p",{children:" Loading Data..."}),!L&&(0,aC.jsxs)("div",{children:[x.map((e=>{var t,n,i,r,o;return(0,aC.jsxs)("div",{className:"outputDetailsFormat",children:[(0,aC.jsxs)("div",{className:"responseFormat",children:[(0,aC.jsxs)("h4",{style:{color:"brown"},children:[(0,aC.jsx)("span",{style:{color:"#a3780a",fontWeight:"bold"},children:" Prompt "}),"@ ",(0,aC.jsx)("span",{style:{color:"black",fontSize:"16px"},children:new Date(e.createdDateTime).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})}),"\xa0 on ",(0,aC.jsx)("span",{style:{color:"grey",fontSize:"16px"},children:new Date(e.createdDateTime).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),"\xa0\xa0",Qo&&(0,aC.jsx)("span",{style:{color:"blue",fontSize:"16px"},children:e.model}),"\xa0 \xa0",Qo&&(0,aC.jsx)("span",{style:{color:"black",fontSize:"12px"},children:"  #Char(Q): "}),"                                     ",Qo&&(0,aC.jsxs)("span",{style:{color:"darkblue",fontSize:"16px"},children:[" ",(null===(t=e.question)||void 0===t?void 0:t.length)||0]})]}),(0,aC.jsx)("div",{style:{fontSize:"16px"},children:e.showRawQuestion?e.question:bs[e.id]?(0,aC.jsx)(mE,{children:e.question}):(0,aC.jsx)(mE,{children:gs(e.question)})}),Qo&&(0,aC.jsxs)("button",{className:"button",onClick:()=>{ws((t=>({...t,[e.id]:!t[e.id]})))},children:["            ",bs[e.id]?"Less":"More"]})]}),(0,aC.jsxs)("div",{style:{border:"1px solid black"},children:[(0,aC.jsxs)("div",{style:{color:"green",fontWeight:"bold"},children:[e.model!==Vn&&e.model!==Zn&&"azure-tts"!==e.model&&(0,aC.jsx)(aC.Fragment,{children:!SE&&Qo&&"explain"===e.invocationType&&(0,aC.jsx)("button",{className:jr[e.id]?"button_selected":"button",onClick:async()=>{try{Ur((t=>({...t,[e.id]:!0}))),await Es(e.answer,e.language||"English")}catch(Xm){console.error("Error playing audio:",Xm)}},children:(0,aC.jsxs)("label",{className:jr[e.id]?"flashing":"",children:[(0,aC.jsx)(Xp,{})," Speak"]})})}),"\xa0 \xa0 \xa0",Qo&&(0,aC.jsx)("button",{className:"button",onClick:()=>{const t=x.map((t=>t.id===e.id?{...t,showRawAnswer:!t.showRawAnswer}:t));M(t)},children:e.showRawAnswer?(0,aC.jsx)(Qp,{}):(0,aC.jsx)($p,{})}),"\xa0 \xa0",Qo&&(0,aC.jsx)("span",{style:{color:"black",fontSize:"12px"},children:" #Char(Ans):"}),Qo&&(0,aC.jsxs)("span",{style:{color:"darkblue",fontSize:"16px"},children:[" ",(null===(n=e.answer)||void 0===n?void 0:n.length)||0," "]}),"\xa0 \xa0",Qo&&(0,aC.jsxs)("button",{edge:"end","aria-label":"print answer",className:"button",onClick:()=>{const t=window.open("","","height=500,width=800"),n=li.render(e.answer);t.document.write("<html><head><title>Print</title>"),t.document.write("<style>"),t.document.write("\n                                                    body {\n                                                        font-family: Arial, sans-serif;\n                                                        margin: 20px;\n                                                    }\n                                                    table {\n                                                        width: 100%;\n                                                        border-collapse: collapse;\n                                                        margin-bottom: 20px;\n                                                    }\n                                                    table, th, td {\n                                                        border: 1px solid #ccc;\n                                                    }\n                                                    th, td {\n                                                        padding: 8px;\n                                                        text-align: left;\n                                                    }\n                                                    th {\n                                                        background-color: #f2f2f2;\n                                                    }\n                                                    pre {\n                                                        background-color: #f5f5f5;\n                                                        padding: 10px;\n                                                        overflow: auto;\n                                                    }\n                                                    code {\n                                                        background-color: #f5f5f5;\n                                                        padding: 2px 4px;\n                                                    }\n                                                "),t.document.write("</style></head><body>"),t.document.write(n),t.document.write("</body></html>"),t.document.close(),t.print()},children:["Print ",(0,aC.jsx)(Zp,{})]})]}),(0,aC.jsx)("br",{}),["homeWork","quiz_with_choices","quiz"].includes(e.invocationType)&&e.answer&&(0,aC.jsx)("button",{className:"button",onClick:()=>{Yr(e.id),Qr(!0)},style:{padding:"3px 3px",fontSize:"18px",backgroundColor:"#278cab",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#45a049",onMouseOut:e=>e.target.style.backgroundColor="#278cab",children:Io||"Go to Questions/Quiz Page"}),(Qo||"explain"===e.invocationType)&&(0,aC.jsxs)("div",{style:{fontSize:"16px"},children:[SE&&(e.model===Vn||e.model===Zn||"azure-tts"===e.model)&&(0,aC.jsx)("button",{className:"button",onClick:()=>Rs(e.answer,e.model),style:{padding:"6px 6px",fontSize:"20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#45a049",onMouseOut:e=>e.target.style.backgroundColor="#4CAF50",children:O?(0,aC.jsx)(tf,{className:"spinning"}):(0,aC.jsxs)(aC.Fragment,{children:["Download ",(0,aC.jsx)(Yp,{size:28})]})}),"azure-tts"===e.model&&(0,aC.jsx)("br",{}),"azure-tts"===e.model&&(0,aC.jsx)("br",{}),"azure-tts"===e.model&&(null===(i=e.answer)||void 0===i?void 0:i.match(/\(([^)]+)\)/g))&&(0,aC.jsxs)("audio",{controls:!0,style:{marginBottom:"10px"},children:[(0,aC.jsx)("source",{src:e.answer.match(/\(([^)]+)\)/g)[0].slice(1,-1),type:"audio/mpeg"}),"Your browser does not support the audio element."]}),"\xa0 \xa0",Qo&&void 0!==e.voiceName&&(null===(r=e.voiceName)||void 0===r?void 0:r.length)>2&&(0,aC.jsxs)("span",{style:{color:"black",fontSize:"16px"},children:[" voice : ",(0,aC.jsx)("strong",{children:e.voiceName})]}),"\xa0 \xa0",Qo&&void 0!==e.invocationType&&(null===(o=e.invocationType)||void 0===o?void 0:o.length)>2&&(0,aC.jsxs)("span",{style:{color:"black",fontSize:"16px"},children:[" invocationType : ",(0,aC.jsx)("strong",{children:e.invocationType})]}),"\xa0 \xa0",e.model!==Vn&&e.model!==Zn&&"azure-tts"!==e.model&&!["homeWork","quiz_with_choices","quiz"].includes(e.invocationType)&&A&&(0,aC.jsx)("button",{onClick:()=>{const t=(e.answer||"").replace(/[#*~`>-]/g,"").replace(/\r?\n/g,"\r\n"),n=new Blob([t],{type:"text/plain"}),i=document.createElement("a");i.href=URL.createObjectURL(n),t.length>105?i.download="description.txt":i.download="title.txt",i.click()},style:{padding:"3px 3px",fontSize:"18px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#45a049",onMouseOut:e=>e.target.style.backgroundColor="#4CAF50",children:"Download Text"}),e.showRawAnswer?e.id:"",e.showRawAnswer?!["homeWork","quiz_with_choices","quiz"].includes(e.invocationType)&&e.answer:e.answer&&!["homeWork","quiz_with_choices","quiz"].includes(e.invocationType)&&(0,aC.jsx)(Wy,{value:e.answer||"",renderHTML:e=>li.render(e||""),readOnly:!0,config:{view:{menu:!1,md:!1,html:!0},canView:{menu:!1,md:!1,html:!0,fullScreen:!1,hideMenu:!0}}})]}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{}),(0,aC.jsxs)("div",{className:"reaction-buttons",children:[(0,aC.jsx)("button",{className:"reaction-btn ".concat("love"===e.reaction?"active":""),onClick:()=>_s(e.id,"love"),children:"\ud83d\udc4d\ud83d\udc4d Helpful"}),(0,aC.jsx)("button",{className:"reaction-btn ".concat("like"===e.reaction?"active":""),onClick:()=>_s(e.id,"like"),children:"\ud83d\udc4d Informative"}),(0,aC.jsx)("button",{className:"reaction-btn ".concat("improve"===e.reaction?"active":""),onClick:()=>_s(e.id,"improve"),children:"\ud83e\udd14 Could be better"})]})]})]},e.createdDateTime)})),x.some((e=>e.question&&e.answer))&&(0,aC.jsx)("button",{className:"fetchButton",onClick:async()=>{try{const e=Rp.currentUser;if(!e)return void console.error("No user is signed in");{console.log("User is signed in:",e.uid);const t=hh(kp,"genai",e.uid,"MyGenAI");let n;n=Yh(t,tp("createdDateTime","desc"),op(F),ip(PE)),fs&&(n=Yh(t,tp("createdDateTime","desc"),Xh("language","==","Hindi"),op(F),ip(PE))),ps&&(n=Yh(t,tp("createdDateTime","desc"),Xh("language","==","Telugu"),op(F),ip(PE)));const i=await Sp(n),r=i.docs.map((e=>({id:e.id,...e.data()})));M((e=>[...e,...r])),q(i.docs[i.docs.length-1])}}catch(Xm){console.error("Error fetching more data: ",Xm)}},style:{marginTop:"20px",padding:"10px 20px",fontSize:"16px"},children:"Show more information"})]})]})]})]})},dP=e=>{let{user:t,sourceDocumentID:n,invocationType:i,fromApp:r,source:o,grade:s,subject:c}=e;const[l,u]=(0,a.useState)("Copy URL to Share"),[d,h]=(0,a.useState)("Print"),[p,f]=(0,a.useState)("The student URL copied above does not require App Login. Students can access from any device without signing up."),[g,m]=(0,a.useState)([]),[v,y]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[b,w]=(0,a.useState)(""),[E,P]=(0,a.useState)(!1),[I,A]=(0,a.useState)(n),[T,k]=(0,a.useState)(!1),[R,_]=(0,a.useState)(""),D=new gv,x=async e=>{try{const t=Yh(hh(kp,"genai",e,"homework"),Xh("sourceDocumentID","==",I)),n=await Sp(t);if(!n.empty){const e=n.docs.map((e=>({id:e.id,question:e.data().question,correctAnswer:e.data().correctAnswer,userAnswer:e.data().userAnswer||""})));return m(e),!0}return!1}catch(Xm){return console.error("Error fetching initial questions:",Xm),!1}},M=async e=>{const t=e.target.value;A(t),"blur"!==e.type&&"Enter"!==e.key||await O(t)},O=async()=>{if(null===t||void 0===t||!t.uid)return;if(!I)return;if(!await x(t.uid)){console.log("No existing questions found. Fetching from Firestore...");const e=await(async e=>{try{const e=ph(kp,"genai",t.uid,"MyGenAI",I),n=await vp(e);if(n.exists()){const e=n.data().answer;return console.log("First fetched data from Firestore:",e),e}return null}catch(Xm){return console.error("Error fetching questions from Firestore:",Xm),null}})(t.uid);if(e){console.log("Inside fetched questions from Firestore:",e);const n=e.replace(/\r/g,"").trim();let i="";if(n.startsWith("["))i=n.trim();else{i=n.match(/```(?:json|JSON)\s*([\s\S]*?)\s*```/)[1].trim()}await(async(e,t)=>{try{const i=hh(kp,"genai",t,"homework"),r=Yh(i,Xh("sourceDocumentID","==",I));if((await Sp(r)).docs.length>2)return void console.log("Existing homework data found. Skipping initialization");let o=[];try{if("string"===typeof e){console.log("Raw JSON:",e);try{const t=e.match(/```(?:json|JSON)\s*([\s\S]*?)\s*```/);o=t&&t[1]?JSON.parse(t[1].trim()):JSON.parse(e)}catch(n){return console.error("JSON Parse Error:",n),void console.log("Attempted to parse:",e)}}else e.questions?o=e.questions:Array.isArray(e)&&(o=e)}catch(n){return console.error("Error parsing questions data:",n),void console.log("Raw data:",e)}if(!Array.isArray(o)||!o.length)return void console.error("No valid questions found in data");const s=new Date,a=Ap(kp);o.forEach((e=>{const t=ph(i);a.set(t,{question:e.Question||e.question,correctAnswer:e.Answer||e.answer||e.correctAnswer,userAnswer:"",createdDateTime:s,modifiedDateTime:s,sourceDocumentID:I,sourceDocumentIDCreatedDateTime:s})})),await a.commit(),console.log("Personal Homework data initialized successfully");const c=hh(kp,"homework"),l=Ap(kp);o.forEach((e=>{const t=ph(c);l.set(t,{question:e.Question||e.question,correctAnswer:e.Answer||e.answer||e.correctAnswer,userAnswer:"",createdDateTime:s,modifiedDateTime:s,sourceDocumentID:I,sourceDocumentIDCreatedDateTime:s})})),await l.commit(),console.log("Shared Homework data initialized successfully")}catch(Xm){console.error("Error initializing homework data:",Xm),console.log("Firestore Data received:",e)}})(i,t.uid),await x(t.uid)}}};(0,a.useEffect)((()=>{if("explain"===i)(async(e,t)=>{try{const n=ph(kp,"genai",e,"MyGenAI",t),i=await vp(n);if(i.exists()){const e=i.data().answer;_(e)}}catch(Xm){console.error("Error fetching item answer:",Xm)}})(t.uid,n),k(!0);else{const e=new URLSearchParams(window.location.search).get("g");e&&e.length>5?k(!1):k(!0),console.log("Source Document ID:",n),O(),(async()=>{try{const e=Yh(hh(kp,"public"),Xh("tag","in",["copy-url-to-share","print-grid","practice-note"]));(await Sp(e)).forEach((e=>{const t=e.data();switch(t.tag){case"copy-url-to-share":u(t.fullText);break;case"print-grid":h(t.fullText);break;case"practice-note":f(t.fullText)}}))}catch(Xm){console.error("Error fetching texts: ",Xm)}})()}}),[t,n,i]);return v?"GenAIApp"===r?(0,aC.jsx)(uP,{user:t}):(0,aC.jsx)(NP,{user:t,source:o,grade:s,subject:c}):(0,aC.jsxs)("div",{className:"homework-container",children:[(0,aC.jsxs)("div",{className:"homework-header",children:[T&&"explain"!==i&&(0,aC.jsx)("button",{className:"subject-button",onClick:()=>y(!v),children:"Previous Page"}),"explain"===i?(0,aC.jsxs)("div",{children:[T&&(0,aC.jsx)("button",{className:"subject-button",onClick:()=>y(!v),children:"Previous Page"}),(0,aC.jsx)(Wy,{value:R,renderHTML:e=>D.render(e||""),readOnly:!0,config:{view:{menu:!1,md:!1,html:!0},canView:{menu:!1,md:!1,html:!0,fullScreen:!1,hideMenu:!0}}})]}):(0,aC.jsxs)(aC.Fragment,{children:[(0,aC.jsxs)("div",{className:"source-doc-container",children:[(0,aC.jsx)("button",{className:"button",onClick:()=>{const e=window.open("","","height=500,width=800");e.document.write("<html><head><title>Homework</title>"),e.document.write("<style>"),e.document.write("\n                                body { font-family: Arial, sans-serif; margin: 20px; }\n                                .grid { width: 100%; border-collapse: collapse; }\n                                .grid th, .grid td { \n                                    border: 1px solid #ccc;\n                                    padding: 8px;\n                                    text-align: left;\n                                }\n                                .grid th { background-color: #f2f2f2; }\n                            "),e.document.write("</style></head><body>");let t='<table class="grid"><tr><th>Question</th>';S&&(t+="<th>Correct Answer</th>"),t+="<th>Student Answer</th></tr>",g.forEach((e=>{t+="<tr><td>".concat(e.question,"</td>"),S&&(t+="<td>".concat(e.correctAnswer,"</td>")),t+="<td>".concat(e.userAnswer,"</td></tr>")})),t+="</table>",e.document.write(t),e.document.write("</body></html>"),e.document.close(),e.print()},children:d}),(0,aC.jsx)("button",{className:"button",onClick:()=>{const e=window.location.href.split("?")[0],t="".concat(e,"?h=").concat(I);navigator.clipboard.writeText(t).then((()=>{const e=document.createElement("div");e.textContent="URL copied",e.style.cssText="position: fixed; right: 20px; top: 20px; background: rgba(0,0,0,0.7); color: white; padding: 10px 20px; border-radius: 4px; animation: fadeOut 2s forwards;",document.body.appendChild(e),setTimeout((()=>e.remove()),2e3)})).catch((e=>{console.error("Failed to copy URL:",e),alert("Failed to copy URL")}))},children:l})]}),(0,aC.jsx)("button",{className:"show-answers-button",onClick:()=>{S?C(!1):P(!0)},children:S?"Hide Answers":"Show Answers"})]})]}),"explain"!==i&&(0,aC.jsx)("div",{className:"info-text",style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:p}),E&&(0,aC.jsx)("div",{className:"pin-modal",children:(0,aC.jsxs)("div",{className:"pin-modal-content",children:[(0,aC.jsx)("h3",{children:"Enter PIN to view answers"}),(0,aC.jsx)("input",{type:"password",value:b,onChange:e=>w(e.target.value),placeholder:"Enter PIN"}),(0,aC.jsx)("button",{onClick:()=>{"463859"===b?(C(!0),P(!1),w("")):(alert("Incorrect PIN"),w(""))},children:"Submit"}),(0,aC.jsx)("button",{onClick:()=>P(!1),children:"Cancel"})]})}),"explain"!==i&&(0,aC.jsxs)("div",{className:"homework-grid",children:[(0,aC.jsxs)("div",{className:"grid-header",children:[(0,aC.jsx)("div",{className:"question-col",children:"Question"}),S&&(0,aC.jsx)("div",{className:"answer-col",children:"Correct Answer"}),(0,aC.jsx)("div",{className:"user-answer-col",children:"Your Answer"})]}),g.map(((e,n)=>(0,aC.jsxs)("div",{className:"grid-row",children:[(0,aC.jsx)("div",{className:"question-col",children:e.question}),S&&(0,aC.jsx)("div",{className:"answer-col correct-answer",children:e.correctAnswer}),(0,aC.jsx)("div",{className:"user-answer-col",children:(0,aC.jsx)("input",{type:"text",value:e.userAnswer,onChange:e=>(async(e,n)=>{try{if(!t)return;const i=g[e],r=new Date,o=[...g];o[e]={...i,userAnswer:n},m(o);const s=ph(kp,"genai",t.uid,"homework",i.id);await Cp(s,{userAnswer:n,modifiedDateTime:r})}catch(Xm){console.error("Error updating answer:",Xm)}})(n,e.target.value),placeholder:"Enter your answer"})})]},n)))]}),S&&(0,aC.jsxs)(aC.Fragment,{children:[(0,aC.jsx)("input",{type:"text",className:"source-doc-input",value:I,onChange:e=>A(e.target.value),onBlur:M,onKeyPress:e=>"Enter"===e.key&&M(e),placeholder:"Enter Source Document ID"}),(0,aC.jsx)("button",{className:"fetch-button",onClick:()=>O(I),children:"Fetch Questions"})]})]})};let hP="",pP="All",fP="",gP=!1,mP="",vP="### all the text from below is strictly for reference and prompt purpose to answer the question asked above this line. ######### ",yP=!1,SP="",CP="",bP="",wP="",EP="",PP="",IP="",AP="",TP="",kP="",RP="gemini-search",_P="gpt-4o",DP="gemini",xP="gpt-4o",MP="More options",OP="";const NP=function(e){let{user:t,source:n,grade:i,subject:r}=e;const[o,s]=(0,a.useState)(i),[c,l]=(0,a.useState)(""),[u,d]=(0,a.useState)(r),[h,p]=(0,a.useState)(""),[f,g]=(0,a.useState)(null),[m,v]=(0,a.useState)(""),[y,S]=(0,a.useState)(t.uid),[C,b]=(0,a.useState)(!1),[w,E]=(0,a.useState)(.7),P=(0,a.useRef)(w),[I,A]=(0,a.useState)(.8),T=(0,a.useRef)(I),[k,R]=(0,a.useState)([]),[_,D]=(0,a.useState)([]),[x,M]=(0,a.useState)([]),[O,N]=(0,a.useState)([]),[L,z]=(0,a.useState)(!1),[F,q]=(0,a.useState)(!1),[B,j]=(0,a.useState)(!1),[U,V]=(0,a.useState)(""),[H,W]=(0,a.useState)(""),[G,K]=(0,a.useState)(!1),[Q,J]=(0,a.useState)(_p);(0,a.useEffect)((()=>{(async()=>{const e=new URLSearchParams(window.location.search);OP="schoolGradesData",n&&(OP=n,console.log("Source from app parameter:",n)),e.get("source")&&(OP=e.get("source"),console.log("Source from URL parameter:",OP)),"schoolGradesData"===OP&&(console.log("Params:",e.get("source")),J(_p)),"collegeData"===OP&&J(Dp),"automationTestingData"===OP&&J(xp),"mastersData"===OP&&J(Mp),"awsCertificationData"===OP&&J(Op),"azureCertificationData"===OP&&J(Np),"gcpCertificationData"===OP&&J(Lp),await Y()})()}),[]);const Y=async()=>{let e;try{console.log("Fetching Texts from user collection"),e=Yh(hh(kp,"genai","bTGBBpeYPmPJonItYpUOCYhdIlr1","prompts"),Xh("tag",">",""),Xh("fullText",">",""),tp("modifiedDateTime","asc"));(await Sp(e)).forEach((e=>{const t=e.data();switch(t.tag){case"practice-button-label":V(t.fullText);break;case"quiz-button-label":W(t.fullText);break;case"autoPromptSeparator":vP=t.fullText;break;case"quiz_with_choices":PP=t.fullText;break;case"quiz_Multiple_Choices_Label":IP=t.fullText;break;case"bedtime_stories":AP=t.fullText;break;case"quiz":EP=t.fullText;break;case"practice_questions":wP=t.fullText;break;case"explain":kP=t.fullText;break;case"modelQuiz":RP=t.fullText;break;case"modelQuizChoices":_P=t.fullText;break;case"modelHomeWork":DP=t.fullText;break;case"modelExplain":xP=t.fullText;break;case"advanced_features":MP=t.fullText}}))}catch(Xm){console.error("Error fetching texts: ",Xm)}},$=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GenAI";console.log(" modelName "+e+"   ****** Calling API with URL: https://genaiapp-892085575649.us-central1.run.app/"," invocationType: ",n,"  promptText:",t);try{let i,r;switch(n){case"homeWork":t=SP;break;case"quiz":t=CP;break;case"google-search":t="";break;case"quiz_with_choices":t=bP;break;case"explain":t=TP}if(console.log("temp:",P.current.valueOf(),"top_p:",T.current.valueOf()),console.log("promptText:",t),console.log("invocationType:",n),console.log("uid:",y),i=await fetch("https://genaiapp-892085575649.us-central1.run.app/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t,model:e,uid:y,temperature:P.current.valueOf(),top_p:T.current.valueOf(),invocationType:n})}),!i.ok){const e=await i.json();throw alert(e.error+"Failed to generate content"),new Error(e.error||"Failed to generate content.")}r=await i.json(),fP=r[0].results[0].docID,console.log("Generated Doc ID:",fP,"  invocationType:",n),l(n),N(fP),console.log("currenDocID:",O),j(!0)}catch(Xm){console.error("Error generating content:",Xm),alert("Error: ".concat(Xm.message))}finally{hP="",n="",pP="All",gP=!1,yP=!1,console.log("Fetching data after generating content"),console.log("isGeneratingGeminiSearch:",C)}},X=e=>{let{grade:t}=e;return(0,aC.jsxs)("div",{className:"grade-box",children:[(0,aC.jsx)("h3",{children:t}),(0,aC.jsx)("div",{className:"subjects-container",children:Object.keys(Q[t]).map((e=>(0,aC.jsx)("button",{className:"subject-button",onClick:()=>{s(t),d(e)},children:e},e)))})]})};if(G)return console.log("calling GenAI App showGenAIApp:",G," grade ",o,"subject ",u),console.log("  source ",OP),(0,aC.jsx)(uP,{user:t,source:OP,grade:o,subject:u});const Z=e=>{let{grade:n,subject:i}=e;return n&&i&&Q[n]&&Q[n][i]?B?(0,aC.jsx)(dP,{user:t,onBack:()=>j(!1),sourceDocumentID:O,invocationType:c,source:OP,grade:o,subject:u}):(0,aC.jsxs)("div",{className:"subject-content",children:[(0,aC.jsx)("button",{className:"subject-button",onClick:()=>{s(null),d(null),p(""),g(null),v("")},children:"Previous Page"}),"\xa0",(0,aC.jsx)("button",{className:"signupbutton",onClick:()=>K(!0),children:"More options"}),(0,aC.jsxs)("h2",{children:[" ",(0,aC.jsx)("span",{style:{color:"darkBlue"},children:n})," - ",(0,aC.jsx)("span",{style:{color:"darkGreen"},children:i})]}),(0,aC.jsx)("div",{className:"topics-container",children:Q[n][i].map(((e,t)=>(0,aC.jsxs)("div",{className:"topic-item",children:[(0,aC.jsx)("span",{children:e}),"\xa0\xa0",(0,aC.jsx)("button",{onClick:async()=>{D((e=>({...e,[t]:!0}))),await(async e=>{mP=e,console.log("promptInput:",mP),e.trim()?(E(.7),A(.8),await new Promise((e=>setTimeout(e,500))),TP=e+kP,console.log("explainInput:",TP),await $(xP,mP,"explain")):alert("Please enter content to explain.")})(n+" : "+i+" : "+e),D((e=>({...e,[t]:!1})))},className:"button",style:{backgroundColor:"#90EE90",fontSize:"12px",color:"black",marginLeft:"10px"},children:_[t]?(0,aC.jsx)(tf,{className:"spinning"}):"Explain"}),(0,aC.jsx)("button",{onClick:async()=>{R((e=>({...e,[t]:!0}))),await(async e=>{e.trim()?(E(.4),A(.5),await new Promise((e=>setTimeout(e,1e3))),SP=e+wP,console.log("homeWorkInput: ",SP),await $(DP,mP,"homeWork")):alert("Please enter a prompt.")})(n+" : "+i+" : "+e),R((e=>({...e,[t]:!1})))},className:"button",style:{backgroundColor:"darkBlue",fontSize:"12px",color:"white",marginLeft:"10px"},children:k[t]?(0,aC.jsx)(tf,{className:"spinning"}):"Practice Questions"}),(0,aC.jsx)("button",{onClick:async()=>{M((e=>({...e,[t]:!0}))),await(async e=>{mP=e,console.log("promptInput:",mP),e.trim()?(console.log("handleQuiz:",e),E(.3),A(.5),await new Promise((e=>setTimeout(e,1e3))),CP=e+EP,console.log("quizInput:",CP),await $(RP,mP,"quiz")):alert("Please enter a message.")})(n+" : "+i+" : "+e),M((e=>({...e,[t]:!1})))},className:"button",style:{backgroundColor:"lightblue",fontSize:"12px",color:"black",marginLeft:"10px"},children:x[t]?(0,aC.jsx)(tf,{className:"spinning"}):"Quiz"}),(0,aC.jsx)("br",{})]},t)))})]}):(0,aC.jsx)("div",{children:"Loading..."})};return(0,aC.jsx)("div",{className:"App",children:u?(0,aC.jsx)(Z,{grade:o,subject:u}):(0,aC.jsxs)("div",{children:[(0,aC.jsxs)("select",{className:"data-source-select",onChange:e=>{switch(e.target.value){case"schoolGradesData":default:J(_p),OP="schoolGradesData";break;case"collegeData":J(Dp),OP="collegeData";break;case"automationTestingData":J(xp),OP="automationTestingData";break;case"mastersData":J(Mp),OP="mastersData";break;case"awsCertificationData":J(Op),OP="awsCertificationData";break;case"azureCertificationData":J(Np),OP="azureCertificationData";break;case"gcpCertificationData":J(Lp),OP="gcpCertificationData"}},children:[(0,aC.jsx)("option",{value:"",children:"Select Category"}),(0,aC.jsx)("option",{value:"schoolGradesData",children:"School Grades"}),(0,aC.jsx)("option",{value:"collegeData",children:"Bachelors"}),(0,aC.jsx)("option",{value:"mastersData",children:"Masters"}),(0,aC.jsx)("option",{value:"awsCertificationData",children:"AWS Certifications"}),(0,aC.jsx)("option",{value:"azureCertificationData",children:"Azure Certifications"}),(0,aC.jsx)("option",{value:"gcpCertificationData",children:"GCP Certifications"}),(0,aC.jsx)("option",{value:"automationTestingData",children:"Automation Testing"})]}),(0,aC.jsx)("button",{className:"signupbutton",onClick:()=>K(!0),children:"More options"}),"\xa0\xa0\xa0",(0,aC.jsx)("button",{className:"signoutbutton",onClick:async()=>{try{await Rp.signOut()}catch(Xm){console.error("Error signing out:",Xm)}},children:(0,aC.jsx)(ef,{})}),(0,aC.jsx)("div",{className:"grades-container",children:Object.keys(Q).map((e=>(0,aC.jsx)(X,{grade:e},e)))})]})})};const LP=function(e){let{onBackToSignIn:t}=e;const[n,i]=(0,a.useState)(""),[r,o]=(0,a.useState)("");return(0,aC.jsx)("div",{children:(0,aC.jsxs)("div",{style:{fontSize:"22px",width:"100%",margin:"0 auto"},children:[(0,aC.jsx)("br",{}),(0,aC.jsx)("p",{children:"Sign Up"}),(0,aC.jsx)("input",{className:"textinput",type:"email",placeholder:"Email",value:n,onChange:e=>i(e.target.value),required:!0}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{}),(0,aC.jsx)("input",{type:"password",className:"textinput",placeholder:"Password",value:r,onChange:e=>o(e.target.value),required:!0}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{}),(0,aC.jsx)("button",{className:"signuppagebutton",onClick:async()=>{try{const e=await async function(e,t,n){if(We(e.app))return Promise.reject(St(e));const i=An(e),r=Mn(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ti),o=await r.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&di(e),t})),s=await ni._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(s.user),s}(Rp,n,r);await hi(Rp.currentUser),alert("Verification email sent! Please check your inbox."),e.user.emailVerified||await Rp.signOut(),t()}catch(Xm){alert("Error signing up. "+Xm.message),console.error("Error signing up:",Xm)}},children:"Sign Up"}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{}),(0,aC.jsx)("button",{onClick:t,children:"Back to Sign In"})]})})},zP=e=>{let{sourceDocumentID:t}=e;const[n,i]=(0,a.useState)([]),[r,o]=(0,a.useState)(!1),[s,c]=(0,a.useState)(!1),[l,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)(t),[g,m]=(0,a.useState)(!1),v=async()=>{p&&await(async()=>{try{const e=Yh(hh(kp,"homework"),Xh("sourceDocumentID","==",p)),t=await Sp(e);if(!t.empty){const e=t.docs.map((e=>({id:e.id,question:e.data().question,correctAnswer:e.data().correctAnswer,userAnswer:e.data().userAnswer||""})));return i(e),!0}return!1}catch(Xm){return console.error("Error fetching initial questions:",Xm),!1}})()};(0,a.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("h");e&&e.length>5?m(!1):m(!0),console.log("Source Document ID:",t),v()}),[t]);return r?(0,aC.jsx)(uP,{}):(0,aC.jsxs)("div",{className:"homework-container",children:[(0,aC.jsxs)("div",{className:"homework-header",children:[g&&(0,aC.jsx)("button",{className:"signoutbutton",onClick:()=>o(!r),children:(0,aC.jsx)(Jp,{})}),(0,aC.jsx)("button",{className:"button",onClick:()=>{const e=window.open("","","height=500,width=800");e.document.write("<html><head><title>Homework</title>"),e.document.write("<style>"),e.document.write("\n                                body { font-family: Arial, sans-serif; margin: 20px; }\n                                .grid { width: 100%; border-collapse: collapse; }\n                                .grid th, .grid td { \n                                    border: 1px solid #ccc;\n                                    padding: 8px;\n                                    text-align: left;\n                                }\n                                .grid th { background-color: #f2f2f2; }\n                            "),e.document.write("</style></head><body>");let t='<table class="grid"><tr><th>Question</th>';s&&(t+="<th>Correct Answer</th>"),t+="<th>Student Answer</th></tr>",n.forEach((e=>{t+="<tr><td>".concat(e.question,"</td>"),s&&(t+="<td>".concat(e.correctAnswer,"</td>")),t+="<td>".concat(e.userAnswer,"</td></tr>")})),t+="</table>",e.document.write(t),e.document.write("</body></html>"),e.document.close(),e.print()},children:"Print Grid"}),(0,aC.jsx)("button",{className:"show-answers-button",onClick:()=>{s?c(!1):h(!0)},children:s?"Hide Answers":"Show Answers"})]}),(0,aC.jsxs)("div",{className:"homework-grid",children:[(0,aC.jsxs)("div",{className:"grid-header",children:[(0,aC.jsx)("div",{className:"question-col",children:"Question"}),s&&(0,aC.jsx)("div",{className:"answer-col",children:"Correct Answer"}),(0,aC.jsx)("div",{className:"user-answer-col",children:"Your Answer"})]}),n.map(((e,t)=>(0,aC.jsxs)("div",{className:"grid-row",children:[(0,aC.jsx)("div",{className:"question-col",children:e.question}),s&&(0,aC.jsx)("div",{className:"answer-col correct-answer",children:e.correctAnswer}),(0,aC.jsx)("div",{className:"user-answer-col",children:(0,aC.jsx)("input",{type:"text",value:e.userAnswer,onChange:e=>(async(e,t)=>{try{const r=n[e],o=new Date,s=[...n];s[e]={...r,userAnswer:t},i(s);const a=ph(kp,"homework",r.id);await Cp(a,{userAnswer:t,modifiedDateTime:o})}catch(Xm){console.error("Error updating answer:",Xm)}})(t,e.target.value),placeholder:"Enter your answer"})})]},t)))]}),d&&(0,aC.jsx)("div",{className:"pin-modal",children:(0,aC.jsxs)("div",{className:"pin-modal-content",children:[(0,aC.jsx)("h3",{children:"Enter PIN to view answers"}),(0,aC.jsx)("input",{type:"password",value:l,onChange:e=>u(e.target.value),placeholder:"Enter PIN"}),(0,aC.jsx)("button",{onClick:()=>{"463859"===l?(c(!0),h(!1),u("")):(alert("Incorrect PIN"),u(""))},children:"Submit"}),(0,aC.jsx)("button",{onClick:()=>h(!1),children:"Cancel"})]})})]})};const FP=function(){const[e,t]=(0,a.useState)(""),[n,i]=(0,a.useState)(""),[r,o]=(0,a.useState)(null),[s,c]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=pi(Rp,(async e=>{o(e),e&&console.log("Signin component User is signed in:",e.uid)}));return()=>e()}),[]);const l=new URLSearchParams(window.location.search).get("h");return l&&l.length>5?(0,aC.jsx)(zP,{sourceDocumentID:l}):r?(0,aC.jsx)(NP,{user:r}):s?(0,aC.jsx)(LP,{onBackToSignIn:()=>c(!1)}):(0,aC.jsx)("div",{children:(0,aC.jsxs)("div",{style:{fontSize:"22px",width:"100%",margin:"0 auto"},children:[(0,aC.jsx)("br",{}),(0,aC.jsx)("span",{style:{fontSize:"16px",color:"#666"},children:"First time user? Please click on "}),(0,aC.jsx)("button",{className:"signuppagebutton",onClick:()=>c(!0),children:"Sign Up"}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{}),(0,aC.jsx)("input",{className:"textinput",type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{}),(0,aC.jsx)("input",{type:"password",className:"textinput",placeholder:"Password",value:n,onChange:e=>i(e.target.value),required:!0}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{}),(0,aC.jsx)("button",{className:"signonpagebutton",onClick:async()=>{try{const t=await function(e,t,n){return We(e.app)?Promise.reject(St(e)):li(M(e),Qn.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&di(e),t}))}(Rp,e,n);t.user.emailVerified||(await Rp.signOut(),alert("Please verify your email before signing in."))}catch(Xm){alert("Error signing in. "+Xm.message),console.error("Error signing in:",Xm)}},children:"Sign In"}),"\xa0\xa0",(0,aC.jsx)("button",{onClick:async()=>{if(e)try{await async function(e,t,n){const i=An(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ui(i,r,n),await Mn(i,r,"getOobCode",jn)}(Rp,e),alert("Password reset email sent! Please check your inbox.")}catch(Xm){alert("Error sending password reset email. "+Xm.message),console.error("Error sending password reset email:",Xm)}else alert("Please enter your email to reset your password.")},children:"Did you forget Password?"}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{}),(0,aC.jsx)("span",{children:" Or "}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{}),(0,aC.jsx)("button",{className:"signgooglepagebutton",onClick:()=>{const e=new Xn;(async function(e,t,n){if(We(e.app))return Promise.reject(vt(e,"operation-not-supported-in-this-environment"));const i=An(e);Ct(e,t,Jn);const r=Fi(i,n);return new Wi(i,"signInViaPopup",t,r).executeNotNull()})(Rp,e).catch((e=>{console.error("Error signing in with Google:",e),alert("Error signing in with Google: "+e.message)}))},children:"Sign In with Google"}),(0,aC.jsx)("br",{}),(0,aC.jsx)("br",{})]})})};c.createRoot(document.getElementById("root")).render((0,aC.jsx)(a.StrictMode,{children:(0,aC.jsx)(FP,{})}))})()})();
//# sourceMappingURL=main.66c248d7.js.map